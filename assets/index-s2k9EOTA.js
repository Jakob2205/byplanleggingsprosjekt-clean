(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function bb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Ab(){if(Ev)return xl;Ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Tv;function Ib(){return Tv||(Tv=1,Jd.exports=Ab()),Jd.exports}var J=Ib(),em={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function wb(){if(kv)return we;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=k&&x[k]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function F(x,ee,oe){this.props=x,this.context=ee,this.refs=Y,this.updater=oe||M}F.prototype.isReactComponent={},F.prototype.setState=function(x,ee){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ee,"setState")},F.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ne(){}ne.prototype=F.prototype;function re(x,ee,oe){this.props=x,this.context=ee,this.refs=Y,this.updater=oe||M}var te=re.prototype=new ne;te.constructor=re,G(te,F.prototype),te.isPureReactComponent=!0;var _e=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function D(x,ee,oe,se,de,Me){return oe=Me.ref,{$$typeof:r,type:x,key:ee,ref:oe!==void 0?oe:null,props:Me}}function w(x,ee){return D(x.type,ee,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var ee={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return ee[oe]})}var A=/\/+/g;function N(x,ee){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):ee.toString(36)}function I(){}function pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(ee){x.status==="pending"&&(x.status="fulfilled",x.value=ee)},function(ee){x.status==="pending"&&(x.status="rejected",x.reason=ee)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Ce(x,ee,oe,se,de){var Me=typeof x;(Me==="undefined"||Me==="boolean")&&(x=null);var ke=!1;if(x===null)ke=!0;else switch(Me){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(x.$$typeof){case r:case e:ke=!0;break;case E:return ke=x._init,Ce(ke(x._payload),ee,oe,se,de)}}if(ke)return de=de(x),ke=se===""?"."+N(x,0):se,_e(de)?(oe="",ke!=null&&(oe=ke.replace(A,"$&/")+"/"),Ce(de,ee,oe,"",function(Ln){return Ln})):de!=null&&(R(de)&&(de=w(de,oe+(de.key==null||x&&x.key===de.key?"":(""+de.key).replace(A,"$&/")+"/")+ke)),ee.push(de)),1;ke=0;var Vt=se===""?".":se+":";if(_e(x))for(var Ye=0;Ye<x.length;Ye++)se=x[Ye],Me=Vt+N(se,Ye),ke+=Ce(se,ee,oe,Me,de);else if(Ye=b(x),typeof Ye=="function")for(x=Ye.call(x),Ye=0;!(se=x.next()).done;)se=se.value,Me=Vt+N(se,Ye++),ke+=Ce(se,ee,oe,Me,de);else if(Me==="object"){if(typeof x.then=="function")return Ce(pe(x),ee,oe,se,de);throw ee=String(x),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ke}function K(x,ee,oe){if(x==null)return x;var se=[],de=0;return Ce(x,se,"","",function(Me){return ee.call(oe,Me,de++)}),se}function ae(x){if(x._status===-1){var ee=x._result;ee=ee(),ee.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=ee)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function He(){}return we.Children={map:K,forEach:function(x,ee,oe){K(x,function(){ee.apply(this,arguments)},oe)},count:function(x){var ee=0;return K(x,function(){ee++}),ee},toArray:function(x){return K(x,function(ee){return ee})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},we.Component=F,we.Fragment=n,we.Profiler=o,we.PureComponent=re,we.StrictMode=a,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,we.__COMPILER_RUNTIME={__proto__:null,c:function(x){return he.H.useMemoCache(x)}},we.cache=function(x){return function(){return x.apply(null,arguments)}},we.cloneElement=function(x,ee,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var se=G({},x.props),de=x.key,Me=void 0;if(ee!=null)for(ke in ee.ref!==void 0&&(Me=void 0),ee.key!==void 0&&(de=""+ee.key),ee)!Re.call(ee,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ee.ref===void 0||(se[ke]=ee[ke]);var ke=arguments.length-2;if(ke===1)se.children=oe;else if(1<ke){for(var Vt=Array(ke),Ye=0;Ye<ke;Ye++)Vt[Ye]=arguments[Ye+2];se.children=Vt}return D(x.type,de,void 0,void 0,Me,se)},we.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},we.createElement=function(x,ee,oe){var se,de={},Me=null;if(ee!=null)for(se in ee.key!==void 0&&(Me=""+ee.key),ee)Re.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=ee[se]);var ke=arguments.length-2;if(ke===1)de.children=oe;else if(1<ke){for(var Vt=Array(ke),Ye=0;Ye<ke;Ye++)Vt[Ye]=arguments[Ye+2];de.children=Vt}if(x&&x.defaultProps)for(se in ke=x.defaultProps,ke)de[se]===void 0&&(de[se]=ke[se]);return D(x,Me,void 0,void 0,null,de)},we.createRef=function(){return{current:null}},we.forwardRef=function(x){return{$$typeof:m,render:x}},we.isValidElement=R,we.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ae}},we.memo=function(x,ee){return{$$typeof:p,type:x,compare:ee===void 0?null:ee}},we.startTransition=function(x){var ee=he.T,oe={};he.T=oe;try{var se=x(),de=he.S;de!==null&&de(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(He,ge)}catch(Me){ge(Me)}finally{he.T=ee}},we.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},we.use=function(x){return he.H.use(x)},we.useActionState=function(x,ee,oe){return he.H.useActionState(x,ee,oe)},we.useCallback=function(x,ee){return he.H.useCallback(x,ee)},we.useContext=function(x){return he.H.useContext(x)},we.useDebugValue=function(){},we.useDeferredValue=function(x,ee){return he.H.useDeferredValue(x,ee)},we.useEffect=function(x,ee,oe){var se=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(x,ee)},we.useId=function(){return he.H.useId()},we.useImperativeHandle=function(x,ee,oe){return he.H.useImperativeHandle(x,ee,oe)},we.useInsertionEffect=function(x,ee){return he.H.useInsertionEffect(x,ee)},we.useLayoutEffect=function(x,ee){return he.H.useLayoutEffect(x,ee)},we.useMemo=function(x,ee){return he.H.useMemo(x,ee)},we.useOptimistic=function(x,ee){return he.H.useOptimistic(x,ee)},we.useReducer=function(x,ee,oe){return he.H.useReducer(x,ee,oe)},we.useRef=function(x){return he.H.useRef(x)},we.useState=function(x){return he.H.useState(x)},we.useSyncExternalStore=function(x,ee,oe){return he.H.useSyncExternalStore(x,ee,oe)},we.useTransition=function(){return he.H.useTransition()},we.version="19.1.1",we}var Sv;function ig(){return Sv||(Sv=1,em.exports=wb()),em.exports}var z=ig(),tm={exports:{}},Ol={},nm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function Rb(){return bv||(bv=1,(function(r){function e(K,ae){var ge=K.length;K.push(ae);e:for(;0<ge;){var He=ge-1>>>1,x=K[He];if(0<o(x,ae))K[He]=ae,K[ge]=x,ge=He;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ae=K[0],ge=K.pop();if(ge!==ae){K[0]=ge;e:for(var He=0,x=K.length,ee=x>>>1;He<ee;){var oe=2*(He+1)-1,se=K[oe],de=oe+1,Me=K[de];if(0>o(se,ge))de<x&&0>o(Me,se)?(K[He]=Me,K[de]=ge,He=de):(K[He]=se,K[oe]=ge,He=oe);else if(de<x&&0>o(Me,ge))K[He]=Me,K[de]=ge,He=de;else break e}}return ae}function o(K,ae){var ge=K.sortIndex-ae.sortIndex;return ge!==0?ge:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,k=null,b=3,M=!1,G=!1,Y=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function _e(K){for(var ae=n(p);ae!==null;){if(ae.callback===null)a(p);else if(ae.startTime<=K)a(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function he(K){if(Y=!1,_e(K),!G)if(n(g)!==null)G=!0,Re||(Re=!0,N());else{var ae=n(p);ae!==null&&Ce(he,ae.startTime-K)}}var Re=!1,D=-1,w=5,R=-1;function L(){return F?!0:!(r.unstable_now()-R<w)}function A(){if(F=!1,Re){var K=r.unstable_now();R=K;var ae=!0;try{e:{G=!1,Y&&(Y=!1,re(D),D=-1),M=!0;var ge=b;try{t:{for(_e(K),k=n(g);k!==null&&!(k.expirationTime>K&&L());){var He=k.callback;if(typeof He=="function"){k.callback=null,b=k.priorityLevel;var x=He(k.expirationTime<=K);if(K=r.unstable_now(),typeof x=="function"){k.callback=x,_e(K),ae=!0;break t}k===n(g)&&a(g),_e(K)}else a(g);k=n(g)}if(k!==null)ae=!0;else{var ee=n(p);ee!==null&&Ce(he,ee.startTime-K),ae=!1}}break e}finally{k=null,b=ge,M=!1}ae=void 0}}finally{ae?N():Re=!1}}}var N;if(typeof te=="function")N=function(){te(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=A,N=function(){pe.postMessage(null)}}else N=function(){ne(A,0)};function Ce(K,ae){D=ne(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var ge=b;b=ae;try{return K()}finally{b=ge}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=b;b=K;try{return ae()}finally{b=ge}},r.unstable_scheduleCallback=function(K,ae,ge){var He=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,K){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,K={id:E++,callback:ae,priorityLevel:K,startTime:ge,expirationTime:x,sortIndex:-1},ge>He?(K.sortIndex=ge,e(p,K),n(g)===null&&K===n(p)&&(Y?(re(D),D=-1):Y=!0,Ce(he,ge-He))):(K.sortIndex=x,e(g,K),G||M||(G=!0,Re||(Re=!0,N()))),K},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(K){var ae=b;return function(){var ge=b;b=ae;try{return K.apply(this,arguments)}finally{b=ge}}}})(im)),im}var Av;function Cb(){return Av||(Av=1,nm.exports=Rb()),nm.exports}var rm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Nb(){if(Iv)return Yt;Iv=1;var r=ig();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:k==null?null:""+k,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Yt.flushSync=function(g){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=E,a.d.f()}},Yt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},Yt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Yt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,k=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:k,integrity:b,fetchPriority:M}):E==="script"&&a.d.X(g,{crossOrigin:k,integrity:b,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},Yt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,k=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:k,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},Yt.requestFormReset=function(g){a.d.r(g)},Yt.unstable_batchedUpdates=function(g,p){return g(p)},Yt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var wv;function Db(){if(wv)return rm.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=Nb(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function xb(){if(Rv)return Ol;Rv=1;var r=Cb(),e=ig(),n=Db();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,k=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case F:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case te:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}var Ce=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},He=[],x=-1;function ee(t){return{current:t}}function oe(t){0>x||(t.current=He[x],He[x]=null,x--)}function se(t,i){x++,He[x]=t.current,t.current=i}var de=ee(null),Me=ee(null),ke=ee(null),Vt=ee(null);function Ye(t,i){switch(se(ke,i),se(Me,t),se(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q_(i),t=$_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(de),se(de,t)}function Ln(){oe(de),oe(Me),oe(ke)}function Io(t){t.memoizedState!==null&&se(Vt,t);var i=de.current,s=$_(i,t.type);i!==s&&(se(Me,t),se(de,s))}function as(t){Me.current===t&&(oe(de),oe(Me)),Vt.current===t&&(oe(Vt),wl._currentValue=ge)}var ss=Object.prototype.hasOwnProperty,aa=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,wo=r.unstable_requestPaint,rn=r.unstable_now,_u=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Ct=r.unstable_UserBlockingPriority,Ii=r.unstable_NormalPriority,ef=r.unstable_LowPriority,Ro=r.unstable_IdlePriority,tf=r.log,sa=r.unstable_setDisableYieldValue,nr=null,Ft=null;function vn(t){if(typeof tf=="function"&&sa(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(nr,t)}catch{}}var Zt=Math.clz32?Math.clz32:Eu,nf=Math.log,vu=Math.LN2;function Eu(t){return t>>>=0,t===0?32:31-(nf(t)/vu|0)|0}var ei=256,ir=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function En(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):s||(s=T&~t,s!==0&&(h=Vn(s))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):s||(s=l&~t,s!==0&&(h=Vn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function rr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ls(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=ei;return ei<<=1,(ei&4194048)===0&&(ei=256),t}function ar(){var t=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),t}function us(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ht(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tu(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(s=v&~s;0<s;){var Q=31-Zt(s),W=1<<Q;T[Q]=0,C[Q]=-1;var H=U[Q];if(H!==null)for(U[Q]=null,Q=0;Q<H.length;Q++){var j=H[Q];j!==null&&(j.lane&=-536870913)}s&=~W}l!==0&&sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function or(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Zt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function No(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Do(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function rf(t,i){var s=ae.p;try{return ae.p=t,i()}finally{ae.p=s}}var ti=Math.random().toString(36).slice(2),ft="__reactFiber$"+ti,Pt="__reactProps$"+ti,Ri="__reactContainer$"+ti,oa="__reactEvents$"+ti,la="__reactListeners$"+ti,af="__reactHandles$"+ti,Pn="__reactResources$"+ti,lr="__reactMarker$"+ti;function cs(t){delete t[ft],delete t[Pt],delete t[oa],delete t[la],delete t[af]}function ni(t){var i=t[ft];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Ri]||s[ft]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=J_(t);t!==null;){if(s=t[ft])return s;t=J_(t)}return i}t=s,s=t.parentNode}return null}function ii(t){if(t=t[ft]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function cr(t){var i=t[Pn];return i||(i=t[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[lr]=!0}var ku=new Set,ua={};function ri(t,i){ai(t,i),ai(t+"Capture",i)}function ai(t,i){for(ua[t]=i,t=0;t<i.length;t++)ku.add(i[t])}var ca=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),si={},hs={};function sf(t){return ss.call(hs,t)?!0:ss.call(si,t)?!1:ca.test(t)?hs[t]=!0:(si[t]=!0,!1)}function ha(t,i,s){if(sf(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function fa(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Tn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var da,fs;function Ci(t){if(da===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",fs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+fs}var ds=!1;function ms(t,i){if(!t||ds)return"";ds=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(j){var H=j}Reflect.construct(t,[],W)}else{try{W.call()}catch(j){H=j}t.call(W.prototype)}}else{try{throw Error()}catch(j){H=j}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(j){if(j&&H&&typeof j.stack=="string")return[j.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ds=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ci(s):""}function of(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return Ci("Activity");default:return""}}function qn(t){try{var i="";do i+=of(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function st(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ma(t){var i=hr(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fr(t){t._valueTracker||(t._valueTracker=ma(t))}function Qe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=hr(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ga=/[\n"\\]/g;function Nt(t){return t.replace(ga,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xo(t,i,s,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+st(i)):t.value!==""+st(i)&&(t.value=""+st(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Mo(t,v,st(i)):s!=null?Mo(t,v,st(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+st(T):t.removeAttribute("name")}function Oo(t,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+st(s):"",i=i!=null?""+st(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Mo(t,i,s){i==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function dr(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+st(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,s){if(i!=null&&(i=""+st(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+st(s):""}function bu(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ce(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=st(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Di.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Vo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Un(t){return Iu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Po=null;function qo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,Jt=null;function wu(t){var i=ii(t);if(i&&(t=i.stateNode)){var s=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(a(90));xo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Qe(l)}break e;case"textarea":Su(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&dr(t,!!s.multiple,i,!1)}}}var pa=!1;function ya(t,i,s){if(pa)return t(i,s);pa=!0;try{var l=t(i);return l}finally{if(pa=!1,(mr!==null||Jt!==null)&&(pc(),mr&&(i=mr,t=Jt,Jt=mr=null,wu(i),t)))for(i=0;i<t.length;i++)wu(t[i])}}function gr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Pt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(en)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){xi=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{xi=!1}var Sn=null,Je=null,ps=null;function Ru(){if(ps)return ps;var t,i=Je,s=i.length,l,h="value"in Sn?Sn.value:Sn.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return ps=h.slice(t,1<l?1-l:void 0)}function _a(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function va(){return!0}function Uo(){return!1}function At(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?va:Uo,this.isPropagationStopped=Uo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=At(Gt),Ta=E({},Gt,{view:0,detail:0}),ka=At(Ta),ys,Sa,oi,ba=E({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ys=t.screenX-oi.screenX,Sa=t.screenY-oi.screenY):Sa=ys=0,oi=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Aa=At(ba),lf=E({},ba,{dataTransfer:0}),Cu=At(lf),Ia=E({},Ta,{relatedTarget:0}),_s=At(Ia),Nu=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=At(Nu),jo=E({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=At(jo),vs=E({},Gt,{data:0}),zo=At(vs),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Es(){return Mu}var Lu=E({},Ta,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?_a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ts=At(Lu),tn=E({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=At(tn),Vu=E({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),yr=At(Vu),c=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=At(c),_=E({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=At(_),q=E({},Gt,{newState:0,oldState:0}),B=At(q),ie=[9,13,27,32],Ae=en&&"CompositionEvent"in window,nt=null;en&&"documentMode"in document&&(nt=document.documentMode);var Fe=en&&"TextEvent"in window&&!nt,mt=en&&(!Ae||nt&&8<nt&&11>=nt),cn=" ",li=!1;function Hn(t,i){switch(t){case"keyup":return ie.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zn=!1;function Fo(t,i){switch(t){case"compositionend":return jn(i);case"keypress":return i.which!==32?null:(li=!0,cn);case"textInput":return t=i.data,t===cn&&li?null:t;default:return null}}function Wk(t,i){if(zn)return t==="compositionend"||!Ae&&Hn(t,i)?(t=Ru(),ps=Je=Sn=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mt&&i.locale!=="ko"?null:i.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Zk[t.type]:i==="textarea"}function up(t,i,s,l){mr?Jt?Jt.push(l):Jt=[l]:mr=l,i=kc(i,"onChange"),0<i.length&&(s=new Ea("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Go=null,Ko=null;function Jk(t){B_(t,0)}function Pu(t){var i=ur(t);if(Qe(i))return t}function cp(t,i){if(t==="change")return i}var hp=!1;if(en){var uf;if(en){var cf="oninput"in document;if(!cf){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),cf=typeof fp.oninput=="function"}uf=cf}else uf=!1;hp=uf&&(!document.documentMode||9<document.documentMode)}function dp(){Go&&(Go.detachEvent("onpropertychange",mp),Ko=Go=null)}function mp(t){if(t.propertyName==="value"&&Pu(Ko)){var i=[];up(i,Ko,t,qo(t)),ya(Jk,i)}}function eS(t,i,s){t==="focusin"?(dp(),Go=i,Ko=s,Go.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function tS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Ko)}function nS(t,i){if(t==="click")return Pu(i)}function iS(t,i){if(t==="input"||t==="change")return Pu(i)}function rS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:rS;function Yo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ss.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pp(t,i){var s=gp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gp(s)}}function yp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ni(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ni(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var aS=en&&"documentMode"in document&&11>=document.documentMode,ks=null,ff=null,Qo=null,df=!1;function vp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;df||ks==null||ks!==Ni(l)||(l=ks,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Yo(Qo,l)||(Qo=l,l=kc(ff,"onSelect"),0<l.length&&(i=new Ea("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ks)))}function wa(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ss={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},mf={},Ep={};en&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Ra(t){if(mf[t])return mf[t];if(!Ss[t])return t;var i=Ss[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ep)return mf[t]=i[s];return t}var Tp=Ra("animationend"),kp=Ra("animationiteration"),Sp=Ra("animationstart"),sS=Ra("transitionrun"),oS=Ra("transitionstart"),lS=Ra("transitioncancel"),bp=Ra("transitionend"),Ap=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Bn(t,i){Ap.set(t,i),ri(i,[t])}var Ip=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var s=Ip.get(t);return s!==void 0?s:(i={value:t,source:i,stack:qn(i)},Ip.set(t,i),i)}return{value:t,source:i,stack:qn(i)}}var An=[],bs=0,pf=0;function qu(){for(var t=bs,i=pf=bs=0;i<t;){var s=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&wp(s,h,d)}}function Uu(t,i,s,l){An[bs++]=t,An[bs++]=i,An[bs++]=s,An[bs++]=l,pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,s,l){return Uu(t,i,s,l),Hu(t)}function As(t,i){return Uu(t,null,null,i),Hu(t)}function wp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Zt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function Hu(t){if(50<vl)throw vl=0,Sd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Is={};function uS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,s,l){return new uS(t,i,s,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var s=t.alternate;return s===null?(s=fn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Rp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ju(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")_f(t)&&(v=1);else if(typeof t=="string")v=hb(t,s,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=fn(31,s,i,h),t.elementType=R,t.lanes=d,t;case G:return Ca(s.children,h,d,i);case Y:v=8,h|=24;break;case F:return t=fn(12,s,i,h|2),t.elementType=F,t.lanes=d,t;case he:return t=fn(13,s,i,h),t.elementType=he,t.lanes=d,t;case Re:return t=fn(19,s,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case te:v=10;break e;case re:v=9;break e;case _e:v=11;break e;case D:v=14;break e;case w:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=fn(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ca(t,i,s,l){return t=fn(7,t,l,i),t.lanes=s,t}function vf(t,i,s){return t=fn(6,t,null,i),t.lanes=s,t}function Ef(t,i,s){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ws=[],Rs=0,zu=null,Bu=0,In=[],wn=0,Na=null,Li=1,Vi="";function Da(t,i){ws[Rs++]=Bu,ws[Rs++]=zu,zu=t,Bu=i}function Cp(t,i,s){In[wn++]=Li,In[wn++]=Vi,In[wn++]=Na,Na=t;var l=Li;t=Vi;var h=32-Zt(l)-1;l&=~(1<<h),s+=1;var d=32-Zt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Li=1<<32-Zt(i)+h|s<<h|l,Vi=d+t}else Li=1<<d|s<<h|l,Vi=t}function Tf(t){t.return!==null&&(Da(t,1),Cp(t,1,0))}function kf(t){for(;t===zu;)zu=ws[--Rs],ws[Rs]=null,Bu=ws[--Rs],ws[Rs]=null;for(;t===Na;)Na=In[--wn],In[wn]=null,Vi=In[--wn],In[wn]=null,Li=In[--wn],In[wn]=null}var nn=null,ut=null,ze=!1,xa=null,ui=!1,Sf=Error(a(519));function Oa(t){var i=Error(a(418,""));throw Wo(bn(i,t)),Sf}function Np(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ft]=t,i[Pt]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<Tl.length;s++)Oe(Tl[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Oo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fr(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),bu(i,l.value,l.defaultValue,l.children),fr(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Y_(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Sc),i=!0):i=!1,i||Oa(t)}function Dp(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:nn=nn.return}}function $o(t){if(t!==nn)return!1;if(!ze)return Dp(t),ze=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ud(t.type,t.memoizedProps)),s=!s),s&&ut&&Oa(t),Dp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){ut=Gn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Or(t.type)?(t=Bd,Bd=null,ut=t):ut=i):ut=nn?Gn(t.stateNode.nextSibling):null;return!0}function Xo(){ut=nn=null,ze=!1}function xp(){var t=xa;return t!==null&&(on===null?on=t:on.push.apply(on,t),xa=null),t}function Wo(t){xa===null?xa=[t]:xa.push(t)}var bf=ee(null),Ma=null,Pi=null;function _r(t,i,s){se(bf,i._currentValue),i._currentValue=s}function qi(t){t._currentValue=bf.current,oe(bf)}function Af(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function If(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Af(d.return,s,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Af(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Zo(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Vt.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&If(i,t,s,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function La(t){Ma=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Op(Ma,t)}function Gu(t,i){return Ma===null&&La(t),Op(t,i)}function Op(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(a(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return s}var cS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},hS=r.unstable_scheduleCallback,fS=r.unstable_NormalPriority,It={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new cS,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&hS(fS,function(){t.controller.abort()})}var el=null,Rf=0,Cs=0,Ns=null;function dS(t,i){if(el===null){var s=el=[];Rf=0,Cs=Nd(),Ns={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Rf++,i.then(Mp,Mp),i}function Mp(){if(--Rf===0&&el!==null){Ns!==null&&(Ns.status="fulfilled");var t=el;el=null,Cs=0,Ns=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function mS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dS(t,i),Lp!==null&&Lp(t,i)};var Va=ee(null);function Cf(){var t=Va.current;return t!==null?t:et.pooledCache}function Ku(t,i){i===null?se(Va,Va.current):se(Va,i.pool)}function Vp(){var t=Cf();return t===null?null:{parent:It._currentValue,pool:t}}var tl=Error(a(460)),Pp=Error(a(474)),Yu=Error(a(542)),Nf={then:function(){}};function qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function Up(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Qu,Qu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jp(t),t;default:if(typeof i.status=="string")i.then(Qu,Qu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jp(t),t}throw nl=i,tl}}var nl=null;function Hp(){if(nl===null)throw Error(a(459));var t=nl;return nl=null,t}function jp(t){if(t===tl||t===Yu)throw Error(a(483))}var vr=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),wp(t,null,s),i}return Uu(t,l,i,s),Hu(t)}function il(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,or(t,s)}}function Of(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Mf=!1;function rl(){if(Mf){var t=Ns;if(t!==null)throw t}}function al(t,i,s,l){Mf=!1;var h=t.updateQueue;vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,v===null?d=U:v.next=U,v=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=U:T.next=U,Q.lastBaseUpdate=C))}if(d!==null){var W=h.baseState;v=0,Q=U=C=null,T=d;do{var H=T.lane&-536870913,j=H!==T.lane;if(j?(qe&H)===H:(l&H)===H){H!==0&&H===Cs&&(Mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,ye=T;H=i;var We=s;switch(ye.tag){case 1:if(Se=ye.payload,typeof Se=="function"){W=Se.call(We,W,H);break e}W=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ye.payload,H=typeof Se=="function"?Se.call(We,W,H):Se,H==null)break e;W=E({},W,H);break e;case 2:vr=!0}}H=T.callback,H!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[H]:j.push(H))}else j={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(U=Q=j,C=W):Q=Q.next=j,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Q===null&&(C=W),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Cr|=v,t.lanes=v,t.memoizedState=W}}function zp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Bp(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zp(s[t],i)}var Ds=ee(null),$u=ee(0);function Fp(t,i){t=Gi,se($u,t),se(Ds,i),Gi=t|i.baseLanes}function Lf(){se($u,Gi),se(Ds,Ds.current)}function Vf(){Gi=$u.current,oe(Ds),oe($u)}var kr=0,Ne=null,$e=null,vt=null,Xu=!1,xs=!1,Pa=!1,Wu=0,sl=0,Os=null,gS=0;function gt(){throw Error(a(321))}function Pf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!hn(t[s],i[s]))return!1;return!0}function qf(t,i,s,l,h,d){return kr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?wy:Ry,Pa=!1,d=s(l,h),Pa=!1,xs&&(d=Kp(i,s,l,h)),Gp(t),d}function Gp(t){K.H=ic;var i=$e!==null&&$e.next!==null;if(kr=0,vt=$e=Ne=null,Xu=!1,sl=0,Os=null,i)throw Error(a(300));t===null||Dt||(t=t.dependencies,t!==null&&Fu(t)&&(Dt=!0))}function Kp(t,i,s,l){Ne=t;var h=0;do{if(xs&&(Os=null),sl=0,xs=!1,25<=h)throw Error(a(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=kS,d=i(s,l)}while(xs);return d}function pS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Uf(){var t=Wu!==0;return Wu=0,t}function Hf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function jf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}kr=0,vt=$e=Ne=null,xs=!1,sl=Wu=0,Os=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ne.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if($e===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=vt===null?Ne.memoizedState:vt.next;if(i!==null)vt=i,$e=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ne.memoizedState=vt=t:vt=vt.next=t}return vt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=sl;return sl+=1,Os===null&&(Os=[]),t=Up(Os,t,i),i=Ne,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?wy:Ry),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===te)return Kt(t)}throw Error(a(438,String(t)))}function Bf(t){var i=null,s=Ne.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=zf(),Ne.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=L;return i.index++,s}function Ui(t,i){return typeof i=="function"?i(t):i}function Ju(t){var i=Et();return Ff(i,$e,t)}function Ff(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,C=null,U=i,Q=!1;do{var W=U.lane&-536870913;if(W!==U.lane?(qe&W)===W:(kr&W)===W){var H=U.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),W===Cs&&(Q=!0);else if((kr&H)===H){U=U.next,H===Cs&&(Q=!0);continue}else W={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=W,v=d):C=C.next=W,Ne.lanes|=H,Cr|=H;W=U.action,Pa&&s(d,W),d=U.hasEagerState?U.eagerState:s(d,W)}else H={lane:W,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,Ne.lanes|=W,Cr|=W;U=U.next}while(U!==null&&U!==i);if(C===null?v=d:C.next=T,!hn(d,t.memoizedState)&&(Dt=!0,Q&&(s=Ns,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gf(t){var i=Et(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Yp(t,i,s){var l=Ne,h=Et(),d=ze;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!hn(($e||h).memoizedState,s);v&&(h.memoizedState=s,Dt=!0),h=h.queue;var T=Xp.bind(null,l,h,t);if(ll(2048,8,T,[t]),h.getSnapshot!==i||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Ms(9,ec(),$p.bind(null,l,h,s,i),null),et===null)throw Error(a(349));d||(kr&124)!==0||Qp(l,i,s)}return s}function Qp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ne.updateQueue,i===null?(i=zf(),Ne.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function $p(t,i,s,l){i.value=s,i.getSnapshot=l,Wp(i)&&Zp(t)}function Xp(t,i,s){return s(function(){Wp(i)&&Zp(t)})}function Wp(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!hn(t,s)}catch{return!0}}function Zp(t){var i=As(t,2);i!==null&&yn(i,t,2)}function Kf(t){var i=an();if(typeof t=="function"){var s=t;if(t=s(),Pa){vn(!0);try{s()}finally{vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Jp(t,i,s,l){return t.baseState=s,Ff(t,$e,typeof l=="function"?l:Ui)}function yS(t,i,s,l,h){if(nc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,ey(i,d)):(d.next=s.next,i.pending=s.next=d)}}function ey(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=s(h,l),C=K.S;C!==null&&C(v,T),ty(t,i,T)}catch(U){Yf(t,i,U)}finally{K.T=d}}else try{d=s(h,l),ty(t,i,d)}catch(U){Yf(t,i,U)}}function ty(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ny(t,i,l)},function(l){return Yf(t,i,l)}):ny(t,i,s)}function ny(t,i,s){i.status="fulfilled",i.value=s,iy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ey(t,s)))}function Yf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function ay(t,i){if(ze){var s=et.formState;if(s!==null){e:{var l=Ne;if(ze){if(ut){t:{for(var h=ut,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Gn(h.nextSibling),l=h.data==="F!";break e}}Oa(l)}l=!1}l&&(i=s[0])}}return s=an(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},s.queue=l,s=by.bind(null,Ne,l),l.dispatch=s,l=Kf(!1),d=Zf.bind(null,Ne,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=yS.bind(null,Ne,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function sy(t){var i=Et();return oy(i,$e,t)}function oy(t,i,s){if(i=Ff(t,i,ry)[0],t=Ju(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(v){throw v===tl?Yu:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ne.flags|=2048,Ms(9,ec(),_S.bind(null,h,s),null)),[l,d,t]}function _S(t,i){t.action=i}function ly(t){var i=Et(),s=$e;if(s!==null)return oy(i,s,t);Et(),i=i.memoizedState,s=Et();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Ms(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=zf(),Ne.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function ec(){return{destroy:void 0,resource:void 0}}function uy(){return Et().memoizedState}function tc(t,i,s,l){var h=an();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Ms(1|i,ec(),s,l)}function ll(t,i,s,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Pf(l,$e.memoizedState.deps)?h.memoizedState=Ms(i,d,s,l):(Ne.flags|=t,h.memoizedState=Ms(1|i,d,s,l))}function cy(t,i){tc(8390656,8,t,i)}function hy(t,i){ll(2048,8,t,i)}function fy(t,i){return ll(4,2,t,i)}function dy(t,i){return ll(4,4,t,i)}function my(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,s){s=s!=null?s.concat([t]):null,ll(4,4,my.bind(null,i,t),s)}function Qf(){}function py(t,i){var s=Et();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Pf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function yy(t,i){var s=Et();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Pf(i,l[1]))return l[0];if(l=t(),Pa){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,i],l}function $f(t,i,s){return s===void 0||(kr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=E_(),Ne.lanes|=t,Cr|=t,s)}function _y(t,i,s,l){return hn(s,i)?s:Ds.current!==null?(t=$f(t,s,l),hn(t,i)||(Dt=!0),t):(kr&42)===0?(Dt=!0,t.memoizedState=s):(t=E_(),Ne.lanes|=t,Cr|=t,i)}function vy(t,i,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Zf(t,!1,i,s);try{var C=h(),U=K.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=mS(C,l);ul(t,i,Q,pn(t))}else ul(t,i,l,pn(t))}catch(W){ul(t,i,{then:function(){},status:"rejected",reason:W},pn())}finally{ae.p=d,K.T=v}}function vS(){}function Xf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Ey(t).queue;vy(t,h,i,ge,s===null?vS:function(){return Ty(t),s(l)})}function Ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=Ey(t).next.queue;ul(t,i,{},pn())}function Wf(){return Kt(wl)}function ky(){return Et().memoizedState}function Sy(){return Et().memoizedState}function ES(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=pn();t=Er(s);var l=Tr(i,t,s);l!==null&&(yn(l,i,s),il(l,i,s)),i={cache:wf()},t.payload=i;return}i=i.return}}function TS(t,i,s){var l=pn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},nc(t)?Ay(i,s):(s=yf(t,i,s,l),s!==null&&(yn(s,t,l),Iy(s,i,l)))}function by(t,i,s){var l=pn();ul(t,i,s,l)}function ul(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Uu(t,i,h,0),et===null&&qu(),!1}catch{}finally{}if(s=yf(t,i,h,l),s!==null)return yn(s,t,l),Iy(s,i,l),!0}return!1}function Zf(t,i,s,l){if(l={lane:2,revertLane:Nd(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(a(479))}else i=yf(t,s,l,2),i!==null&&yn(i,t,2)}function nc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Ay(t,i){xs=Xu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Iy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,or(t,s)}}var ic={readContext:Kt,use:Zu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},wy={readContext:Kt,use:Zu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:cy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,tc(4194308,4,my.bind(null,i,t),s)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var s=an();i=i===void 0?null:i;var l=t();if(Pa){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=an();if(s!==void 0){var h=s(i);if(Pa){vn(!0);try{s(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,s=by.bind(null,Ne,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Qf,useDeferredValue:function(t,i){var s=an();return $f(s,t,i)},useTransition:function(){var t=Kf(!1);return t=vy.bind(null,Ne,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ne,h=an();if(ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),et===null)throw Error(a(349));(qe&124)!==0||Qp(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,cy(Xp.bind(null,l,d,t),[t]),l.flags|=2048,Ms(9,ec(),$p.bind(null,l,d,s,i),null),s},useId:function(){var t=an(),i=et.identifierPrefix;if(ze){var s=Vi,l=Li;s=(l&~(1<<32-Zt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Wu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=gS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Wf,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Zf.bind(null,Ne,!0,s),s.dispatch=i,[t,i]},useMemoCache:Bf,useCacheRefresh:function(){return an().memoizedState=ES.bind(null,Ne)}},Ry={readContext:Kt,use:Zu,useCallback:py,useContext:Kt,useEffect:hy,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Ju,useRef:uy,useState:function(){return Ju(Ui)},useDebugValue:Qf,useDeferredValue:function(t,i){var s=Et();return _y(s,$e.memoizedState,t,i)},useTransition:function(){var t=Ju(Ui)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Yp,useId:ky,useHostTransitionStatus:Wf,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var s=Et();return Jp(s,$e,t,i)},useMemoCache:Bf,useCacheRefresh:Sy},kS={readContext:Kt,use:Zu,useCallback:py,useContext:Kt,useEffect:hy,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Gf,useRef:uy,useState:function(){return Gf(Ui)},useDebugValue:Qf,useDeferredValue:function(t,i){var s=Et();return $e===null?$f(s,t,i):_y(s,$e.memoizedState,t,i)},useTransition:function(){var t=Gf(Ui)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Yp,useId:ky,useHostTransitionStatus:Wf,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var s=Et();return $e!==null?Jp(s,$e,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Sy},Ls=null,cl=0;function rc(t){var i=cl;return cl+=1,Ls===null&&(Ls=[]),Up(Ls,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Cy(t){var i=t._init;return i(t._payload)}function Ny(t){function i(V,O){if(t){var P=V.deletions;P===null?(V.deletions=[O],V.flags|=16):P.push(O)}}function s(V,O){if(!t)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Mi(V,O),V.index=0,V.sibling=null,V}function d(V,O,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<O?(V.flags|=67108866,O):P):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,P,$){return O===null||O.tag!==6?(O=vf(P,V.mode,$),O.return=V,O):(O=h(O,P),O.return=V,O)}function C(V,O,P,$){var ce=P.type;return ce===G?Q(V,O,P.props.children,$,P.key):O!==null&&(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Cy(ce)===O.type)?(O=h(O,P.props),hl(O,P),O.return=V,O):(O=ju(P.type,P.key,P.props,null,V.mode,$),hl(O,P),O.return=V,O)}function U(V,O,P,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Ef(P,V.mode,$),O.return=V,O):(O=h(O,P.children||[]),O.return=V,O)}function Q(V,O,P,$,ce){return O===null||O.tag!==7?(O=Ca(P,V.mode,$,ce),O.return=V,O):(O=h(O,P),O.return=V,O)}function W(V,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vf(""+O,V.mode,P),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return P=ju(O.type,O.key,O.props,null,V.mode,P),hl(P,O),P.return=V,P;case M:return O=Ef(O,V.mode,P),O.return=V,O;case w:var $=O._init;return O=$(O._payload),W(V,O,P)}if(Ce(O)||N(O))return O=Ca(O,V.mode,P,null),O.return=V,O;if(typeof O.then=="function")return W(V,rc(O),P);if(O.$$typeof===te)return W(V,Gu(V,O),P);ac(V,O)}return null}function H(V,O,P,$){var ce=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ce!==null?null:T(V,O,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return P.key===ce?C(V,O,P,$):null;case M:return P.key===ce?U(V,O,P,$):null;case w:return ce=P._init,P=ce(P._payload),H(V,O,P,$)}if(Ce(P)||N(P))return ce!==null?null:Q(V,O,P,$,null);if(typeof P.then=="function")return H(V,O,rc(P),$);if(P.$$typeof===te)return H(V,O,Gu(V,P),$);ac(V,P)}return null}function j(V,O,P,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return V=V.get(P)||null,T(O,V,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return V=V.get($.key===null?P:$.key)||null,C(O,V,$,ce);case M:return V=V.get($.key===null?P:$.key)||null,U(O,V,$,ce);case w:var De=$._init;return $=De($._payload),j(V,O,P,$,ce)}if(Ce($)||N($))return V=V.get(P)||null,Q(O,V,$,ce,null);if(typeof $.then=="function")return j(V,O,P,rc($),ce);if($.$$typeof===te)return j(V,O,P,Gu(O,$),ce);ac(O,$)}return null}function Se(V,O,P,$){for(var ce=null,De=null,fe=O,ve=O=0,Ot=null;fe!==null&&ve<P.length;ve++){fe.index>ve?(Ot=fe,fe=null):Ot=fe.sibling;var je=H(V,fe,P[ve],$);if(je===null){fe===null&&(fe=Ot);break}t&&fe&&je.alternate===null&&i(V,fe),O=d(je,O,ve),De===null?ce=je:De.sibling=je,De=je,fe=Ot}if(ve===P.length)return s(V,fe),ze&&Da(V,ve),ce;if(fe===null){for(;ve<P.length;ve++)fe=W(V,P[ve],$),fe!==null&&(O=d(fe,O,ve),De===null?ce=fe:De.sibling=fe,De=fe);return ze&&Da(V,ve),ce}for(fe=l(fe);ve<P.length;ve++)Ot=j(fe,V,ve,P[ve],$),Ot!==null&&(t&&Ot.alternate!==null&&fe.delete(Ot.key===null?ve:Ot.key),O=d(Ot,O,ve),De===null?ce=Ot:De.sibling=Ot,De=Ot);return t&&fe.forEach(function(qr){return i(V,qr)}),ze&&Da(V,ve),ce}function ye(V,O,P,$){if(P==null)throw Error(a(151));for(var ce=null,De=null,fe=O,ve=O=0,Ot=null,je=P.next();fe!==null&&!je.done;ve++,je=P.next()){fe.index>ve?(Ot=fe,fe=null):Ot=fe.sibling;var qr=H(V,fe,je.value,$);if(qr===null){fe===null&&(fe=Ot);break}t&&fe&&qr.alternate===null&&i(V,fe),O=d(qr,O,ve),De===null?ce=qr:De.sibling=qr,De=qr,fe=Ot}if(je.done)return s(V,fe),ze&&Da(V,ve),ce;if(fe===null){for(;!je.done;ve++,je=P.next())je=W(V,je.value,$),je!==null&&(O=d(je,O,ve),De===null?ce=je:De.sibling=je,De=je);return ze&&Da(V,ve),ce}for(fe=l(fe);!je.done;ve++,je=P.next())je=j(fe,V,ve,je.value,$),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?ve:je.key),O=d(je,O,ve),De===null?ce=je:De.sibling=je,De=je);return t&&fe.forEach(function(Sb){return i(V,Sb)}),ze&&Da(V,ve),ce}function We(V,O,P,$){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case b:e:{for(var ce=P.key;O!==null;){if(O.key===ce){if(ce=P.type,ce===G){if(O.tag===7){s(V,O.sibling),$=h(O,P.props.children),$.return=V,V=$;break e}}else if(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Cy(ce)===O.type){s(V,O.sibling),$=h(O,P.props),hl($,P),$.return=V,V=$;break e}s(V,O);break}else i(V,O);O=O.sibling}P.type===G?($=Ca(P.props.children,V.mode,$,P.key),$.return=V,V=$):($=ju(P.type,P.key,P.props,null,V.mode,$),hl($,P),$.return=V,V=$)}return v(V);case M:e:{for(ce=P.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(V,O.sibling),$=h(O,P.children||[]),$.return=V,V=$;break e}else{s(V,O);break}else i(V,O);O=O.sibling}$=Ef(P,V.mode,$),$.return=V,V=$}return v(V);case w:return ce=P._init,P=ce(P._payload),We(V,O,P,$)}if(Ce(P))return Se(V,O,P,$);if(N(P)){if(ce=N(P),typeof ce!="function")throw Error(a(150));return P=ce.call(P),ye(V,O,P,$)}if(typeof P.then=="function")return We(V,O,rc(P),$);if(P.$$typeof===te)return We(V,O,Gu(V,P),$);ac(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(V,O.sibling),$=h(O,P),$.return=V,V=$):(s(V,O),$=vf(P,V.mode,$),$.return=V,V=$),v(V)):s(V,O)}return function(V,O,P,$){try{cl=0;var ce=We(V,O,P,$);return Ls=null,ce}catch(fe){if(fe===tl||fe===Yu)throw fe;var De=fn(29,fe,null,V.mode);return De.lanes=$,De.return=V,De}finally{}}}var Vs=Ny(!0),Dy=Ny(!1),Rn=ee(null),ci=null;function Sr(t){var i=t.alternate;se(wt,wt.current&1),se(Rn,t),ci===null&&(i===null||Ds.current!==null||i.memoizedState!==null)&&(ci=t)}function xy(t){if(t.tag===22){if(se(wt,wt.current),se(Rn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else br()}function br(){se(wt,wt.current),se(Rn,Rn.current)}function Hi(t){oe(Rn),ci===t&&(ci=null),oe(wt)}var wt=ee(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||zd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Jf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ed={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=pn(),h=Er(l);h.payload=i,s!=null&&(h.callback=s),i=Tr(t,h,l),i!==null&&(yn(i,t,l),il(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=pn(),h=Er(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Tr(t,h,l),i!==null&&(yn(i,t,l),il(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=pn(),l=Er(s);l.tag=2,i!=null&&(l.callback=i),i=Tr(t,l,s),i!==null&&(yn(i,t,s),il(i,t,s))}};function Oy(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Yo(s,l)||!Yo(h,d):!0}function My(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&ed.enqueueReplaceState(i,i.state,null)}function qa(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ly(t){oc(t)}function Vy(t){console.error(t)}function Py(t){oc(t)}function lc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(t,i,s){return s=Er(s),s.tag=3,s.payload={element:null},s.callback=function(){lc(t,i)},s}function Uy(t){return t=Er(t),t.tag=3,t}function Hy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){qy(i,s,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function SS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Zo(i,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return ci===null?Ad():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Nf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),wd(t,l,h)),!1;case 22:return s.flags|=65536,l===Nf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),wd(t,l,h)),!1}throw Error(a(435,s.tag))}return wd(t,l,h),Ad(),!1}if(ze)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(t=Error(a(422),{cause:l}),Wo(bn(t,s)))):(l!==Sf&&(i=Error(a(423),{cause:l}),Wo(bn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,s),h=td(t.stateNode,l,h),Of(t,h),ct!==4&&(ct=2)),!1;var d=Error(a(520),{cause:l});if(d=bn(d,s),_l===null?_l=[d]:_l.push(d),ct!==4&&(ct=2),i===null)return!0;l=bn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=td(s.stateNode,l,t),Of(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Uy(h),Hy(h,t,s,l),Of(s,h),!1}s=s.return}while(s!==null);return!1}var jy=Error(a(461)),Dt=!1;function qt(t,i,s,l){i.child=t===null?Dy(i,null,s,l):Vs(i,t.child,s,l)}function zy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return La(i),l=qf(t,i,s,v,d,h),T=Uf(),t!==null&&!Dt?(Hf(t,i,h),ji(t,i,h)):(ze&&T&&Tf(i),i.flags|=1,qt(t,i,l,h),i.child)}function By(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Fy(t,i,d,l,h)):(t=ju(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ud(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Yo,s(v,l)&&t.ref===i.ref)return ji(t,i,h)}return i.flags|=1,t=Mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Fy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,ud(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,ji(t,i,h)}return nd(t,i,s,l,h)}function Gy(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ky(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(i,d!==null?d.cachePool:null),d!==null?Fp(i,d):Lf(),xy(i);else return i.lanes=i.childLanes=536870912,Ky(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Ku(i,d.cachePool),Fp(i,d),br(),i.memoizedState=null):(t!==null&&Ku(i,null),Lf(),br());return qt(t,i,h,s),i.child}function Ky(t,i,s,l){var h=Cf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Ku(i,null),Lf(),xy(i),t!==null&&Zo(t,i,l,!0),null}function uc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function nd(t,i,s,l,h){return La(i),s=qf(t,i,s,l,void 0,h),l=Uf(),t!==null&&!Dt?(Hf(t,i,h),ji(t,i,h)):(ze&&l&&Tf(i),i.flags|=1,qt(t,i,s,h),i.child)}function Yy(t,i,s,l,h,d){return La(i),i.updateQueue=null,s=Kp(i,l,s,h),Gp(t),l=Uf(),t!==null&&!Dt?(Hf(t,i,d),ji(t,i,d)):(ze&&l&&Tf(i),i.flags|=1,qt(t,i,s,d),i.child)}function Qy(t,i,s,l,h){if(La(i),i.stateNode===null){var d=Is,v=s.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Df(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Is,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Jf(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ed.enqueueReplaceState(d,d.state,null),al(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=qa(s,T);d.props=C;var U=d.context,Q=s.contextType;v=Is,typeof Q=="object"&&Q!==null&&(v=Kt(Q));var W=s.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&My(i,d,l,v),vr=!1;var H=i.memoizedState;d.state=H,al(i,l,d,h),rl(),U=i.memoizedState,T||H!==U||vr?(typeof W=="function"&&(Jf(i,s,W,l),U=i.memoizedState),(C=vr||Oy(i,s,C,l,H,U,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,xf(t,i),v=i.memoizedProps,Q=qa(s,v),d.props=Q,W=i.pendingProps,H=d.context,U=s.contextType,C=Is,typeof U=="object"&&U!==null&&(C=Kt(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==C)&&My(i,d,l,C),vr=!1,H=i.memoizedState,d.state=H,al(i,l,d,h),rl();var j=i.memoizedState;v!==W||H!==j||vr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(Jf(i,s,T,l),j=i.memoizedState),(Q=vr||Oy(i,s,Q,l,H,j,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vs(i,t.child,null,h),i.child=Vs(i,null,s,h)):qt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=ji(t,i,h),t}function $y(t,i,s,l){return Xo(),i.flags|=256,qt(t,i,s,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:Vp()}}function ad(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Cn),t}function Xy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Sr(i):br(),ze){var T=ut,C;if(C=T){e:{for(C=T,T=ui;C.nodeType!==8;){if(!T){T=null;break e}if(C=Gn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Na!==null?{id:Li,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},C=fn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,nn=i,ut=null,C=!0):C=!1}C||Oa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zd(T)?i.lanes=32:i.lanes=536870912,null;Hi(i)}return T=l.children,l=l.fallback,h?(br(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=Ca(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=rd(s),h.childLanes=ad(t,v,s),i.memoizedState=id,l):(Sr(i),sd(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Sr(i),i.flags&=-257,i=od(t,i,s)):i.memoizedState!==null?(br(),i.child=t.child,i.flags|=128,i=null):(br(),h=l.fallback,T=i.mode,l=cc({mode:"visible",children:l.children},T),h=Ca(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Vs(i,t.child,null,s),l=i.child,l.memoizedState=rd(s),l.childLanes=ad(t,v,s),i.memoizedState=id,i=h);else if(Sr(i),zd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(a(419)),l.stack="",l.digest=v,Wo({value:l,source:null,stack:null}),i=od(t,i,s)}else if(Dt||Zo(t,i,s,!1),v=(s&t.childLanes)!==0,Dt||v){if(v=et,v!==null&&(l=s&-s,l=(l&42)!==0?1:No(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,As(t,l),yn(v,t,l),jy;T.data==="$?"||Ad(),i=od(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ut=Gn(T.nextSibling),nn=i,ze=!0,xa=null,ui=!1,t!==null&&(In[wn++]=Li,In[wn++]=Vi,In[wn++]=Na,Li=t.id,Vi=t.overflow,Na=i),i=sd(i,l.children),i.flags|=4096);return i}return h?(br(),h=l.fallback,T=i.mode,C=t.child,U=C.sibling,l=Mi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?h=Mi(U,h):(h=Ca(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=rd(s):(C=T.cachePool,C!==null?(U=It._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Vp(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=ad(t,v,s),i.memoizedState=id,l):(Sr(i),s=t.child,t=s.sibling,s=Mi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function sd(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function od(t,i,s){return Vs(i,t.child,null,s),t=sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Af(t.return,i,s)}function ld(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Zy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,s),l=wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,s,i);else if(t.tag===19)Wy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(wt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&sc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),ld(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}ld(i,!0,s,null,d);break;case"together":ld(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Cr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Zo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Mi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Mi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ud(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function bS(t,i,s){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),_r(i,It,t.memoizedState.cache),Xo();break;case 27:case 5:Io(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Xy(t,i,s):(Sr(i),t=ji(t,i,s),t!==null?t.sibling:null);Sr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Zo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Zy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(wt,wt.current),l)break;return null;case 22:case 23:return i.lanes=0,Gy(t,i,s);case 24:_r(i,It,t.memoizedState.cache)}return ji(t,i,s)}function Jy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!ud(t,s)&&(i.flags&128)===0)return Dt=!1,bS(t,i,s);Dt=(t.flags&131072)!==0}else Dt=!1,ze&&(i.flags&1048576)!==0&&Cp(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")_f(l)?(t=qa(l,t),i.tag=1,i=Qy(null,i,l,t,s)):(i.tag=0,i=nd(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===_e){i.tag=11,i=zy(null,i,l,t,s);break e}else if(h===D){i.tag=14,i=By(null,i,l,t,s);break e}}throw i=pe(l)||l,Error(a(306,i,""))}}return i;case 0:return nd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=qa(l,i.pendingProps),Qy(t,i,l,h,s);case 3:e:{if(Ye(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,xf(t,i),al(i,l,null,s);var v=i.memoizedState;if(l=v.cache,_r(i,It,l),l!==d.cache&&If(i,[It],s,!0),rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$y(t,i,l,s);break e}else if(l!==h){h=bn(Error(a(424)),i),Wo(h),i=$y(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Gn(t.firstChild),nn=i,ze=!0,xa=null,ui=!0,s=Dy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xo(),l===h){i=ji(t,i,s);break e}qt(t,i,l,s)}i=i.child}return i;case 26:return uc(t,i),t===null?(s=iv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ze||(s=i.type,t=i.pendingProps,l=bc(ke.current).createElement(s),l[ft]=i,l[Pt]=t,Ht(l,s,t),dt(l),i.stateNode=l):i.memoizedState=iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Io(i),t===null&&ze&&(l=i.stateNode=ev(i.type,i.pendingProps,ke.current),nn=i,ui=!0,h=ut,Or(i.type)?(Bd=h,ut=Gn(l.firstChild)):ut=h),qt(t,i,i.pendingProps.children,s),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=ut)&&(l=ZS(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,nn=i,ut=Gn(l.firstChild),ui=!1,h=!0):h=!1),h||Oa(i)),Io(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ud(h,d)?l=null:v!==null&&Ud(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,pS,null,null,s),wl._currentValue=h),uc(t,i),qt(t,i,l,s),i.child;case 6:return t===null&&ze&&((t=s=ut)&&(s=JS(s,i.pendingProps,ui),s!==null?(i.stateNode=s,nn=i,ut=null,t=!0):t=!1),t||Oa(i)),null;case 13:return Xy(t,i,s);case 4:return Ye(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vs(i,null,l,s):qt(t,i,l,s),i.child;case 11:return zy(t,i,i.type,i.pendingProps,s);case 7:return qt(t,i,i.pendingProps,s),i.child;case 8:return qt(t,i,i.pendingProps.children,s),i.child;case 12:return qt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,_r(i,i.type,l.value),qt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,La(i),h=Kt(h),l=l(h),i.flags|=1,qt(t,i,l,s),i.child;case 14:return By(t,i,i.type,i.pendingProps,s);case 15:return Fy(t,i,i.type,i.pendingProps,s);case 19:return Zy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=cc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Mi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Gy(t,i,s);case 24:return La(i),l=Kt(It),t===null?(h=Cf(),h===null&&(h=et,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Df(i),_r(i,It,h)):((t.lanes&s)!==0&&(xf(t,i),al(i,null,null,s),rl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,It,l)):(l=d.cache,_r(i,It,l),l!==h.cache&&If(i,[It],s,!0))),qt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function zi(t){t.flags|=4}function e_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(i)){if(i=Rn.current,i!==null&&((qe&4194048)===qe?ci!==null:(qe&62914560)!==qe&&(qe&536870912)===0||i!==ci))throw nl=Nf,Pp;t.flags|=8192}}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ar():536870912,t.lanes|=i,Hs|=i)}function fl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function AS(t,i,s){var l=i.pendingProps;switch(kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(It),Ln(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&($o(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xp())),ot(i),null;case 26:return s=i.memoizedState,t===null?(zi(i),s!==null?(ot(i),e_(i,s)):(ot(i),i.flags&=-16777217)):s?s!==t.memoizedState?(zi(i),ot(i),e_(i,s)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&zi(i),ot(i),i.flags&=-16777217),null;case 27:as(i),s=ke.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ot(i),null}t=de.current,$o(i)?Np(i):(t=ev(h,l,s),i.stateNode=t,zi(i))}return ot(i),null;case 5:if(as(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ot(i),null}if(t=de.current,$o(i))Np(i);else{switch(h=bc(ke.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[ft]=i,t[Pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ht(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zi(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=ke.current,$o(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ft]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,s)),t||Oa(i)}else t=bc(t).createTextNode(l),t[ft]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$o(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ft]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=xp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hi(i),i):(Hi(i),null)}if(Hi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),hc(i,i.updateQueue),ot(i),null;case 4:return Ln(),t===null&&Md(i.stateNode.containerInfo),ot(i),null;case 10:return qi(i.type),ot(i),null;case 19:if(oe(wt),h=i.memoizedState,h===null)return ot(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,fl(h,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Rp(s,t),s=s.sibling;return se(wt,wt.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>mc&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304)}else{if(!l)if(t=sc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return ot(i),null}else 2*rn()-h.renderingStartTime>mc&&s!==536870912&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=wt.current,se(wt,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return Hi(i),Vf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),s=i.updateQueue,s!==null&&hc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&oe(Va),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),qi(It),ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function IS(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(It),Ln(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return as(i),null;case 13:if(Hi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(wt),null;case 4:return Ln(),null;case 10:return qi(i.type),null;case 22:case 23:return Hi(i),Vf(),t!==null&&oe(Va),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(It),null;case 25:return null;default:return null}}function t_(t,i){switch(kf(i),i.tag){case 3:qi(It),Ln();break;case 26:case 27:case 5:as(i);break;case 4:Ln();break;case 13:Hi(i);break;case 19:oe(wt);break;case 10:qi(i.type);break;case 22:case 23:Hi(i),Vf(),t!==null&&oe(Va);break;case 24:qi(It)}}function dl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Ze(i,i.return,T)}}function Ar(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=s,U=T;try{U()}catch(Q){Ze(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ze(i,i.return,Q)}}function n_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Bp(i,s)}catch(l){Ze(t,t.return,l)}}}function i_(t,i,s){s.props=qa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,i,l)}}function ml(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ze(t,i,h)}}function hi(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,i,h)}else s.current=null}function r_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function cd(t,i,s){try{var l=t.stateNode;YS(l,t.type,s,i),l[Pt]=i}catch(h){Ze(t,t.return,h)}}function a_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Or(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Sc));else if(l!==4&&(l===27&&Or(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,s),t=t.sibling;t!==null;)fd(t,i,s),t=t.sibling}function fc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Or(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(fc(t,i,s),t=t.sibling;t!==null;)fc(t,i,s),t=t.sibling}function s_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,s),i[ft]=t,i[Pt]=s}catch(d){Ze(t,t.return,d)}}var Bi=!1,pt=!1,dd=!1,o_=typeof WeakSet=="function"?WeakSet:Set,xt=null;function wS(t,i){if(t=t.containerInfo,Pd=Nc,t=_p(t),hf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,C=-1,U=0,Q=0,W=t,H=null;t:for(;;){for(var j;W!==s||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(C=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(j=W.firstChild)!==null;)H=W,W=j;for(;;){if(W===t)break t;if(H===s&&++U===h&&(T=v),H===d&&++Q===l&&(C=v),(j=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=j}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(qd={focusedElem:t,selectionRange:s},Nc=!1,xt=i;xt!==null;)if(i=xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,xt=t;else for(;xt!==null;){switch(i=xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Se=qa(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)jd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,xt=t;break}xt=i.return}}function l_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ir(t,s),l&4&&dl(5,s);break;case 1:if(Ir(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(s,s.return,v)}else{var h=qa(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(s,s.return,v)}}l&64&&n_(s),l&512&&ml(s,s.return);break;case 3:if(Ir(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Bp(t,i)}catch(v){Ze(s,s.return,v)}}break;case 27:i===null&&l&4&&s_(s);case 26:case 5:Ir(t,s),i===null&&l&4&&r_(s),l&512&&ml(s,s.return);break;case 12:Ir(t,s);break;case 13:Ir(t,s),l&4&&h_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=VS.bind(null,s),eb(t,s))));break;case 22:if(l=s.memoizedState!==null||Bi,!l){i=i!==null&&i.memoizedState!==null||pt,h=Bi;var d=pt;Bi=l,(pt=i)&&!d?wr(t,s,(s.subtreeFlags&8772)!==0):Ir(t,s),Bi=h,pt=d}break;case 30:break;default:Ir(t,s)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&cs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,sn=!1;function Fi(t,i,s){for(s=s.child;s!==null;)c_(t,i,s),s=s.sibling}function c_(t,i,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(nr,s)}catch{}switch(s.tag){case 26:pt||hi(s,i),Fi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pt||hi(s,i);var l=rt,h=sn;Or(s.type)&&(rt=s.stateNode,sn=!1),Fi(t,i,s),Sl(s.stateNode),rt=l,sn=h;break;case 5:pt||hi(s,i);case 6:if(l=rt,h=sn,rt=null,Fi(t,i,s),rt=l,sn=h,rt!==null)if(sn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(d){Ze(s,i,d)}else try{rt.removeChild(s.stateNode)}catch(d){Ze(s,i,d)}break;case 18:rt!==null&&(sn?(t=rt,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Dl(t)):Z_(rt,s.stateNode));break;case 4:l=rt,h=sn,rt=s.stateNode.containerInfo,sn=!0,Fi(t,i,s),rt=l,sn=h;break;case 0:case 11:case 14:case 15:pt||Ar(2,s,i),pt||Ar(4,s,i),Fi(t,i,s);break;case 1:pt||(hi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&i_(s,i,l)),Fi(t,i,s);break;case 21:Fi(t,i,s);break;case 22:pt=(l=pt)||s.memoizedState!==null,Fi(t,i,s),pt=l;break;default:Fi(t,i,s)}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(s){Ze(i,i.return,s)}}function RS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o_),i;default:throw Error(a(435,t.tag))}}function md(t,i){var s=RS(t);i.forEach(function(l){var h=PS.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function dn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Or(T.type)){rt=T.stateNode,sn=!1;break e}break;case 5:rt=T.stateNode,sn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(rt===null)throw Error(a(160));c_(d,v,h),rt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)f_(i,t),i=i.sibling}var Fn=null;function f_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Ar(3,t,t.return),dl(3,t),Ar(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(pt||s===null||hi(s,s.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Fn;if(dn(i,t),mn(t),l&512&&(pt||s===null||hi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[lr]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,s),d[ft]=t,dt(d),l=d;break e;case"link":var v=sv("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,s),h.head.appendChild(d);break;case"meta":if(v=sv("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ft]=t,dt(d),l=d}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=av(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?ov(h,t.type,t.stateNode):av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cd(t,t.memoizedProps,s.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(pt||s===null||hi(s,s.return)),s!==null&&l&4&&cd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(pt||s===null||hi(s,s.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(j){Ze(t,t.return,j)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(j){Ze(t,t.return,j)}}break;case 3:if(wc=null,h=Fn,Fn=Ac(i.containerInfo),dn(i,t),Fn=h,mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(j){Ze(t,t.return,j)}dd&&(dd=!1,d_(t));break;case 4:l=Fn,Fn=Ac(t.stateNode.containerInfo),dn(i,t),mn(t),Fn=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ed=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,md(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,U=Bi,Q=pt;if(Bi=U||h,pt=Q||C,dn(i,t),pt=Q,Bi=U,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Bi||pt||Ua(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(j){Ze(C,C.return,j)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(j){Ze(C,C.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,md(t,s))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,md(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(a_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=hd(t);fc(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(kn(v,""),s.flags&=-33);var T=hd(t);fc(t,T,v);break;case 3:case 4:var C=s.stateNode.containerInfo,U=hd(t);fd(t,U,C);break;default:throw Error(a(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function d_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;d_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(t,i.alternate,i),i=i.sibling}function Ua(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ar(4,i,i.return),Ua(i);break;case 1:hi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&i_(i,i.return,s),Ua(i);break;case 27:Sl(i.stateNode);case 26:case 5:hi(i,i.return),Ua(i);break;case 22:i.memoizedState===null&&Ua(i);break;case 30:Ua(i);break;default:Ua(i)}t=t.sibling}}function wr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,s),dl(4,d);break;case 1:if(wr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ze(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)zp(C[h],T)}catch(U){Ze(l,l.return,U)}}s&&v&64&&n_(d),ml(d,d.return);break;case 27:s_(d);case 26:case 5:wr(h,d,s),s&&l===null&&v&4&&r_(d),ml(d,d.return);break;case 12:wr(h,d,s);break;case 13:wr(h,d,s),s&&v&4&&h_(h,d);break;case 22:d.memoizedState===null&&wr(h,d,s),ml(d,d.return);break;case 30:break;default:wr(h,d,s)}i=i.sibling}}function gd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jo(s))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function fi(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(t,i,s,l),i=i.sibling}function m_(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,s,l),h&2048&&dl(9,i);break;case 1:fi(t,i,s,l);break;case 3:fi(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){fi(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else fi(t,i,s,l);break;case 13:fi(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?fi(t,i,s,l):gl(t,i):d._visibility&2?fi(t,i,s,l):(d._visibility|=2,Ps(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&gd(v,i);break;case 24:fi(t,i,s,l),h&2048&&pd(i.alternate,i);break;default:fi(t,i,s,l)}}function Ps(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=s,C=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Ps(d,v,T,C,h),dl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ps(d,v,T,C,h):gl(d,v):(Q._visibility|=2,Ps(d,v,T,C,h)),h&&U&2048&&gd(v.alternate,v);break;case 24:Ps(d,v,T,C,h),h&&U&2048&&pd(v.alternate,v);break;default:Ps(d,v,T,C,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:gl(s,l),h&2048&&gd(l.alternate,l);break;case 24:gl(s,l),h&2048&&pd(l.alternate,l);break;default:gl(s,l)}i=i.sibling}}var pl=8192;function qs(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)g_(t),t=t.sibling}function g_(t){switch(t.tag){case 26:qs(t),t.flags&pl&&t.memoizedState!==null&&db(Fn,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var i=Fn;Fn=Ac(t.stateNode.containerInfo),qs(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,qs(t),pl=i):qs(t));break;default:qs(t)}}function p_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];xt=l,__(l,t)}p_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):yl(t);break;default:yl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];xt=l,__(l,t)}p_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ar(8,i,i.return),dc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function __(t,i){for(;xt!==null;){var s=xt;switch(s.tag){case 0:case 11:case 15:Ar(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,xt=l;else e:for(s=t;xt!==null;){l=xt;var h=l.sibling,d=l.return;if(u_(l),l===s){xt=null;break e}if(h!==null){h.return=d,xt=h;break e}xt=d}}}var CS={getCacheForType:function(t){var i=Kt(It),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},NS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,xe=null,qe=0,Ke=0,gn=null,Rr=!1,Us=!1,yd=!1,Gi=0,ct=0,Cr=0,Ha=0,_d=0,Cn=0,Hs=0,_l=null,on=null,vd=!1,Ed=0,mc=1/0,gc=null,Nr=null,Ut=0,Dr=null,js=null,zs=0,Td=0,kd=null,v_=null,vl=0,Sd=null;function pn(){if((Ge&2)!==0&&qe!==0)return qe&-qe;if(K.T!==null){var t=Cs;return t!==0?t:Nd()}return wi()}function E_(){Cn===0&&(Cn=(qe&536870912)===0||ze?Co():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Cn}function yn(t,i,s){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),xr(t,qe,Cn,!1)),ht(t,s),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Ha|=s),ct===4&&xr(t,qe,Cn,!1)),di(t))}function T_(t,i,s){if((Ge&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||rr(t,i),h=l?OS(t,i):Id(t,i,!0),d=l;do{if(h===0){Us&&!l&&xr(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!DS(s)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=_l;var C=T.current.memoizedState.isDehydrated;if(C&&(Bs(T,v).flags|=256),v=Id(T,v,!1),v!==2){if(yd&&!C){T.errorRecoveryDisabledLanes|=d,Ha|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Bs(t,0),xr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:xr(l,i,Cn,!Rr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Ed+300-rn(),10<h)){if(xr(l,i,Cn,!Rr),En(l,0,!0)!==0)break e;l.timeoutHandle=X_(k_.bind(null,l,s,on,gc,vd,i,Cn,Ha,Hs,Rr,d,2,-0,0),h);break e}k_(l,s,on,gc,vd,i,Cn,Ha,Hs,Rr,d,0,-0,0)}}break}while(!0);di(t)}function k_(t,i,s,l,h,d,v,T,C,U,Q,W,H,j){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:fb},g_(i),W=mb(),W!==null)){t.cancelPendingCommit=W(C_.bind(null,t,i,d,s,l,h,v,T,C,Q,1,H,j)),xr(t,d,v,!U);return}C_(t,i,d,s,l,h,v,T,C)}function DS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(t,i,s,l){i&=~_d,i&=~Ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&sr(t,s,i)}function pc(){return(Ge&6)===0?(El(0),!1):!0}function bd(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,Pi=Ma=null,jf(t),Ls=null,cl=0,t=xe;for(;t!==null;)t_(t.alternate,t),t=t.return;xe=null}}function Bs(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,$S(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),bd(),et=t,xe=s=Mi(t.current,null),qe=i,Ke=0,gn=null,Rr=!1,Us=rr(t,i),yd=!1,Hs=Cn=_d=Ha=Cr=ct=0,on=_l=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Gi=i,qu(),s}function S_(t,i){Ne=null,K.H=ic,i===tl||i===Yu?(i=Hp(),Ke=3):i===Pp?(i=Hp(),Ke=4):Ke=i===jy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,xe===null&&(ct=1,lc(t,bn(i,t.current)))}function b_(){var t=K.H;return K.H=ic,t===null?ic:t}function A_(){var t=K.A;return K.A=CS,t}function Ad(){ct=4,Rr||(qe&4194048)!==qe&&Rn.current!==null||(Us=!0),(Cr&134217727)===0&&(Ha&134217727)===0||et===null||xr(et,qe,Cn,!1)}function Id(t,i,s){var l=Ge;Ge|=2;var h=b_(),d=A_();(et!==t||qe!==i)&&(gc=null,Bs(t,i)),i=!1;var v=ct;e:do try{if(Ke!==0&&xe!==null){var T=xe,C=gn;switch(Ke){case 8:bd(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var U=Ke;if(Ke=0,gn=null,Fs(t,T,C,U),s&&Us){v=0;break e}break;default:U=Ke,Ke=0,gn=null,Fs(t,T,C,U)}}xS(),v=ct;break}catch(Q){S_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Pi=Ma=null,Ge=l,K.H=h,K.A=d,xe===null&&(et=null,qe=0,qu()),v}function xS(){for(;xe!==null;)I_(xe)}function OS(t,i){var s=Ge;Ge|=2;var l=b_(),h=A_();et!==t||qe!==i?(gc=null,mc=rn()+500,Bs(t,i)):Us=rr(t,i);e:do try{if(Ke!==0&&xe!==null){i=xe;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,Fs(t,i,d,1);break;case 2:case 9:if(qp(d)){Ke=0,gn=null,w_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),di(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:qp(d)?(Ke=0,gn=null,w_(i)):(Ke=0,gn=null,Fs(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||lv(v)){Ke=0,gn=null;var C=T.sibling;if(C!==null)xe=C;else{var U=T.return;U!==null?(xe=U,yc(U)):xe=null}break t}}Ke=0,gn=null,Fs(t,i,d,5);break;case 6:Ke=0,gn=null,Fs(t,i,d,6);break;case 8:bd(),ct=6;break e;default:throw Error(a(462))}}MS();break}catch(Q){S_(t,Q)}while(!0);return Pi=Ma=null,K.H=l,K.A=h,Ge=s,xe!==null?0:(et=null,qe=0,qu(),ct)}function MS(){for(;xe!==null&&!Jh();)I_(xe)}function I_(t){var i=Jy(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?yc(t):xe=i}function w_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Yy(s,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Yy(s,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:jf(i);default:t_(s,i),i=xe=Rp(i,Gi),i=Jy(s,i,Gi)}t.memoizedProps=t.pendingProps,i===null?yc(t):xe=i}function Fs(t,i,s,l){Pi=Ma=null,jf(i),Ls=null,cl=0;var h=i.return;try{if(SS(t,h,i,s,qe)){ct=1,lc(t,bn(s,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ct=1,lc(t,bn(s,t.current)),xe=null;return}i.flags&32768?(ze||l===1?t=!0:Us||(qe&536870912)!==0?t=!1:(Rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){R_(i,Rr);return}t=i.return;var s=AS(i.alternate,i,Gi);if(s!==null){xe=s;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ct===0&&(ct=5)}function R_(t,i){do{var s=IS(t.alternate,t);if(s!==null){s.flags&=32767,xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=s}while(t!==null);ct=6,xe=null}function C_(t,i,s,l,h,d,v,T,C){t.cancelPendingCommit=null;do _c();while(Ut!==0);if((Ge&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=pf,Tu(t,s,d,v,T,C),t===et&&(xe=et=null,qe=0),js=i,Dr=t,zs=s,Td=d,kd=h,v_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qS(Ii,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{wS(t,i,s)}finally{Ge=v,ae.p=h,K.T=l}}Ut=1,N_(),D_(),x_()}}function N_(){if(Ut===1){Ut=0;var t=Dr,i=js,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{f_(i,t);var d=qd,v=_p(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&yp(T.ownerDocument.documentElement,T)){if(C!==null&&hf(T)){var U=C.start,Q=C.end;if(Q===void 0&&(Q=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Q,T.value.length);else{var W=T.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var j=H.getSelection(),Se=T.textContent.length,ye=Math.min(C.start,Se),We=C.end===void 0?ye:Math.min(C.end,Se);!j.extend&&ye>We&&(v=We,We=ye,ye=v);var V=pp(T,ye),O=pp(T,We);if(V&&O&&(j.rangeCount!==1||j.anchorNode!==V.node||j.anchorOffset!==V.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var P=W.createRange();P.setStart(V.node,V.offset),j.removeAllRanges(),ye>We?(j.addRange(P),j.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),j.addRange(P))}}}}for(W=[],j=T;j=j.parentNode;)j.nodeType===1&&W.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Nc=!!Pd,qd=Pd=null}finally{Ge=h,ae.p=l,K.T=s}}t.current=i,Ut=2}}function D_(){if(Ut===2){Ut=0;var t=Dr,i=js,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{l_(t,i.alternate,i)}finally{Ge=h,ae.p=l,K.T=s}}Ut=3}}function x_(){if(Ut===4||Ut===3){Ut=0,wo();var t=Dr,i=js,s=zs,l=v_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,js=Dr=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),Do(s),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(nr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(zs&3)!==0&&_c(),di(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Sd?vl++:(vl=0,Sd=t):vl=0,El(0)}}function O_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function _c(t){return N_(),D_(),x_(),M_()}function M_(){if(Ut!==5)return!1;var t=Dr,i=Td;Td=0;var s=Do(zs),l=K.T,h=ae.p;try{ae.p=32>s?32:s,K.T=null,s=kd,kd=null;var d=Dr,v=zs;if(Ut=0,js=Dr=null,zs=0,(Ge&6)!==0)throw Error(a(331));var T=Ge;if(Ge|=4,y_(d.current),m_(d,d.current,v,s),Ge=T,El(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(nr,d)}catch{}return!0}finally{ae.p=h,K.T=l,O_(t,i)}}function L_(t,i,s){i=bn(s,i),i=td(t.stateNode,i,2),t=Tr(t,i,2),t!==null&&(ht(t,2),di(t))}function Ze(t,i,s){if(t.tag===3)L_(t,t,s);else for(;i!==null;){if(i.tag===3){L_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=bn(s,t),s=Uy(2),l=Tr(i,s,2),l!==null&&(Hy(s,l,i,t),ht(l,2),di(l));break}}i=i.return}}function wd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new NS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(yd=!0,h.add(s),t=LS.bind(null,t,i,s),i.then(t,t))}function LS(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(qe&s)===s&&(ct===4||ct===3&&(qe&62914560)===qe&&300>rn()-Ed?(Ge&2)===0&&Bs(t,0):_d|=s,Hs===qe&&(Hs=0)),di(t)}function V_(t,i){i===0&&(i=ar()),t=As(t,i),t!==null&&(ht(t,i),di(t))}function VS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),V_(t,s)}function PS(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),V_(t,s)}function qS(t,i){return aa(t,i)}var vc=null,Gs=null,Rd=!1,Ec=!1,Cd=!1,ja=0;function di(t){t!==Gs&&t.next===null&&(Gs===null?vc=Gs=t:Gs=Gs.next=t),Ec=!0,Rd||(Rd=!0,HS())}function El(t,i){if(!Cd&&Ec){Cd=!0;do for(var s=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,H_(l,d))}else d=qe,d=En(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(s=!0,H_(l,d));l=l.next}while(s);Cd=!1}}function US(){P_()}function P_(){Ec=Rd=!1;var t=0;ja!==0&&(QS()&&(t=ja),ja=0);for(var i=rn(),s=null,l=vc;l!==null;){var h=l.next,d=q_(l,i);d===0?(l.next=null,s===null?vc=h:s.next=h,h===null&&(Gs=s)):(s=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=h}El(t)}function q_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Zt(d),T=1<<v,C=h[v];C===-1?((T&s)===0||(T&l)!==0)&&(h[v]=ls(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,s=qe,s=En(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||rr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&os(l),Do(s)){case 2:case 8:s=Ct;break;case 32:s=Ii;break;case 268435456:s=Ro;break;default:s=Ii}return l=U_.bind(null,t),s=aa(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function U_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_c()&&t.callbackNode!==s)return null;var l=qe;return l=En(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T_(t,l,i),q_(t,rn()),t.callbackNode!=null&&t.callbackNode===s?U_.bind(null,t):null)}function H_(t,i){if(_c())return null;T_(t,i,!0)}function HS(){XS(function(){(Ge&6)!==0?aa(bt,US):P_()})}function Nd(){return ja===0&&(ja=Co()),ja}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Un(""+t)}function z_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function jS(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=j_((h[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?j_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ea("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var C=v?z_(h,v):new FormData(h);Xf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?z_(h,v):new FormData(h),Xf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Dd=0;Dd<gf.length;Dd++){var xd=gf[Dd],zS=xd.toLowerCase(),BS=xd[0].toUpperCase()+xd.slice(1);Bn(zS,"on"+BS)}Bn(Tp,"onAnimationEnd"),Bn(kp,"onAnimationIteration"),Bn(Sp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(sS,"onTransitionRun"),Bn(oS,"onTransitionStart"),Bn(lS,"onTransitionCancel"),Bn(bp,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function B_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(Q){oc(Q)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(Q){oc(Q)}h.currentTarget=null,d=C}}}}function Oe(t,i){var s=i[oa];s===void 0&&(s=i[oa]=new Set);var l=t+"__bubble";s.has(l)||(F_(i,t,2,!1),s.add(l))}function Od(t,i,s){var l=0;i&&(l|=4),F_(s,t,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Tc]){t[Tc]=!0,ku.forEach(function(s){s!=="selectionchange"&&(FS.has(s)||Od(s,!1,t),Od(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Od("selectionchange",!1,i))}}function F_(t,i,s,l){switch(mv(i)){case 2:var h=yb;break;case 8:h=_b;break;default:h=Qd}s=h.bind(null,i,s,t),h=void 0,!xi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Ld(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ni(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ya(function(){var U=d,Q=qo(s),W=[];e:{var H=Ap.get(t);if(H!==void 0){var j=Ea,Se=t;switch(t){case"keypress":if(_a(s)===0)break e;case"keydown":case"keyup":j=Ts;break;case"focusin":Se="focus",j=_s;break;case"focusout":Se="blur",j=_s;break;case"beforeblur":case"afterblur":j=_s;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=yr;break;case Tp:case kp:case Sp:j=Ho;break;case bp:j=y;break;case"scroll":case"scrollend":j=ka;break;case"wheel":j=S;break;case"copy":case"cut":case"paste":j=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Bo;break;case"toggle":case"beforetoggle":j=B}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),V=ye?H!==null?H+"Capture":null:H;ye=[];for(var O=U,P;O!==null;){var $=O;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||V===null||($=gr(O,V),$!=null&&ye.push(kl(O,$,P))),We)break;O=O.return}0<ye.length&&(H=new j(H,Se,null,s,Q),W.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",H&&s!==Po&&(Se=s.relatedTarget||s.fromElement)&&(ni(Se)||Se[Ri]))break e;if((j||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,j?(Se=s.relatedTarget||s.toElement,j=U,Se=Se?ni(Se):null,Se!==null&&(We=u(Se),ye=Se.tag,Se!==We||ye!==5&&ye!==27&&ye!==6)&&(Se=null)):(j=null,Se=U),j!==Se)){if(ye=Aa,$="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bo,$="onPointerLeave",V="onPointerEnter",O="pointer"),We=j==null?H:ur(j),P=Se==null?H:ur(Se),H=new ye($,O+"leave",j,s,Q),H.target=We,H.relatedTarget=P,$=null,ni(Q)===U&&(ye=new ye(V,O+"enter",Se,s,Q),ye.target=P,ye.relatedTarget=We,$=ye),We=$,j&&Se)t:{for(ye=j,V=Se,O=0,P=ye;P;P=Ks(P))O++;for(P=0,$=V;$;$=Ks($))P++;for(;0<O-P;)ye=Ks(ye),O--;for(;0<P-O;)V=Ks(V),P--;for(;O--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=Ks(ye),V=Ks(V)}ye=null}else ye=null;j!==null&&G_(W,H,j,ye,!1),Se!==null&&We!==null&&G_(W,We,Se,ye,!0)}}e:{if(H=U?ur(U):window,j=H.nodeName&&H.nodeName.toLowerCase(),j==="select"||j==="input"&&H.type==="file")var ce=cp;else if(lp(H))if(hp)ce=iS;else{ce=tS;var De=eS}else j=H.nodeName,!j||j.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&gs(U.elementType)&&(ce=cp):ce=nS;if(ce&&(ce=ce(t,U))){up(W,ce,s,Q);break e}De&&De(t,H,U),t==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Mo(H,"number",H.value)}switch(De=U?ur(U):window,t){case"focusin":(lp(De)||De.contentEditable==="true")&&(ks=De,ff=U,Qo=null);break;case"focusout":Qo=ff=ks=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,vp(W,s,Q);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":vp(W,s,Q)}var fe;if(Ae)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else zn?Hn(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(mt&&s.locale!=="ko"&&(zn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&zn&&(fe=Ru()):(Sn=Q,Je="value"in Sn?Sn.value:Sn.textContent,zn=!0)),De=kc(U,ve),0<De.length&&(ve=new zo(ve,t,null,s,Q),W.push({event:ve,listeners:De}),fe?ve.data=fe:(fe=jn(s),fe!==null&&(ve.data=fe)))),(fe=Fe?Fo(t,s):Wk(t,s))&&(ve=kc(U,"onBeforeInput"),0<ve.length&&(De=new zo("onBeforeInput","beforeinput",null,s,Q),W.push({event:De,listeners:ve}),De.data=fe)),jS(W,t,U,s,Q)}B_(W,i)})}function kl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function kc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gr(t,s),h!=null&&l.unshift(kl(t,h,d)),h=gr(t,i),h!=null&&l.push(kl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=gr(s,d),U!=null&&v.unshift(kl(s,U,C))):h||(U=gr(s,d),U!=null&&v.push(kl(s,U,C)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var GS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(GS,`
`).replace(KS,"")}function Y_(t,i){return i=K_(i),K_(t)===i}function Sc(){}function Xe(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":fa(t,"class",l);break;case"tabIndex":fa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fa(t,s,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){fa(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Un(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Un(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Un(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Au.get(s)||s,ha(t,s,l))}}function Vd(t,i,s,l,h,d){switch(s){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Pt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ha(t,s,l)}}}function Ht(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,d,v,s,null)}}h&&Xe(t,i,"srcSet",s.srcSet,s,null),l&&Xe(t,i,"src",s.src,s,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,C=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":C=Q;break;case"defaultChecked":U=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Xe(t,i,l,Q,s,null)}}Oo(t,d,T,C,U,v,h,!1),fr(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,s,null)}i=d,s=v,t.multiple=!!l,i!=null?dr(t,!!l,i,!1):s!=null&&dr(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xe(t,i,v,T,s,null)}bu(t,l,h,d),fr(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,C,l,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Oe(Tl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,U,l,s,null)}return;default:if(gs(i)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&Vd(t,i,Q,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xe(t,i,T,l,s,null))}function YS(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,U=null,Q=null;for(j in s){var W=s[j];if(s.hasOwnProperty(j)&&W!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(j)||Xe(t,i,j,null,l,W)}}for(var H in l){var j=l[H];if(W=s[H],l.hasOwnProperty(H)&&(j!=null||W!=null))switch(H){case"type":d=j;break;case"name":h=j;break;case"checked":U=j;break;case"defaultChecked":Q=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,i));break;default:j!==W&&Xe(t,i,H,j,l,W)}}xo(t,v,T,C,U,Q,d,h);return;case"select":j=v=T=H=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Xe(t,i,h,d,l,C)}i=T,s=v,l=j,H!=null?dr(t,!!s,H,!1):!!l!=!!s&&(i!=null?dr(t,!!s,i,!0):dr(t,!!s,s?[]:"",!1));return;case"textarea":j=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Su(t,H,j);return;case"option":for(var Se in s)if(H=s[Se],s.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Xe(t,i,Se,null,l,H)}for(C in l)if(H=l[C],j=s[C],l.hasOwnProperty(C)&&H!==j&&(H!=null||j!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,C,H,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)H=s[ye],s.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,H);for(U in l)if(H=l[U],j=s[U],l.hasOwnProperty(U)&&H!==j&&(H!=null||j!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:Xe(t,i,U,H,l,j)}return;default:if(gs(i)){for(var We in s)H=s[We],s.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Vd(t,i,We,void 0,l,H);for(Q in l)H=l[Q],j=s[Q],!l.hasOwnProperty(Q)||H===j||H===void 0&&j===void 0||Vd(t,i,Q,H,l,j);return}}for(var V in s)H=s[V],s.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&Xe(t,i,V,null,l,H);for(W in l)H=l[W],j=s[W],!l.hasOwnProperty(W)||H===j||H==null&&j==null||Xe(t,i,W,H,l,j)}var Pd=null,qd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ud(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function QS(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(WS)}:X_;function WS(t){setTimeout(function(){throw t})}function Or(t){return t==="head"}function Z_(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&Sl(v.documentElement),s&2&&Sl(v.body),s&4)for(s=v.head,Sl(s),v=s.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[lr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){t.removeChild(d),Dl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Dl(i)}function jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":jd(s),cs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZS(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[lr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function JS(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function eb(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Bd=null;function J_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function ev(t,i,s){switch(i=bc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);cs(t)}var Nn=new Map,tv=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ae.d;ae.d={f:tb,r:nb,D:ib,C:rb,L:ab,m:sb,X:lb,S:ob,M:ub};function tb(){var t=Ki.f(),i=pc();return t||i}function nb(t){var i=ii(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):Ki.r(t)}var Ys=typeof document>"u"?null:document;function nv(t,i,s){var l=Ys;if(l&&typeof i=="string"&&i){var h=Nt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",t),dt(i),l.head.appendChild(i)))}}function ib(t){Ki.D(t),nv("dns-prefetch",t,null)}function rb(t,i){Ki.C(t,i),nv("preconnect",t,i)}function ab(t,i,s){Ki.L(t,i,s);var l=Ys;if(l&&t&&i){var h='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Nt(s.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(i){case"style":d=Qs(t);break;case"script":d=$s(t)}Nn.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Nn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Ht(i,"link",t),dt(i),l.head.appendChild(i)))}}function sb(t,i){Ki.m(t,i);var s=Ys;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$s(t)}if(!Nn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Nn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Al(d)))return}l=s.createElement("link"),Ht(l,"link",t),dt(l),s.head.appendChild(l)}}}function ob(t,i,s){Ki.S(t,i,s);var l=Ys;if(l&&t){var h=cr(l).hoistableStyles,d=Qs(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Nn.get(d))&&Fd(t,s);var C=v=l.createElement("link");dt(C),Ht(C,"link",t),C._p=new Promise(function(U,Q){C.onload=U,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lb(t,i){Ki.X(t,i);var s=Ys;if(s&&t){var l=cr(s).hoistableScripts,h=$s(t),d=l.get(h);d||(d=s.querySelector(Al(h)),d||(t=E({src:t,async:!0},i),(i=Nn.get(h))&&Gd(t,i),d=s.createElement("script"),dt(d),Ht(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ub(t,i){Ki.M(t,i);var s=Ys;if(s&&t){var l=cr(s).hoistableScripts,h=$s(t),d=l.get(h);d||(d=s.querySelector(Al(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&Gd(t,i),d=s.createElement("script"),dt(d),Ht(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(t,i,s,l){var h=(h=ke.current)?Ac(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Qs(s.href),s=cr(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Qs(s.href);var d=cr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(t,s),d||cb(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$s(s),s=cr(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Qs(t){return'href="'+Nt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cb(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",s),dt(i),t.head.appendChild(i))}function $s(t){return'[src="'+Nt(t)+'"]'}function Al(t){return"script[async]"+t}function av(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(s.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Ht(l,"style",h),Ic(l,s.precedence,t),i.instance=l;case"stylesheet":h=Qs(s.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=rv(s),(h=Nn.get(h))&&Fd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ht(d,"link",l),i.state.loading|=4,Ic(d,s.precedence,t),i.instance=d;case"script":return d=$s(s.src),(h=t.querySelector(Al(d)))?(i.instance=h,dt(h),h):(l=s,(h=Nn.get(d))&&(l=E({},s),Gd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ht(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,s.precedence,t));return i.instance}function Ic(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function sv(t,i,s){if(wc===null){var l=new Map,h=wc=new Map;h.set(s,l)}else h=wc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[lr]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function ov(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function hb(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function fb(){}function db(t,i,s){if(Il===null)throw Error(a(475));var l=Il;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qs(s.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=t.ownerDocument||t,s=rv(s),(h=Nn.get(h))&&Fd(s,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ht(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function mb(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&Kd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(gb,t),Cc=null,Rc.call(t))}function gb(t,i){if(!(i.state.loading&4)){var s=Cc.get(t);if(s)var l=s.get(null);else{s=new Map,Cc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:te,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function pb(t,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function uv(t,i,s,l,h,d,v,T,C,U,Q,W){return t=new pb(t,i,s,v,T,C,U,W),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=wf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Df(d),t}function cv(t){return t?(t=Is,t):Is}function hv(t,i,s,l,h,d){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Tr(t,l,i),s!==null&&(yn(s,t,i),il(s,t,i))}function fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Yd(t,i){fv(t,i),(t=t.alternate)&&fv(t,i)}function dv(t){if(t.tag===13){var i=As(t,67108864);i!==null&&yn(i,t,67108864),Yd(t,67108864)}}var Nc=!0;function yb(t,i,s,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,Qd(t,i,s,l)}finally{ae.p=d,K.T=h}}function _b(t,i,s,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,Qd(t,i,s,l)}finally{ae.p=d,K.T=h}}function Qd(t,i,s,l){if(Nc){var h=$d(l);if(h===null)Ld(t,i,l,Dc,s),gv(t,l);else if(Eb(h,t,i,s,l))l.stopPropagation();else if(gv(t,l),i&4&&-1<vb.indexOf(t)){for(;h!==null;){var d=ii(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Zt(v);T.entanglements[1]|=C,v&=~C}di(d),(Ge&6)===0&&(mc=rn()+500,El(0))}}break;case 13:T=As(d,2),T!==null&&yn(T,d,2),pc(),Yd(d,2)}if(d=$d(l),d===null&&Ld(t,i,l,Dc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,s)}}function $d(t){return t=qo(t),Xd(t)}var Dc=null;function Xd(t){if(Dc=null,t=ni(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_u()){case bt:return 2;case Ct:return 8;case Ii:case ef:return 32;case Ro:return 268435456;default:return 32}default:return 32}}var Wd=!1,Mr=null,Lr=null,Vr=null,Rl=new Map,Cl=new Map,Pr=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,i){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Nl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ii(i),i!==null&&dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Eb(t,i,s,l,h){switch(i){case"focusin":return Mr=Nl(Mr,t,i,s,l,h),!0;case"dragenter":return Lr=Nl(Lr,t,i,s,l,h),!0;case"mouseover":return Vr=Nl(Vr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Nl(Rl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Nl(Cl.get(d)||null,t,i,s,l,h)),!0}return!1}function pv(t){var i=ni(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,rf(t.priority,function(){if(s.tag===13){var l=pn();l=No(l);var h=As(s,l);h!==null&&yn(h,s,l),Yd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=$d(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Po=l,s.target.dispatchEvent(l),Po=null}else return i=ii(s),i!==null&&dv(i),t.blockedOn=s,!1;i.shift()}return!0}function yv(t,i,s){xc(t)&&s.delete(i)}function Tb(){Wd=!1,Mr!==null&&xc(Mr)&&(Mr=null),Lr!==null&&xc(Lr)&&(Lr=null),Vr!==null&&xc(Vr)&&(Vr=null),Rl.forEach(yv),Cl.forEach(yv)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Mc=null;function _v(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Xd(l||s)===null)continue;break}var d=ii(s);d!==null&&(t.splice(i,3),i-=3,Xf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Dl(t){function i(C){return Oc(C,t)}Mr!==null&&Oc(Mr,t),Lr!==null&&Oc(Lr,t),Vr!==null&&Oc(Vr,t),Rl.forEach(i),Cl.forEach(i);for(var s=0;s<Pr.length;s++){var l=Pr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(s=Pr[0],s.blockedOn===null);)pv(s),s.blockedOn===null&&Pr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Pt]||null;if(typeof d=="function")v||_v(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)T=v.formAction;else if(Xd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),_v(s)}}}function Zd(t){this._internalRoot=t}Lc.prototype.render=Zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=pn();hv(s,l,t,i,null,null)},Lc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hv(t.current,2,null,t,null,null),pc(),i[Ri]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Pr.length&&i!==0&&i<Pr[s].priority;s++);Pr.splice(s,0,t),s===0&&pv(t)}};var vv=e.version;if(vv!=="19.1.1")throw Error(a(527,vv,"19.1.1"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var kb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{nr=Vc.inject(kb),Ft=Vc}catch{}}return Ol.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ly,d=Vy,v=Py,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=uv(t,1,!1,null,null,s,l,h,d,v,T,null),t[Ri]=i.current,Md(t),new Zd(i)},Ol.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Ly,v=Vy,T=Py,C=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=uv(t,1,!0,i,s??null,l,h,d,v,T,C,U),i.context=cv(null),s=i.current,l=pn(),l=No(l),h=Er(l),h.callback=null,Tr(s,h,l),s=l,i.current.lanes=s,ht(i,s),di(i),t[Ri]=i.current,Md(t),new Lc(i)},Ol.version="19.1.1",Ol}var Cv;function Ob(){if(Cv)return tm.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=xb(),tm.exports}var Mb=Ob();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nv="popstate";function Lb(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return wm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ql(o)}return Pb(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vb(){return Math.random().toString(36).substring(2,10)}function Dv(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||a||Vb()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Pb(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function k(){m="POP";let F=E(),ne=F==null?null:F-p;p=F,g&&g({action:m,location:Y.location,delta:ne})}function b(F,ne){m="PUSH";let re=wm(Y.location,F,ne);p=E()+1;let te=Dv(re,p),_e=Y.createHref(re);try{f.pushState(te,"",_e)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(_e)}u&&g&&g({action:m,location:Y.location,delta:1})}function M(F,ne){m="REPLACE";let re=wm(Y.location,F,ne);p=E();let te=Dv(re,p),_e=Y.createHref(re);f.replaceState(te,"",_e),u&&g&&g({action:m,location:Y.location,delta:0})}function G(F){return qb(F)}let Y={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,k),g=F,()=>{o.removeEventListener(Nv,k),g=null}},createHref(F){return e(o,F)},createURL:G,encodeLocation(F){let ne=G(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:M,go(F){return f.go(F)}};return Y}function qb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Ql(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function C1(r,e,n="/"){return Ub(r,e,n,!1)}function Ub(r,e,n,a){let o=typeof e=="string"?go(e):e,u=Wi(o.pathname||"/",n);if(u==null)return null;let f=N1(r);Hb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Wb(u);m=$b(f[g],p,a)}return m}function N1(r,e=[],n=[],a="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&g)return;at(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let k=$i([a,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(at(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${k}".`),N1(f.children,e,b,k,g)),!(f.path==null&&!f.index)&&e.push({path:k,score:Yb(k,f.index),routesMeta:b})};return r.forEach((f,m)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,m);else for(let p of D1(f.path))u(f,m,!0,p)}),e}function D1(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=D1(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Hb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Qb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var jb=/^:[\w-]+$/,zb=3,Bb=2,Fb=1,Gb=10,Kb=-2,xv=r=>r==="*";function Yb(r,e){let n=r.split("/"),a=n.length;return n.some(xv)&&(a+=Kb),e&&(a+=Bb),n.filter(o=>!xv(o)).reduce((o,u)=>o+(jb.test(u)?zb:u===""?Fb:Gb),a)}function Qb(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function $b(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",k=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),b=g.route;if(!k&&p&&n&&!a[a.length-1].route.index&&(k=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!k)return null;Object.assign(o,k.params),f.push({params:o,pathname:$i([u,k.pathname]),pathnameBase:tA($i([u,k.pathnameBase])),route:b}),k.pathnameBase!=="/"&&(u=$i([u,k.pathnameBase]))}return f}function rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Xb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:k},b)=>{if(E==="*"){let G=m[b]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const M=m[b];return k&&!M?p[E]=void 0:p[E]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function Xb(r,e=!1,n=!0){Mn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Wb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Zb(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?go(r):r;return{pathname:n?n.startsWith("/")?n:Jb(n,e):e,search:nA(a),hash:iA(o)}}function Jb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rg(r){let e=eA(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function ag(r,e,n,a=!1){let o;typeof r=="string"?o=go(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let k=e.length-1;if(!a&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),k-=1;o.pathname=b.join("/")}m=k>=0?e[k]:"/"}let g=Zb(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),tA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var x1=["POST","PUT","PATCH","DELETE"];new Set(x1);var aA=["GET",...x1];new Set(aA);var po=z.createContext(null);po.displayName="DataRouter";var wh=z.createContext(null);wh.displayName="DataRouterState";z.createContext(!1);var O1=z.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var sA=z.createContext(new Map);sA.displayName="Fetchers";var oA=z.createContext(null);oA.displayName="Await";var Zn=z.createContext(null);Zn.displayName="Navigation";var au=z.createContext(null);au.displayName="Location";var bi=z.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var sg=z.createContext(null);sg.displayName="RouteError";function lA(r,{relative:e}={}){at(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(Zn),{hash:o,pathname:u,search:f}=ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),a.createHref({pathname:m,search:f,hash:o})}function yo(){return z.useContext(au)!=null}function Ai(){return at(yo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(au).location}var M1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(r){z.useContext(Zn).static||z.useLayoutEffect(r)}function su(){let{isDataRoute:r}=z.useContext(bi);return r?TA():uA()}function uA(){at(yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(po),{basename:e,navigator:n}=z.useContext(Zn),{matches:a}=z.useContext(bi),{pathname:o}=Ai(),u=JSON.stringify(rg(a)),f=z.useRef(!1);return L1(()=>{f.current=!0}),z.useCallback((g,p={})=>{if(Mn(f.current,M1),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=ag(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}z.createContext(null);function ou(r,{relative:e}={}){let{matches:n}=z.useContext(bi),{pathname:a}=Ai(),o=JSON.stringify(rg(n));return z.useMemo(()=>ag(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function cA(r,e){return V1(r,e)}function V1(r,e,n,a,o){var re;at(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Zn),{matches:f}=z.useContext(bi),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",k=m&&m.route;{let te=k&&k.path||"";P1(p,!k||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let b=Ai(),M;if(e){let te=typeof e=="string"?go(e):e;at(E==="/"||((re=te.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),M=te}else M=b;let G=M.pathname||"/",Y=G;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=C1(r,{pathname:Y});Mn(k||F!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Mn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=gA(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:$i([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:$i([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,a,o);return e&&ne?z.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ne):ne}function hA(){let r=EA(),e=rA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var fA=z.createElement(hA,null),dA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(bi.Provider,{value:this.props.routeContext},z.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:r,match:e,children:n}){let a=z.useContext(po);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(bi.Provider,{value:r},n)}function gA(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let p=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<u.length;p++){let E=u[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=p),E.route.id){let{loaderData:k,errors:b}=n,M=E.route.loader&&!k.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||M){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,E,k)=>{let b,M=!1,G=null,Y=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||fA,m&&(g<0&&k===0?(P1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,Y=null):g===k&&(M=!0,Y=E.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,k+1)),ne=()=>{let re;return b?re=G:M?re=Y:E.route.Component?re=z.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=p,z.createElement(mA,{match:E,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||k===0)?z.createElement(dA,{location:n.location,revalidation:n.revalidation,component:G,error:b,children:ne(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:a}):ne()},null)}function og(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(r){let e=z.useContext(po);return at(e,og(r)),e}function yA(r){let e=z.useContext(wh);return at(e,og(r)),e}function _A(r){let e=z.useContext(bi);return at(e,og(r)),e}function lg(r){let e=_A(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function vA(){return lg("useRouteId")}function EA(){var a;let r=z.useContext(sg),e=yA("useRouteError"),n=lg("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function TA(){let{router:r}=pA("useNavigate"),e=lg("useNavigate"),n=z.useRef(!1);return L1(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Mn(n.current,M1),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ov={};function P1(r,e,n){!e&&!Ov[r]&&(Ov[r]=!0,Mn(!1,n))}z.memo(kA);function kA({routes:r,future:e,state:n,unstable_onError:a}){return V1(r,void 0,n,a,e)}function q1({to:r,replace:e,state:n,relative:a}){at(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Zn);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(bi),{pathname:f}=Ai(),m=su(),g=ag(r,rg(u),f,a==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:a})},[m,p,a,e,n]),null}function Fc(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SA({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){at(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:g="/",search:p="",hash:E="",state:k=null,key:b="default"}=n,M=z.useMemo(()=>{let G=Wi(g,f);return G==null?null:{location:{pathname:G,search:p,hash:E,state:k,key:b},navigationType:a}},[f,g,p,E,k,b,a]);return Mn(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(Zn.Provider,{value:m},z.createElement(au.Provider,{children:e,value:M}))}function bA({children:r,location:e}){return cA(Rm(r),e)}function Rm(r,e=[]){let n=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,Rm(a.props.children,u));return}at(a.type===Fc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Rm(a.props.children,u)),n.push(f)}),n}var Gc="get",Kc="application/x-www-form-urlencoded";function Rh(r){return r!=null&&typeof r.tagName=="string"}function AA(r){return Rh(r)&&r.tagName.toLowerCase()==="button"}function IA(r){return Rh(r)&&r.tagName.toLowerCase()==="form"}function wA(r){return Rh(r)&&r.tagName.toLowerCase()==="input"}function RA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CA(r,e){return r.button===0&&(!e||e==="_self")&&!RA(r)}function Cm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function NA(r,e){let n=Cm(r);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Pc=null;function DA(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var xA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!xA.has(r)?(Mn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function OA(r,e){let n,a,o,u,f;if(IA(r)){let m=r.getAttribute("action");a=m?Wi(m,e):null,n=r.getAttribute("method")||Gc,o=sm(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(AA(r)||wA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?Wi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!DA()){let{name:p,type:E,value:k}=r;if(E==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,k)}}else{if(Rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,a=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function MA(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Wi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function LA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function PA(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await LA(u,n);return f.links?f.links():[]}return[]}));return jA(a.flat(1).filter(VA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(r,e,n,a,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var k;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=n[0])==null?void 0:k.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function qA(r,e,{includeHydrateFallback:n}={}){return UA(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function UA(r){return[...new Set(r)]}function HA(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function jA(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(HA(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function U1(){let r=z.useContext(po);return ug(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zA(){let r=z.useContext(wh);return ug(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cg=z.createContext(void 0);cg.displayName="FrameworkContext";function H1(){let r=z.useContext(cg);return ug(r,"You must render this element inside a <HydratedRouter> element"),r}function BA(r,e){let n=z.useContext(cg),[a,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:k}=e,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=ne=>{ne.forEach(re=>{f(re.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),z.useEffect(()=>{if(a){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[a]);let M=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ml(m,M),onBlur:Ml(g,G),onMouseEnter:Ml(p,M),onMouseLeave:Ml(E,G),onTouchStart:Ml(k,M)}]:[!1,b,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function FA({page:r,...e}){let{router:n}=U1(),a=z.useMemo(()=>C1(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(KA,{page:r,matches:a,...e}):null}function GA(r){let{manifest:e,routeModules:n}=H1(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return PA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function KA({page:r,matches:e,...n}){let a=Ai(),{manifest:o,routeModules:u}=H1(),{basename:f}=U1(),{loaderData:m,matches:g}=zA(),p=z.useMemo(()=>Mv(r,e,g,o,a,"data"),[r,e,g,o,a]),E=z.useMemo(()=>Mv(r,e,g,o,a,"assets"),[r,e,g,o,a]),k=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let G=new Set,Y=!1;if(e.forEach(ne=>{var te;let re=o.routes[ne.route.id];!re||!re.hasLoader||(!p.some(_e=>_e.route.id===ne.route.id)&&ne.route.id in m&&((te=u[ne.route.id])!=null&&te.shouldRevalidate)||re.hasClientLoader?Y=!0:G.add(ne.route.id))}),G.size===0)return[];let F=MA(r,f,"data");return Y&&G.size>0&&F.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[F.pathname+F.search]},[f,m,a,o,p,e,r,u]),b=z.useMemo(()=>qA(E,o),[E,o]),M=GA(E);return z.createElement(z.Fragment,null,k.map(G=>z.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),b.map(G=>z.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),M.map(({key:G,link:Y})=>z.createElement("link",{key:G,nonce:n.nonce,...Y})))}function YA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j1&&(window.__reactRouterVersion="7.9.2")}catch{}function QA({basename:r,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=Lb({window:n,v5Compat:!0}));let o=a.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>f(g))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(SA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B1=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:k,...b},M){let{basename:G}=z.useContext(Zn),Y=typeof p=="string"&&z1.test(p),F,ne=!1;if(typeof p=="string"&&Y&&(F=p,j1))try{let R=new URL(window.location.href),L=p.startsWith("//")?new URL(R.protocol+p):new URL(p),A=Wi(L.pathname,G);L.origin===R.origin&&A!=null?p=A+L.search+L.hash:ne=!0}catch{Mn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=lA(p,{relative:o}),[te,_e,he]=BA(a,b),Re=ZA(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:k});function D(R){e&&e(R),R.defaultPrevented||Re(R)}let w=z.createElement("a",{...b,...he,href:F||re,onClick:ne||u?e:D,ref:YA(M,_e),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return te&&!Y?z.createElement(z.Fragment,null,w,z.createElement(FA,{page:re})):w});B1.displayName="Link";var $A=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let k=ou(f,{relative:p.relative}),b=Ai(),M=z.useContext(wh),{navigator:G,basename:Y}=z.useContext(Zn),F=M!=null&&iI(k)&&m===!0,ne=G.encodeLocation?G.encodeLocation(k).pathname:k.pathname,re=b.pathname,te=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,ne=ne.toLowerCase()),te&&Y&&(te=Wi(te,Y)||te);const _e=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let he=re===ne||!o&&re.startsWith(ne)&&re.charAt(_e)==="/",Re=te!=null&&(te===ne||!o&&te.startsWith(ne)&&te.charAt(ne.length)==="/"),D={isActive:he,isPending:Re,isTransitioning:F},w=he?e:void 0,R;typeof a=="function"?R=a(D):R=[a,he?"active":null,Re?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(D):u;return z.createElement(B1,{...p,"aria-current":w,className:R,ref:E,style:L,to:f,viewTransition:m},typeof g=="function"?g(D):g)});$A.displayName="NavLink";var XA=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Gc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:k,...b},M)=>{let G=tI(),Y=nI(m,{relative:p}),F=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&z1.test(m),re=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let _e=te.nativeEvent.submitter,he=(_e==null?void 0:_e.getAttribute("formmethod"))||f;G(_e||te.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:k})};return z.createElement("form",{ref:M,method:F,action:Y,onSubmit:a?g:re,...b,"data-discover":!ne&&r==="render"?"true":void 0})});XA.displayName="Form";function WA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(r){let e=z.useContext(po);return at(e,WA(r)),e}function ZA(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=su(),g=Ai(),p=ou(r,{relative:u});return z.useCallback(E=>{if(CA(E,e)){E.preventDefault();let k=n!==void 0?n:Ql(g)===Ql(p);m(r,{replace:k,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,a,e,r,o,u,f])}function G1(r){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(Cm(r)),n=z.useRef(!1),a=Ai(),o=z.useMemo(()=>NA(a.search,n.current?null:e.current),[a.search]),u=su(),f=z.useCallback((m,g)=>{const p=Cm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+p,g)},[u,o]);return[o,f]}var JA=0,eI=()=>`__${String(++JA)}__`;function tI(){let{router:r}=F1("useSubmit"),{basename:e}=z.useContext(Zn),n=vA();return z.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=OA(a,e);if(o.navigate===!1){let E=o.fetcherKey||eI();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function nI(r,{relative:e}={}){let{basename:n}=z.useContext(Zn),a=z.useContext(bi);at(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ou(r||".",{relative:e})},f=Ai();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(k=>k).forEach(k=>m.append("index",k));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),Ql(u)}function iI(r,{relative:e}={}){let n=z.useContext(O1);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=F1("useViewTransitionState"),o=ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}var om={exports:{}},lm,Lv;function rI(){if(Lv)return lm;Lv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lm=r,lm}var um,Vv;function aI(){if(Vv)return um;Vv=1;var r=rI();function e(){}function n(){}return n.resetWarningCache=e,um=function(){function a(f,m,g,p,E,k){if(k!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},um}var Pv;function sI(){return Pv||(Pv=1,om.exports=aI()()),om.exports}var oI=sI();const K1=bb(oI),lI=()=>{};var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uI=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,k=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,M=p&63;g||(M=64,f||(b=64)),a.push(n[E],n[k],n[b],n[M])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Y1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):uI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const k=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||k==null)throw new cI;const b=u<<2|m>>4;if(a.push(b),p!==64){const M=m<<4&240|p>>2;if(a.push(M),k!==64){const G=p<<6&192|k;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hI=function(r){const e=Y1(r);return Q1.encodeByteArray(e,!0)},ah=function(r){return hI(r).replace(/\./g,"")},$1=function(r){try{return Q1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=()=>fI().__FIREBASE_DEFAULTS__,mI=()=>{if(typeof process>"u"||typeof qv>"u")return;const r=qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$1(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return lI()||dI()||mI()||gI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},X1=r=>{var e,n;return(n=(e=Ch())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},pI=r=>{const e=X1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},W1=()=>{var r;return(r=Ch())==null?void 0:r.config},Z1=r=>{var e;return(e=Ch())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const jl={};function vI(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function EI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Uv=!1;function eT(r,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||jl[r]===e||jl[r]||Uv)return;jl[r]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=vI().prod.length>0;function f(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Uv=!0,f()},b}function E(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function k(){const b=EI(a),M=n("text"),G=document.getElementById(M)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),re=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const te=b.element;m(te),E(F,Y);const _e=p();g(re,ne),te.append(re,G,F,_e),document.body.appendChild(te)}u?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function kI(){var e;const r=(e=Ch())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function II(){return!kI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function wI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FirebaseError";class Jn extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=RI,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?CI(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Jn(o,m,a)}}function CI(r,e){return r.replace(NI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const NI=/\{\$([^}]+)}/g;function DI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Wr(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(Hv(u)&&Hv(f)){if(!Wr(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Hv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ll(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function xI(r,e){const n=new OI(r,e);return n.subscribe.bind(n)}class OI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");MI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,VI=2,PI=14400*1e3,qI=.5;function jv(r,e=LI,n=VI){const a=e*Math.pow(n,r),o=Math.round(qI*a*(Math.random()-.5)*2);return Math.min(PI,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r){return r&&r._delegate?r._delegate:r}class $n{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new yI;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HI(r){return r===za?void 0:r}function jI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const BI={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},FI=Le.INFO,GI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},KI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=GI[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nh{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=KI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const YI=(r,e)=>e.some(n=>r instanceof n);let zv,Bv;function QI(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,Nm=new WeakMap,aT=new WeakMap,hm=new WeakMap,hg=new WeakMap;function XI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Gr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&rT.set(n,r)}).catch(()=>{}),hg.set(e,r),e}function WI(r){if(Nm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Nm.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||aT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ZI(r){Dm=r(Dm)}function JI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(fm(this),e,...n);return aT.set(a,e.sort?e.sort():[e]),Gr(a)}:$I().includes(r)?function(...e){return r.apply(fm(this),e),Gr(rT.get(this))}:function(...e){return Gr(r.apply(fm(this),e))}}function ew(r){return typeof r=="function"?JI(r):(r instanceof IDBTransaction&&WI(r),YI(r,QI())?new Proxy(r,Dm):r)}function Gr(r){if(r instanceof IDBRequest)return XI(r);if(hm.has(r))return hm.get(r);const e=ew(r);return e!==r&&(hm.set(r,e),hg.set(e,r)),e}const fm=r=>hg.get(r);function sT(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Gr(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Gr(f.result),g.oldVersion,g.newVersion,Gr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],dm=new Map;function Fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=nw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||tw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return dm.set(e,u),u}ZI(r=>({...r,get:(e,n,a)=>Fv(e,n)||r.get(e,n,a),has:(e,n)=>!!Fv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function rw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",Gv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Nh("@firebase/app"),aw="@firebase/app-compat",sw="@firebase/analytics-compat",ow="@firebase/analytics",lw="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",hw="@firebase/auth-compat",fw="@firebase/database",dw="@firebase/data-connect",mw="@firebase/database-compat",gw="@firebase/functions",pw="@firebase/functions-compat",yw="@firebase/installations",_w="@firebase/installations-compat",vw="@firebase/messaging",Ew="@firebase/messaging-compat",Tw="@firebase/performance",kw="@firebase/performance-compat",Sw="@firebase/remote-config",bw="@firebase/remote-config-compat",Aw="@firebase/storage",Iw="@firebase/storage-compat",ww="@firebase/firestore",Rw="@firebase/ai",Cw="@firebase/firestore-compat",Nw="firebase",Dw="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",xw={[xm]:"fire-core",[aw]:"fire-core-compat",[ow]:"fire-analytics",[sw]:"fire-analytics-compat",[uw]:"fire-app-check",[lw]:"fire-app-check-compat",[cw]:"fire-auth",[hw]:"fire-auth-compat",[fw]:"fire-rtdb",[dw]:"fire-data-connect",[mw]:"fire-rtdb-compat",[gw]:"fire-fn",[pw]:"fire-fn-compat",[yw]:"fire-iid",[_w]:"fire-iid-compat",[vw]:"fire-fcm",[Ew]:"fire-fcm-compat",[Tw]:"fire-perf",[kw]:"fire-perf-compat",[Sw]:"fire-rc",[bw]:"fire-rc-compat",[Aw]:"fire-gcs",[Iw]:"fire-gcs-compat",[ww]:"fire-fst",[Cw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Nw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,Ow=new Map,Mm=new Map;function Kv(r,e){try{r.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ki(r){const e=r.name;if(Mm.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const n of sh.values())Kv(n,r);for(const n of Ow.values())Kv(n,r);return!0}function Za(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Wa("app","Firebase",Mw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=Dw;function oT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Om,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=W1()),!n)throw Kr.create("no-options");const u=sh.get(o);if(u){if(Wr(n,u.options)&&Wr(a,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new zI(o);for(const g of Mm.values())f.addComponent(g);const m=new Lw(n,a,f);return sh.set(o,m),m}function fg(r=Om){const e=sh.get(r);if(!e&&r===Om&&W1())return oT();if(!e)throw Kr.create("no-app",{appName:r});return e}function On(r,e,n){let a=xw[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(f.join(" "));return}ki(new $n(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebase-heartbeat-database",Pw=1,$l="firebase-heartbeat-store";let mm=null;function lT(){return mm||(mm=sT(Vw,Pw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),mm}async function qw(r){try{const n=(await lT()).transaction($l),a=await n.objectStore($l).get(uT(r));return await n.done,a}catch(e){if(e instanceof Jn)Zi.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function Yv(r,e){try{const a=(await lT()).transaction($l,"readwrite");await a.objectStore($l).put(e,uT(r)),await a.done}catch(n){if(n instanceof Jn)Zi.warn(n.message);else{const a=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(a.message)}}}function uT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=1024,Hw=30;class jw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bw(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Hw){const f=Fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Zi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:a,unsentEntries:o}=zw(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function zw(r,e=Uw){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),$v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$v(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class Bw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $v(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function Fw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r){ki(new $n("platform-logger",e=>new iw(e),"PRIVATE")),ki(new $n("heartbeat",e=>new jw(e),"PRIVATE")),On(xm,Gv,r),On(xm,Gv,"esm2020"),On("fire-js","")}Gw("");var Kw="firebase",Yw="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(Kw,Yw,"app");function cT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qw=cT,hT=new Wa("auth","Firebase",cT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Nh("@firebase/auth");function $w(r,...e){oh.logLevel<=Le.WARN&&oh.warn(`Auth (${vo}): ${r}`,...e)}function Yc(r,...e){oh.logLevel<=Le.ERROR&&oh.error(`Auth (${vo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...e){throw dg(r,...e)}function gi(r,...e){return dg(r,...e)}function fT(r,e,n){const a={...Qw(),[e]:n};return new Wa("auth","Firebase",a).create(e,{appName:r.name})}function Yr(r){return fT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return hT.create(r,...e)}function Ee(r,e,...n){if(!r)throw dg(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Yc(e),new Error(e)}function Ji(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Xw(){return Xv()==="http:"||Xv()==="https:"}function Xv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xw()||tT()||"connection"in navigator)?navigator.onLine:!0}function Zw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=TI()||bI()}get(){return Ww()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){Ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tR=new uu(3e4,6e4);function Ja(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ra(r,e,n,a,o={}){return mT(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=lu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return SI()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&_o(r.emulatorConfig.host)&&(p.credentials="include"),dT.fetch()(await gT(r,r.config.apiHost,n,m),p)})}async function mT(r,e,n){r._canInitEmulator=!1;const a={...Jw,...e};try{const o=new iR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw qc(r,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fT(r,E,p);Xn(r,E)}}catch(o){if(o instanceof Jn)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function Dh(r,e,n,a,o={}){const u=await ra(r,e,n,a,o);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function gT(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return eR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(gi(this.auth,"network-request-failed")),tR.get())})}}function qc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=gi(r,e,a);return o.customData._tokenResponse=n,o}function Wv(r){return r!==void 0&&r.enterprise!==void 0}class rR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aR(r,e){return ra(r,"GET","/v2/recaptchaConfig",Ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(r,e){return ra(r,"POST","/v1/accounts:delete",e)}async function lh(r,e){return ra(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oR(r,e=!1){const n=Lt(r),a=await n.getIdToken(e),o=gg(a);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:zl(gm(o.auth_time)),issuedAtTime:zl(gm(o.iat)),expirationTime:zl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function gg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$1(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zv(r){const e=gg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Jn&&lR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function lR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){var k;const e=r.auth,n=await r.getIdToken(),a=await Xl(r,lh(e,{idToken:n}));Ee(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=(k=o.providerUserInfo)!=null&&k.length?pT(o.providerUserInfo):[],f=hR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function cR(r){const e=Lt(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function pT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(r,e){const n=await mT(r,{},async()=>{const a=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await gT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return r.emulatorConfig&&_o(r.emulatorConfig.host)&&(g.credentials="include"),dT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dR(r,e){return ra(r,"POST","/v2/accounts:revokeToken",Ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await fR(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new to;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await Xl(this,sR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:k,emailVerified:b,isAnonymous:M,providerData:G,stsTokenManager:Y}=n;Ee(k&&Y,e,"internal-error");const F=to.fromJSON(this.name,Y);Ee(typeof k=="string",e,"internal-error"),Ur(a,e.name),Ur(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),Ur(u,e.name),Ur(f,e.name),Ur(m,e.name),Ur(g,e.name),Ur(p,e.name),Ur(E,e.name);const ne=new Yn({uid:k,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(ne.providerData=G.map(re=>({...re}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,a=!1){const o=new to;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new to;m.updateFromIdToken(a);const g=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function Qi(r){Ji(r instanceof Function,"Expected a class definition");let e=Jv.get(r);return e?(Ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Jv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yT.type="NONE";const eE=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r,e,n){return`firebase:${r}:${e}:${n}`}class no{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new no(Qi(eE),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Qi(eE);const f=Qc(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let k;if(typeof E=="string"){const b=await lh(e,{idToken:E}).catch(()=>{});if(!b)break;k=await Yn._fromGetAccountInfoResponse(e,b,E)}else k=Yn._fromJSON(e,E);p!==u&&(m=k),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new no(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new no(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ST(e))return"Blackberry";if(bT(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function _T(r=Wt()){return/firefox\//i.test(r)}function vT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(r=Wt()){return/crios\//i.test(r)}function TT(r=Wt()){return/iemobile/i.test(r)}function kT(r=Wt()){return/android/i.test(r)}function ST(r=Wt()){return/blackberry/i.test(r)}function bT(r=Wt()){return/webos/i.test(r)}function pg(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mR(r=Wt()){var e;return pg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function gR(){return AI()&&document.documentMode===10}function AT(r=Wt()){return pg(r)||kT(r)||bT(r)||ST(r)||/windows phone/i.test(r)||TT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r,e=[]){let n;switch(r){case"Browser":n=tE(Wt());break;case"Worker":n=`${tE(Wt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,e={}){return ra(r,"GET","/v2/passwordPolicy",Ja(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class vR{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new pR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),a=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Yr(this));const n=e?Lt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),n=new vR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await dR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$w(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Eo(r){return Lt(r)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=xI(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(r){xh=r}function wT(r){return xh.loadJS(r)}function kR(){return xh.recaptchaEnterpriseScript}function SR(){return xh.gapiScript}function bR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AR{constructor(){this.enterprise=new IR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wR="recaptcha-enterprise",RT="NO_RECAPTCHA";class RR{constructor(e){this.type=wR,this.auth=Eo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{aR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new rR(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Wv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(RT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&Wv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kR();g.length!==0&&(g+=m),wT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function iE(r,e,n,a=!1,o=!1){const u=new RR(r);let f;if(o)f=RT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function rE(r,e,n,a,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await iE(r,e,n,n==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await iE(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r,e){const n=Za(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Wr(u,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function NR(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function DR(r,e,n){const a=Eo(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=CT(e),{host:f,port:m}=xR(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(Wr(p,a.config.emulator)&&Wr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,_o(f)?(J1(`${u}//${f}${g}`),eT("Auth",!0)):OR()}function CT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function xR(r){const e=CT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:aE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:aE(f)}}}function aE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function MR(r,e){return ra(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e){return Dh(r,"POST","/v1/accounts:signInWithPassword",Ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r,e){return Dh(r,"POST","/v1/accounts:signInWithEmailLink",Ja(r,e))}async function PR(r,e){return Dh(r,"POST","/v1/accounts:signInWithEmailLink",Ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends yg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Wl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,n,"signInWithPassword",LR);case"emailLink":return VR(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,a,"signUpPassword",MR);case"emailLink":return PR(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r,e){return Dh(r,"POST","/v1/accounts:signInWithIdp",Ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="http://localhost";class Ka extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new Ka(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,io(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:qR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HR(r){const e=Ll(Vl(r)).link,n=e?Ll(Vl(e)).deep_link_id:null,a=Ll(Vl(r)).deep_link_id;return(a?Ll(Vl(a)).link:null)||a||n||e||r}class _g{constructor(e){const n=Ll(Vl(e)),a=n.apiKey??null,o=n.oobCode??null,u=UR(n.mode??null);Ee(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HR(e);try{return new _g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=_g.parseLink(n);return Ee(a,"argument-error"),Wl._fromEmailAndCode(e,a.code,a.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends NT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends cu{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return jr.credential(n,a)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends cu{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends cu{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Br.credential(n,a)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Yn._fromIdTokenResponse(e,a,o),f=sE(a);return new so({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=sE(a);return new so({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function sE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Jn{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new ch(e,n,a,o)}}function DT(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,e,a):u})}async function jR(r,e,n=!1){const a=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return so._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,e,n=!1){const{auth:a}=r;if(Kn(a.app))return Promise.reject(Yr(a));const o="reauthenticate";try{const u=await Xl(r,DT(a,o,e,r),n);Ee(u.idToken,a,"internal-error");const f=gg(u.idToken);Ee(f,a,"internal-error");const{sub:m}=f;return Ee(r.uid===m,a,"user-mismatch"),so._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(r,e,n=!1){if(Kn(r.app))return Promise.reject(Yr(r));const a="signIn",o=await DT(r,a,e),u=await so._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function BR(r,e){return xT(Eo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r){const e=Eo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function GR(r,e,n){return Kn(r.app)?Promise.reject(Yr(r)):BR(Lt(r),To.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&FR(r),a})}function KR(r,e,n,a){return Lt(r).onIdTokenChanged(e,n,a)}function YR(r,e,n){return Lt(r).beforeAuthStateChanged(e,n)}function QR(r,e,n,a){return Lt(r).onAuthStateChanged(e,n,a)}function $R(r){return Lt(r).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e3,WR=10;class MT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);gR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WR):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const ZR=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LT.type="SESSION";const VT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Oh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await JR(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=vg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(k){const b=k;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function t2(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function n2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function r2(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",a2=1,fh="firebaseLocalStorage",UT="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(r,e){return r.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function s2(){const r=indexedDB.deleteDatabase(qT);return new hu(r).toPromise()}function Pm(){const r=indexedDB.open(qT,a2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(fh,{keyPath:UT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(fh)?e(a):(a.close(),await s2(),e(await Pm()))})})}async function oE(r,e,n){const a=Mh(r,!0).put({[UT]:e,value:n});return new hu(a).toPromise()}async function o2(r,e){const n=Mh(r,!1).get(e),a=await new hu(n).toPromise();return a===void 0?null:a.value}function lE(r,e){const n=Mh(r,!0).delete(e);return new hu(n).toPromise()}const l2=800,u2=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>u2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await n2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await oE(e,hh,"1"),await lE(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>oE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>o2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const c2=HT;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r,e){return e?Qi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f2(r){return xT(r.auth,new Eg(r),r.bypassAuthState)}function d2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),zR(n,new Eg(r),r.bypassAuthState)}async function m2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),jR(n,new Eg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:Xn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new uu(2e3,1e4);class eo extends jT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g2.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="pendingRedirect",$c=new Map;class y2 extends jT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const a=await _2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(r,e){const n=T2(e),a=E2(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function v2(r,e){$c.set(r._key(),e)}function E2(r){return Qi(r._redirectPersistence)}function T2(r){return Qc(p2,r.config.apiKey,r.name)}async function k2(r,e,n=!1){if(Kn(r.app))return Promise.reject(Yr(r));const a=Eo(r),o=h2(a,e),f=await new y2(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=600*1e3;class b2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!zT(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,e={}){return ra(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R2=/^https?/;async function C2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await I2(r);for(const n of e)try{if(N2(n))return}catch{}Xn(r,"unauthorized-domain")}function N2(r){const e=Lm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!R2.test(n))return!1;if(w2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new uu(3e4,6e4);function cE(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function x2(r){return new Promise((e,n)=>{var o,u,f;function a(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(gi(r,"network-request-failed"))},timeout:D2.get()})}if((u=(o=pi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=pi().gapi)!=null&&f.load)a();else{const m=bR("iframefcb");return pi()[m]=()=>{gapi.load?a():n(gi(r,"network-request-failed"))},wT(`${SR()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function O2(r){return Xc=Xc||x2(r),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new uu(5e3,15e3),L2="__/auth/iframe",V2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mg(e,V2):`https://${r.config.authDomain}/${L2}`,a={apiKey:e.apiKey,appName:r.name,v:vo},o=q2.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${lu(a).slice(1)}`}async function H2(r){const e=await O2(r),n=pi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:U2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},M2.get());function g(){pi().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z2=500,B2=600,F2="_blank",G2="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,e,n,a=z2,o=B2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...j2,width:a.toString(),height:o.toString(),top:u,left:f},p=Wt().toLowerCase();n&&(m=ET(p)?F2:n),_T(p)&&(e=e||G2,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[M,G])=>`${b}${M}=${G},`,"");if(mR(p)&&m!=="_self")return Y2(e||"",m),new hE(null);const k=window.open(e||"",m,E);Ee(k,r,"popup-blocked");try{k.focus()}catch{}return new hE(k)}function Y2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="__/auth/handler",$2="emulator/auth/handler",X2=encodeURIComponent("fac");async function fE(r,e,n,a,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:vo,eventId:o};if(e instanceof NT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",DI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,k]of Object.entries({}))f[E]=k}if(e instanceof cu){const E=e.getScopes().filter(k=>k!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${X2}=${encodeURIComponent(g)}`:"";return`${W2(r)}?${lu(m).slice(1)}${p}`}function W2({config:r}){return r.emulator?mg(r,$2):`https://${r.authDomain}/${Q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class Z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=k2,this._overrideRedirectResult=v2}async _openPopup(e,n,a,o){var f;Ji((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await fE(e,n,a,Lm(),o);return K2(e,u,vg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await fE(e,n,a,Lm(),o);return t2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ji(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await H2(e),a=new b2(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[pm];u!==void 0&&n(!!u),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AT()||vT()||pg()}}const J2=Z2;var dE="@firebase/auth",mE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nC(r){ki(new $n("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(r)},p=new ER(a,o,u,g);return NR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ki(new $n("auth-internal",e=>{const n=Eo(e.getProvider("auth").getImmediate());return(a=>new eC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(dE,mE,tC(r)),On(dE,mE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=300,rC=Z1("authIdTokenMaxAge")||iC;let gE=null;const aC=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>rC)return;const o=n==null?void 0:n.token;gE!==o&&(gE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sC(r=fg()){const e=Za(r,"auth");if(e.isInitialized())return e.getImmediate();const n=CR(r,{popupRedirectResolver:J2,persistence:[c2,ZR,VT]}),a=Z1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=aC(u.toString());YR(n,f,()=>f(n.currentUser)),KR(n,m=>f(m))}}const o=X1("auth");return o&&DR(n,`http://${o}`),n}function oC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}TR({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",oC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nC("Browser");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,BT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.F=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(L,A,N){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return w.prototype[A].apply(L,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);const L=Array(16);if(typeof w=="string")for(var A=0;A<16;++A)L[A]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(A=0;A<16;++A)L[A]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],A=D.g[2];let N=D.g[3],I;I=w+(N^R&(A^N))+L[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=N+(A^w&(R^A))+L[1]+3905402710&4294967295,N=w+(I<<12&4294967295|I>>>20),I=A+(R^N&(w^R))+L[2]+606105819&4294967295,A=N+(I<<17&4294967295|I>>>15),I=R+(w^A&(N^w))+L[3]+3250441966&4294967295,R=A+(I<<22&4294967295|I>>>10),I=w+(N^R&(A^N))+L[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=N+(A^w&(R^A))+L[5]+1200080426&4294967295,N=w+(I<<12&4294967295|I>>>20),I=A+(R^N&(w^R))+L[6]+2821735955&4294967295,A=N+(I<<17&4294967295|I>>>15),I=R+(w^A&(N^w))+L[7]+4249261313&4294967295,R=A+(I<<22&4294967295|I>>>10),I=w+(N^R&(A^N))+L[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=N+(A^w&(R^A))+L[9]+2336552879&4294967295,N=w+(I<<12&4294967295|I>>>20),I=A+(R^N&(w^R))+L[10]+4294925233&4294967295,A=N+(I<<17&4294967295|I>>>15),I=R+(w^A&(N^w))+L[11]+2304563134&4294967295,R=A+(I<<22&4294967295|I>>>10),I=w+(N^R&(A^N))+L[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=N+(A^w&(R^A))+L[13]+4254626195&4294967295,N=w+(I<<12&4294967295|I>>>20),I=A+(R^N&(w^R))+L[14]+2792965006&4294967295,A=N+(I<<17&4294967295|I>>>15),I=R+(w^A&(N^w))+L[15]+1236535329&4294967295,R=A+(I<<22&4294967295|I>>>10),I=w+(A^N&(R^A))+L[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=N+(R^A&(w^R))+L[6]+3225465664&4294967295,N=w+(I<<9&4294967295|I>>>23),I=A+(w^R&(N^w))+L[11]+643717713&4294967295,A=N+(I<<14&4294967295|I>>>18),I=R+(N^w&(A^N))+L[0]+3921069994&4294967295,R=A+(I<<20&4294967295|I>>>12),I=w+(A^N&(R^A))+L[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=N+(R^A&(w^R))+L[10]+38016083&4294967295,N=w+(I<<9&4294967295|I>>>23),I=A+(w^R&(N^w))+L[15]+3634488961&4294967295,A=N+(I<<14&4294967295|I>>>18),I=R+(N^w&(A^N))+L[4]+3889429448&4294967295,R=A+(I<<20&4294967295|I>>>12),I=w+(A^N&(R^A))+L[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=N+(R^A&(w^R))+L[14]+3275163606&4294967295,N=w+(I<<9&4294967295|I>>>23),I=A+(w^R&(N^w))+L[3]+4107603335&4294967295,A=N+(I<<14&4294967295|I>>>18),I=R+(N^w&(A^N))+L[8]+1163531501&4294967295,R=A+(I<<20&4294967295|I>>>12),I=w+(A^N&(R^A))+L[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=N+(R^A&(w^R))+L[2]+4243563512&4294967295,N=w+(I<<9&4294967295|I>>>23),I=A+(w^R&(N^w))+L[7]+1735328473&4294967295,A=N+(I<<14&4294967295|I>>>18),I=R+(N^w&(A^N))+L[12]+2368359562&4294967295,R=A+(I<<20&4294967295|I>>>12),I=w+(R^A^N)+L[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=N+(w^R^A)+L[8]+2272392833&4294967295,N=w+(I<<11&4294967295|I>>>21),I=A+(N^w^R)+L[11]+1839030562&4294967295,A=N+(I<<16&4294967295|I>>>16),I=R+(A^N^w)+L[14]+4259657740&4294967295,R=A+(I<<23&4294967295|I>>>9),I=w+(R^A^N)+L[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=N+(w^R^A)+L[4]+1272893353&4294967295,N=w+(I<<11&4294967295|I>>>21),I=A+(N^w^R)+L[7]+4139469664&4294967295,A=N+(I<<16&4294967295|I>>>16),I=R+(A^N^w)+L[10]+3200236656&4294967295,R=A+(I<<23&4294967295|I>>>9),I=w+(R^A^N)+L[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=N+(w^R^A)+L[0]+3936430074&4294967295,N=w+(I<<11&4294967295|I>>>21),I=A+(N^w^R)+L[3]+3572445317&4294967295,A=N+(I<<16&4294967295|I>>>16),I=R+(A^N^w)+L[6]+76029189&4294967295,R=A+(I<<23&4294967295|I>>>9),I=w+(R^A^N)+L[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=N+(w^R^A)+L[12]+3873151461&4294967295,N=w+(I<<11&4294967295|I>>>21),I=A+(N^w^R)+L[15]+530742520&4294967295,A=N+(I<<16&4294967295|I>>>16),I=R+(A^N^w)+L[2]+3299628645&4294967295,R=A+(I<<23&4294967295|I>>>9),I=w+(A^(R|~N))+L[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=N+(R^(w|~A))+L[7]+1126891415&4294967295,N=w+(I<<10&4294967295|I>>>22),I=A+(w^(N|~R))+L[14]+2878612391&4294967295,A=N+(I<<15&4294967295|I>>>17),I=R+(N^(A|~w))+L[5]+4237533241&4294967295,R=A+(I<<21&4294967295|I>>>11),I=w+(A^(R|~N))+L[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=N+(R^(w|~A))+L[3]+2399980690&4294967295,N=w+(I<<10&4294967295|I>>>22),I=A+(w^(N|~R))+L[10]+4293915773&4294967295,A=N+(I<<15&4294967295|I>>>17),I=R+(N^(A|~w))+L[1]+2240044497&4294967295,R=A+(I<<21&4294967295|I>>>11),I=w+(A^(R|~N))+L[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=N+(R^(w|~A))+L[15]+4264355552&4294967295,N=w+(I<<10&4294967295|I>>>22),I=A+(w^(N|~R))+L[6]+2734768916&4294967295,A=N+(I<<15&4294967295|I>>>17),I=R+(N^(A|~w))+L[13]+1309151649&4294967295,R=A+(I<<21&4294967295|I>>>11),I=w+(A^(R|~N))+L[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=N+(R^(w|~A))+L[11]+3174756917&4294967295,N=w+(I<<10&4294967295|I>>>22),I=A+(w^(N|~R))+L[2]+718787259&4294967295,A=N+(I<<15&4294967295|I>>>17),I=R+(N^(A|~w))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+N&4294967295}a.prototype.v=function(D,w){w===void 0&&(w=D.length);const R=w-this.blockSize,L=this.C;let A=this.h,N=0;for(;N<w;){if(A==0)for(;N<=R;)o(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<w;)if(L[A++]=D.charCodeAt(N++),A==this.blockSize){o(this,L),A=0;break}}else for(;N<w;)if(L[A++]=D[N++],A==this.blockSize){o(this,L),A=0;break}}this.h=A,this.o+=w},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)D[w++]=this.g[R]>>>L&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;const R=[];let L=!0;for(let A=D.length-1;A>=0;A--){const N=D[A]|0;L&&N==w||(R[A]=N,L=!1)}this.g=R}var m={};function g(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return k;if(D<0)return F(p(-D));const w=[];let R=1;for(let L=0;D>=R;L++)w[L]=D/R|0,R*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return F(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let L=k;for(let N=0;N<D.length;N+=8){var A=Math.min(8,D.length-N);const I=parseInt(D.substring(N,N+A),w);A<8?(A=p(Math.pow(w,A)),L=L.j(A).add(p(I))):(L=L.j(R),L=L.add(p(I)))}return L}var k=g(0),b=g(1),M=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();let D=0,w=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);D+=(L>=0?L:4294967296+L)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(Y(this))return"-"+F(this).toString(D);const w=p(Math.pow(D,6));var R=this;let L="";for(;;){const A=_e(R,w).g;R=ne(R,A.j(w));let N=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=A,G(R))return N+L;for(;N.length<6;)N="0"+N;L=N+L}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=ne(this,D),Y(D)?-1:G(D)?0:1};function F(D){const w=D.g.length,R=[];for(let L=0;L<w;L++)R[L]=~D.g[L];return new f(R,~D.h).add(b)}r.abs=function(){return Y(this)?F(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),R=[];let L=0;for(let A=0;A<=w;A++){let N=L+(this.i(A)&65535)+(D.i(A)&65535),I=(N>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);L=I>>>16,N&=65535,I&=65535,R[A]=I<<16|N}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(D,w){return D.add(F(w))}r.j=function(D){if(G(this)||G(D))return k;if(Y(this))return Y(D)?F(this).j(F(D)):F(F(this).j(D));if(Y(D))return F(this.j(F(D)));if(this.l(M)<0&&D.l(M)<0)return p(this.m()*D.m());const w=this.g.length+D.g.length,R=[];for(var L=0;L<2*w;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let A=0;A<D.g.length;A++){const N=this.i(L)>>>16,I=this.i(L)&65535,pe=D.i(A)>>>16,Ce=D.i(A)&65535;R[2*L+2*A]+=I*Ce,re(R,2*L+2*A),R[2*L+2*A+1]+=N*Ce,re(R,2*L+2*A+1),R[2*L+2*A+1]+=I*pe,re(R,2*L+2*A+1),R[2*L+2*A+2]+=N*pe,re(R,2*L+2*A+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new f(R,0)};function re(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function te(D,w){this.g=D,this.h=w}function _e(D,w){if(G(w))throw Error("division by zero");if(G(D))return new te(k,k);if(Y(D))return w=_e(F(D),w),new te(F(w.g),F(w.h));if(Y(w))return w=_e(D,F(w)),new te(F(w.g),w.h);if(D.g.length>30){if(Y(D)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,L=w;L.l(D)<=0;)R=he(R),L=he(L);var A=Re(R,1),N=Re(L,1);for(L=Re(L,2),R=Re(R,2);!G(L);){var I=N.add(L);I.l(D)<=0&&(A=A.add(R),N=I),L=Re(L,1),R=Re(R,1)}return w=ne(D,A.j(w)),new te(A,w)}for(A=k;D.l(w)>=0;){for(R=Math.max(1,Math.floor(D.m()/w.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),N=p(R),I=N.j(w);Y(I)||I.l(D)>0;)R-=L,N=p(R),I=N.j(w);G(N)&&(N=b),A=A.add(N),D=ne(D,I)}return new te(A,D)}r.B=function(D){return _e(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let L=0;L<w;L++)R[L]=this.i(L)&D.i(L);return new f(R,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let L=0;L<w;L++)R[L]=this.i(L)|D.i(L);return new f(R,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let L=0;L<w;L++)R[L]=this.i(L)^D.i(L);return new f(R,this.h^D.h)};function he(D){const w=D.g.length+1,R=[];for(let L=0;L<w;L++)R[L]=D.i(L)<<1|D.i(L-1)>>>31;return new f(R,D.h)}function Re(D,w){const R=w>>5;w%=32;const L=D.g.length-R,A=[];for(let N=0;N<L;N++)A[N]=w>0?D.i(N+R)>>>w|D.i(N+R+1)<<32-w:D.i(N+R);return new f(A,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,BT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Qr=f}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,Pl,GT,Wc,qm,KT,YT,QT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break e;_=_[q]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,q,B){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return y.prototype[q].apply(S,ie)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function G(c,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var _=typeof q;if(_=_!="object"?_:q?Array.isArray(q)?"array":_:"null",_=="array"||_=="object"&&typeof q.length=="number"){_=c.length||0;const B=q.length||0;c.length=_+B;for(let ie=0;ie<B;ie++)c[_+ie]=q[ie]}else c.push(q)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,_){const S=te.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new Y(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Re=!1,D=new re,w=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(_){F(_)}var y=te;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Re=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function pe(c,y){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}k(pe,A),pe.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),K=0;function ae(c,y,_,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++K,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function He(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function ee(c){const y={};for(const _ in c)y[_]=c[_];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let B=0;B<oe.length;B++)_=oe[B],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,y,_,S,q){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const ie=ke(c,y,S,q);return ie>-1?(y=c[ie],_||(y.fa=!1)):(y=new ae(y,this.src,B,!!S,q),y.fa=_,c.push(y)),y};function Me(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,y,void 0),B;(B=q>=0)&&Array.prototype.splice.call(S,q,1),B&&(ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ke(c,y,_,S){for(let q=0;q<c.length;++q){const B=c[q];if(!B.da&&B.listener==y&&B.capture==!!_&&B.ha==S)return q}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ye={};function Ln(c,y,_,S,q){if(Array.isArray(y)){for(let B=0;B<y.length;B++)Ln(c,y[B],_,S,q);return null}return _=_u(_),c&&c[Ce]?c.J(y,_,m(S)?!!S.capture:!1,q):Io(c,y,_,!1,S,q)}function Io(c,y,_,S,q,B){if(!y)throw Error("Invalid event type");const ie=m(q)?!!q.capture:!!q;let Ae=wo(c);if(Ae||(c[Vt]=Ae=new de(c)),_=Ae.add(y,_,S,ie,B),_.proxy)return _;if(S=as(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)N||(q=ie),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(os(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function as(){function c(_){return y.call(c.src,c.listener,_)}const y=Jh;return c}function ss(c,y,_,S,q){if(Array.isArray(y))for(var B=0;B<y.length;B++)ss(c,y[B],_,S,q);else S=m(S)?!!S.capture:!!S,_=_u(_),c&&c[Ce]?(c=c.i,B=String(y).toString(),B in c.g&&(y=c.g[B],_=ke(y,_,S,q),_>-1&&(ge(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[B],c.h--)))):c&&(c=wo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ke(y,_,S,q)),(_=c>-1?y[c]:null)&&aa(_))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ce])Me(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(os(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=wo(y))?(Me(_,c),_.h==0&&(_.src=null,y[Vt]=null)):ge(c)}}}function os(c){return c in Ye?Ye[c]:Ye[c]="on"+c}function Jh(c,y){if(c.da)c=!0;else{y=new pe(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&aa(c),c=_.call(S,y)}return c}function wo(c){return c=c[Vt],c instanceof de?c:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _u(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(y){return c.handleEvent(y)}),c[rn])}function bt(){L.call(this),this.i=new de(this),this.M=this,this.G=null}k(bt,L),bt.prototype[Ce]=!0,bt.prototype.removeEventListener=function(c,y,_,S){ss(this,c,y,_,S)};function Ct(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new A(y,c);else if(y instanceof A)y.target=y.target||c;else{var q=y;y=new A(S,c),se(y,q)}q=!0;let B,ie;if(_)for(ie=_.length-1;ie>=0;ie--)B=y.g=_[ie],q=Ii(B,S,!0,y)&&q;if(B=y.g=c,q=Ii(B,S,!0,y)&&q,q=Ii(B,S,!1,y)&&q,_)for(ie=0;ie<_.length;ie++)B=y.g=_[ie],q=Ii(B,S,!1,y)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)ge(_[S]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},bt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Ii(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let B=0;B<y.length;++B){const ie=y[B];if(ie&&!ie.da&&ie.capture==_){const Ae=ie.listener,nt=ie.ha||ie.src;ie.fa&&Me(c.i,ie),q=Ae.call(nt,S)!==!1&&q}}return q&&!S.defaultPrevented}function ef(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ro(c){c.g=ef(()=>{c.g=null,c.i&&(c.i=!1,Ro(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tf extends L{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){L.call(this),this.h=c,this.g={}}k(sa,L);var nr=[];function Ft(c){He(c.g,function(y,_){this.g.hasOwnProperty(_)&&aa(y)},c),c.g={}}sa.prototype.N=function(){sa.Z.N.call(this),Ft(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,Zt=f.JSON.parse,nf=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){A.call(this,"d")}k(ir,A);function Vn(){A.call(this,"c")}k(Vn,A);var En={},rr=null;function ls(){return rr=rr||new bt}En.Ia="serverreachability";function Co(c){A.call(this,En.Ia,c)}k(Co,A);function ar(c){const y=ls();Ct(y,new Co(y))}En.STAT_EVENT="statevent";function us(c,y){A.call(this,En.STAT_EVENT,c),this.stat=y}k(us,A);function ht(c){const y=ls();Ct(y,new us(y,c))}En.Ja="timingevent";function Tu(c,y){A.call(this,En.Ja,c),this.size=y}k(Tu,A);function sr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function No(c,y,_,S,q,B){c.info(function(){if(c.g)if(B){var ie="",Ae=B.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var nt=Ae[Fe].split("=");if(nt.length>1){const mt=nt[0];nt=nt[1];const cn=mt.split("_");ie=cn.length>=2&&cn[1]=="type"?ie+(mt+"="+nt+"&"):ie+(mt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+ie})}function Do(c,y,_,S,q,B,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+B+" "+ie})}function wi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ti(c,_)+(S?" "+S:"")})}function rf(c,y){c.info(function(){return"TIMEOUT: "+y})}or.prototype.info=function(){};function ti(c,y){if(!c.g)return y;if(!y)return null;try{const B=JSON.parse(y);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var _=B[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return vn(B)}catch{return y}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ri;function oa(){}k(oa,vu),oa.prototype.g=function(){return new XMLHttpRequest},Ri=new oa;function la(c){return encodeURIComponent(String(c))}function af(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Pn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var cs={},ni={};function ii(c,y,_){c.M=1,c.A=Ni(st(y)),c.u=_,c.R=!0,ur(c,null)}function ur(c,y){c.F=Date.now(),ua(c),c.B=st(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Au(_.i,"t",S),c.C=0,_=c.j.L,c.h=new lr,c.g=Es(c.j,_?y:null,!c.u),c.P>0&&(c.O=new tf(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(nr[0]=q.toString()),q=nr);for(let B=0;B<q.length;B++){const ie=Ln(_,q[B],S||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ar(),No(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Gt(c)==3?y.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Gt(this.g),nt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ea(this.g)))){this.K||Ae!=4||nt==7||(nt==8||Fe<=0?ar(3):ar(2)),ai(this);var y=this.g.ca();this.X=y;var _=cr(this);if(this.o=y==200,Do(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var B=S;break t}}B=null}if(c=B)wi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hs(this,c);else{this.o=!1,this.m=3,ht(12),si(this),ca(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=ku(this,_),mt==ni){Ae==4&&(this.m=4,ht(14),c=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==cs){this.m=4,ht(15),wi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else wi(this.i,this.l,mt,null),hs(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)wi(this.i,this.l,_,"[Invalid Chunked Response]"),si(this),ca(this);else if(_.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jo(ie),ie.P=!0,ht(11))}}else wi(this.i,this.l,_,null),hs(this,_);Ae==4&&si(this),this.o&&!this.K&&(Ae==4?zo(this.j,this):(this.o=!1,ua(this)))}else Ta(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),si(this),ca(this)}}}catch{}finally{}};function cr(c){if(!dt(c))return c.g.la();const y=Ea(c.g);if(y==="")return"";let _="";const S=y.length,q=Gt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return si(c),ca(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,_+=c.h.i.decode(y[B],{stream:!(q&&B==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ni:(_=Number(y.substring(_,S)),isNaN(_)?cs:(S+=1,S+_>y.length?ni:(y=y.slice(S,S+_),c.C=S+_,y)))}Pn.prototype.cancel=function(){this.K=!0,si(this)};function ua(c){c.T=Date.now()+c.H,ri(c,c.H)}function ri(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=sr(p(c.aa,c),y)}function ai(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(rf(this.i,this.B),this.M!=2&&(ar(),ht(17)),si(this),this.m=2,ca(this)):ri(this,this.T-c)};function ca(c){c.j.I==0||c.K||zo(c.j,c)}function si(c){ai(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ft(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function hs(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||da(_.h,c))){if(!c.L&&da(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)vs(_),oi(_);else break e;Ho(_),ht(18)}}else _.xa=q[1],0<_.xa-_.K&&q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=sr(p(_.Va,_),6e3));Tn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Oi(_,11)}else if((c.L||_.g==c)&&vs(_),!I(y))for(q=_.Ba.g.parse(y),y=0;y<q.length;y++){let Fe=q[y];const mt=Fe[0];if(!(mt<=_.K))if(_.K=mt,Fe=Fe[1],_.I==2)if(Fe[0]=="c"){_.M=Fe[1],_.ba=Fe[2];const cn=Fe[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const li=Fe[4];li!=null&&(_.za=li,_.j.info("SVER="+_.za));const Hn=Fe[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const jn=c.g;if(jn){const zn=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zn){var B=S.h;B.g||zn.indexOf("spdy")==-1&&zn.indexOf("quic")==-1&&zn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(fs(B,B.h),B.h=null))}if(S.G){const Fo=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(S.wa=Fo,Qe(S.J,S.G,Fo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var ie=c;if(S.na=Mu(S,S.L?S.ba:null,S.W),ie.L){Ci(S.h,ie);var Ae=ie,nt=S.O;nt&&(Ae.H=nt),Ae.D&&(ai(Ae),ua(Ae)),S.g=ie}else Nu(S);_.i.length>0&&Aa(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Oi(_,7);else _.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Oi(_,7):Sa(_):Fe[0]!="noop"&&_.l&&_.l.qa(Fe),_.A=0)}}ar(4)}catch{}}var sf=class{constructor(c,y){this.g=c,this.map=y}};function ha(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tn(c){return c.h?1:c.g?c.g.size:0}function da(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fs(c,y){c.g?c.g.add(y):c.h=y}function Ci(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ha.prototype.cancel=function(){if(this.i=ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ds(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return M(c.i)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function of(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let q,B=null;S>=0?(q=c[_].substring(0,S),B=c[_].substring(S+1)):q=c[_],y(q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function qn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof qn?(this.l=c.l,hr(this,c.j),this.o=c.o,this.g=c.g,ma(this,c.u),this.h=c.h,fr(this,Iu(c.i)),this.m=c.m):c&&(y=String(c).match(ms))?(this.l=!1,hr(this,y[1]||"",!0),this.o=ga(y[2]||""),this.g=ga(y[3]||"",!0),ma(this,y[4]),this.h=ga(y[5]||"",!0),fr(this,y[6]||"",!0),this.m=ga(y[7]||"")):(this.l=!1,this.i=new kn(null,this.l))}qn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Nt(y,Oo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Nt(y,Oo,!0),"@"),c.push(la(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nt(_,_.charAt(0)=="/"?dr:Mo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nt(_,bu)),c.join("")},qn.prototype.resolve=function(c){const y=st(this);let _=!!c.j;_?hr(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)ma(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const B=[];for(let ie=0;ie<q.length;){const Ae=q[ie++];Ae=="."?S&&ie==q.length&&B.push(""):Ae==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&ie==q.length&&B.push("")):(B.push(Ae),S=!0)}S=B.join("/")}else S=q}return _?y.h=S:_=c.i.toString()!=="",_?fr(y,Iu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function st(c){return new qn(c)}function hr(c,y,_){c.j=_?ga(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ma(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function fr(c,y,_){y instanceof kn?(c.i=y,Po(c.i,c.l)):(_||(y=Nt(y,Su)),c.i=new kn(y,c.l))}function Qe(c,y,_){c.i.set(y,_)}function Ni(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ga(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nt(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,xo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,Mo=/[#\?:]/g,dr=/[#\?]/g,Su=/[#\?@]/g,bu=/#/g;function kn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&of(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=kn.prototype,r.add=function(c,y){Di(this),this.i=null,c=Un(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Lo(c,y){Di(c),y=Un(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vo(c,y){return Di(c),y=Un(c,y),c.g.has(y)}r.forEach=function(c,y){Di(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(y,q,S,this)},this)},this)};function gs(c,y){Di(c);let _=[];if(typeof y=="string")Vo(c,y)&&(_=_.concat(c.g.get(Un(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}r.set=function(c,y){return Di(this),this.i=null,c=Un(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=gs(this,c),c.length>0?String(c[0]):y):y};function Au(c,y,_){Lo(c,y),_.length>0&&(c.i=null,c.g.set(Un(c,y),M(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const q=la(_);_=gs(this,_);for(let B=0;B<_.length;B++){let ie=q;_[B]!==""&&(ie+="="+la(_[B])),c.push(ie)}}return this.i=c.join("&")};function Iu(c){const y=new kn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Un(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Po(c,y){y&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(_,S){const q=S.toLowerCase();S!=q&&(Lo(this,S),Au(this,q,_))},c)),c.j=y}function qo(c,y){const _=new or;if(f.Image){const S=new Image;S.onload=E(Jt,_,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Jt,_,"TestLoadImage: error",!1,y,S),S.onabort=E(Jt,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Jt,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function mr(c,y){const _=new or,S=new AbortController,q=setTimeout(()=>{S.abort(),Jt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(q),B.ok?Jt(_,"TestPingServer: ok",!0,y):Jt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Jt(_,"TestPingServer: error",!1,y)})}function Jt(c,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function wu(){this.g=new nf}function pa(c){this.i=c.Sb||null,this.h=c.ab||!1}k(pa,vu),pa.prototype.g=function(){return new ya(this.i,this.h)};function ya(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}k(ya,bt),r=ya.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,xi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,en(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function gr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?en(this):xi(this),this.readyState==3&&gr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,en(this))},r.Na=function(c){this.g&&(this.response=c,en(this))},r.ga=function(){this.g&&en(this)};function en(c){c.readyState=4,c.l=null,c.j=null,c.B=null,xi(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function xi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pr(c){let y="";return He(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Sn(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=pr(_),typeof c=="string"?_!=null&&la(_):Qe(c,y,_))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}k(Je,bt);var ps=/^https?$/i,Ru=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ri.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(B){_a(this,B);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())_.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ru,y,void 0)>=0)||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of _)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){_a(this,B)}};function _a(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,va(c),At(c)}function va(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ct(this,"complete"),Ct(this,"abort"),At(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),At(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Uo(this):this.Xa())},r.Xa=function(){Uo(this)};function Uo(c){if(c.h&&typeof u<"u"){if(c.v&&Gt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ct(c,"readystatechange"),Gt(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=B===0){let ie=String(c.D).match(ms)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),S=!ps.test(ie?ie.toLowerCase():"")}_=S}if(_)Ct(c,"complete"),Ct(c,"success");else{c.o=6;try{var q=Gt(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",va(c)}}finally{At(c)}}}}function At(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Ct(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gt(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zt(y)}};function Ea(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(c){const y={};c=(c.g&&Gt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var _=af(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=y[q]||[];y[q]=B,B.push(_)}x(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ys(c){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,c),this.Za=ka("retryDelaySeedMs",1e4,c),this.Ta=ka("forwardChannelMaxRetries",2,c),this.va=ka("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ha(c&&c.concurrentRequestLimit),this.Ba=new wu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ys.prototype,r.ka=8,r.I=1,r.connect=function(c,y,_,S){ht(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),Aa(this)};function Sa(c){if(ba(c),c.I==3){var y=c.V++,_=st(c.J);if(Qe(_,"SID",c.M),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Ia(c,_),y=new Pn(c,c.j,y),y.M=2,y.A=Ni(st(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Es(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ua(y)}Ou(c)}function oi(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function ba(c){oi(c),c.v&&(f.clearTimeout(c.v),c.v=null),vs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Aa(c){if(!fa(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||w(),Re||(he(),Re=!0),D.add(y,c),c.D=0}}function lf(c,y){return Tn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=sr(p(c.Ea,c,y),xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Pn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=ee(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(q.J=B,B=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=_s(this,q,y),_=st(this.J),Qe(_,"RID",c),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),Ia(this,_),B&&(this.R?y="headers="+la(pr(B))+"&"+y:this.u&&Sn(_,this.u,B)),fs(this.h,q),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",y),Qe(_,"SID","null"),q.U=!0,ii(q,_,null)):ii(q,_,y),this.I=2}}else this.I==3&&(c?Cu(this,c):this.i.length==0||fa(this.h)||Cu(this))};function Cu(c,y){var _;y?_=y.l:_=c.V++;const S=st(c.J);Qe(S,"SID",c.M),Qe(S,"RID",_),Qe(S,"AID",c.K),Ia(c,S),c.u&&c.o&&Sn(S,c.u,c.o),_=new Pn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=_s(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),fs(c.h,_),ii(_,S,y)}function Ia(c,y){c.H&&He(c.H,function(_,S){Qe(y,S,_)}),c.l&&He({},function(_,S){Qe(y,S,_)})}function _s(c,y,_){_=Math.min(c.i.length,_);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ae=-1;for(;;){const nt=["count="+_];Ae==-1?_>0?(Ae=q[0].g,nt.push("ofs="+Ae)):Ae=0:nt.push("ofs="+Ae);let Fe=!0;for(let mt=0;mt<_;mt++){var B=q[mt].g;const cn=q[mt].map;if(B-=Ae,B<0)Ae=Math.max(0,q[mt].g-100),Fe=!1;else try{B="req"+B+"_"||"";try{var ie=cn instanceof Map?cn:Object.entries(cn);for(const[li,Hn]of ie){let jn=Hn;m(Hn)&&(jn=vn(Hn)),nt.push(B+li+"="+encodeURIComponent(jn))}}catch(li){throw nt.push(B+"type="+encodeURIComponent("_badmap")),li}}catch{S&&S(cn)}}if(Fe){ie=nt.join("&");break e}}ie=void 0}return c=c.i.splice(0,_),y.G=c,ie}function Nu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||w(),Re||(he(),Re=!0),D.add(y,c),c.A=0}}function Ho(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=sr(p(c.Da,c),xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=sr(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),oi(this),Du(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=st(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Ia(c,y),c.u&&c.o&&Sn(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ni(st(y)),_.u=null,_.R=!0,ur(_,c)}r.Va=function(){this.C!=null&&(this.C=null,oi(this),Ho(this),ht(19))};function vs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function zo(c,y){var _=null;if(c.g==y){vs(c),jo(c),c.g=null;var S=2}else if(da(c.h,y))_=y.G,Ci(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;S=ls(),Ct(S,new Tu(S,_)),Aa(c)}else Nu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&lf(c,y)||S==2&&Ho(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function xu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),S=c.Ua;const q=!S;S=new qn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||hr(S,"https"),Ni(S),q?qo(S.toString(),_):mr(S.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(y),Ou(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const y=ds(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Mu(c,y,_){var S=_ instanceof qn?st(_):new qn(_);if(S.g!="")y&&(S.g=y+"."+S.g),ma(S,S.u);else{var q=f.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const B=new qn(null);S&&hr(B,S),y&&(B.g=y),q&&ma(B,q),_&&(B.h=_),S=B}return _=c.G,y=c.wa,_&&y&&Qe(S,_,y),Qe(S,"VER",c.ka),Ia(c,S),S}function Es(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new pa({ab:_})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ts(){}Ts.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){bt.call(this),this.g=new ys(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}k(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Sa(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=vn(c),c=_);y.i.push(new sf(y.Ya++,c)),y.I==3&&Aa(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Sa(this.g),delete this.g,tn.Z.N.call(this)};function Bo(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Bo,ir);function Vu(){Vn.call(this),this.status=1}k(Vu,Vn);function yr(c){this.g=c}k(yr,Lu),yr.prototype.ra=function(){Ct(this.g,"a")},yr.prototype.qa=function(c){Ct(this.g,new Bo(c))},yr.prototype.pa=function(c){Ct(this.g,new Vu)},yr.prototype.oa=function(){Ct(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,QT=function(){return new Ts},YT=function(){return ls()},KT=En,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Wc=ft,Pt.COMPLETE="complete",GT=Pt,Eu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Pl=Eu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,FT=Je}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",_E="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Nh("@firebase/firestore");function Xs(){return Ya.logLevel}function ue(r,...e){if(Ya.logLevel<=Le.DEBUG){const n=e.map(Tg);Ya.debug(`Firestore (${ko}): ${r}`,...n)}}function er(r,...e){if(Ya.logLevel<=Le.ERROR){const n=e.map(Tg);Ya.error(`Firestore (${ko}): ${r}`,...n)}}function oo(r,...e){if(Ya.logLevel<=Le.WARN){const n=e.map(Tg);Ya.warn(`Firestore (${ko}): ${r}`,...n)}}function Tg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,$T(r,a,n)}function $T(r,e,n){let a=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw er(a),new Error(a)}function Be(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||$T(e,o,a)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class uC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Be(typeof a.accessToken=="string",31837,{l:a}),new XT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class hC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new hC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const a=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=mC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ve(r,e){return r<e?-1:r>e?1:0}function Um(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return ym(o)===ym(u)?Ve(o,u):ym(o)?1:-1}return Ve(r.length,e.length)}const gC=55296,pC=57343;function ym(r){const e=r.charCodeAt(0);return e>=gC&&e<=pC}function lo(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__name__";class mi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Te(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const a=mi.isNumericId(e),o=mi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class tt extends mi{construct(e,n,a){return new tt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends mi{construct(e,n,a){return new zt(e,n,a)}static isValidIdentifier(e){return yC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new zt([EE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r,e,n){if(!n)throw new le(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _C(r,e,n,a){if(e===!0&&a===!0)throw new le(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function TE(r){if(!me.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kE(r){if(me.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ZT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Xi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(r);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const n={typeString:r};return e&&(n.value=e),n}function fu(r,e){if(!ZT(r))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=-62135596800,bE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*bE);return new it(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:St("string",it._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function vC(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new it(n+1,0):new it(n,a));return new Zr(o,me.empty(),e)}function EC(r){return new Zr(r.readTime,r.key,Zl)}class Zr{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Zr(be.min(),me.empty(),Zl)}static max(){return new Zr(be.max(),me.empty(),Zl)}}function TC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==kC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,a)=>{n(e)}))}static reject(e){return new Z(((n,a)=>{a(e)}))}static waitFor(e){return new Z(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>a(g)))})),f=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const a of e)n=n.next((o=>o?Z.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new Z(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function bC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=-1;function Ph(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function AC(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function IC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=AE(e)),e=wC(r.get(n),e);return AE(e)}function wC(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function AE(r){return r+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function e0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??jt.RED,this.left=o??jt.EMPTY,this.right=u??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new jt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Rt(zt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new t0("Invalid base64 string: "+u):u}})(e);return new Bt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Be(!!r,39018),typeof r=="string"){let e=0;const n=RC.exec(r);if(Be(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ea(r){return typeof r=="string"?Bt.fromBase64String(r):Bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="server_timestamp",i0="__type__",r0="__previous_value__",a0="__local_write_time__";function bg(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[i0])==null?void 0:a.stringValue)===n0}function qh(r){const e=r.mapValue.fields[r0];return bg(e)?qh(e):e}function Jl(r){const e=Jr(r.mapValue.fields[a0].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,a,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const mh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__type__",NC="__max__",jc={mapValue:{}},o0="__vector__",gh="value";function ta(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bg(r)?4:xC(r)?9007199254740991:DC(r)?10:11:Te(28295,{value:r})}function Si(r,e){if(r===e)return!0;const n=ta(r);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ea(o.bytesValue).isEqual(ea(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(IE(f)!==IE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Si(f[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((n=>Si(n,e)))!==void 0}function uo(r,e){if(r===e)return 0;const n=ta(r),a=ta(e);if(n!==a)return Ve(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(Jl(r),Jl(e));case 5:return Um(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ea(u),g=ea(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(yt(u.latitude),yt(f.latitude));return m!==0?m:Ve(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var b,M,G,Y;const m=u.fields||{},g=f.fields||{},p=(b=m[gh])==null?void 0:b.arrayValue,E=(M=g[gh])==null?void 0:M.arrayValue,k=Ve(((G=p==null?void 0:p.values)==null?void 0:G.length)||0,((Y=E==null?void 0:E.values)==null?void 0:Y.length)||0);return k!==0?k:CE(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let k=0;k<g.length&&k<E.length;++k){const b=Um(g[k],E[k]);if(b!==0)return b;const M=uo(m[g[k]],p[E[k]]);if(M!==0)return M}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Jr(r),a=Jr(e),o=Ve(n.seconds,a.seconds);return o!==0?o:Ve(n.nanos,a.nanos)}function CE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=uo(n[o],a[o]);if(u)return u}return Ve(n.length,a.length)}function co(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Jr(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ea(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Hm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Hm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Zc(r){switch(ta(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return ea(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Zc(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return es(a.fields,((u,f)=>{o+=u.length+Zc(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function NE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function Ag(r){return!!r&&"arrayValue"in r}function DE(r){return!!r&&"nullValue"in r}function xE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function DC(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[s0])==null?void 0:a.stringValue)===o0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Bl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function xC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=zt.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){es(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Dn(Bl(this.value))}}function l0(r){const e=[];return es(r.fields,((n,a)=>{const o=new zt([n]);if(Jc(a)){const u=l0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),Dn.empty(),0)}static newFoundDocument(e,n,a,o){return new Xt(e,1,n,be.min(),a,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=me.comparator(me.fromName(f.referenceValue),n.key):a=uo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function ME(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Si(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function OC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{}class kt extends u0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new LC(e,n,a):n==="array-contains"?new qC(e,a):n==="in"?new UC(e,a):n==="not-in"?new HC(e,a):n==="array-contains-any"?new jC(e,a):new kt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new VC(e,a):new PC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends u0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return c0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(r){return r.op==="and"}function h0(r){return MC(r)&&c0(r)}function MC(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function zm(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+co(r.value);if(h0(r))return r.filters.map((e=>zm(e))).join(",");{const e=r.filters.map((n=>zm(n))).join(",");return`${r.op}(${e})`}}function f0(r,e){return r instanceof kt?(function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Si(a.value,o.value)})(r,e):r instanceof Wn?(function(a,o){return o instanceof Wn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&f0(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function d0(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(r):r instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(d0).join(" ,")+"}"})(r):"Filter"}class LC extends kt{constructor(e,n,a){super(e,n,a),this.key=me.fromName(a.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class VC extends kt{constructor(e,n){super(e,"in",n),this.keys=m0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PC extends kt{constructor(e,n){super(e,"not-in",n),this.keys=m0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function m0(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>me.fromName(a.referenceValue)))}class qC extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ag(n)&&tu(n.arrayValue,this.value)}}class UC extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class HC extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class jC extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>tu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function LE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new zC(r,e,n,a,o,u,f)}function Ig(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>zm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>co(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>co(a))).join(",")),e.Te=n}return e.Te}function wg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!OC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!f0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ME(r.startAt,e.startAt)&&ME(r.endAt,e.endAt)}function Bm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BC(r,e,n,a,o,u,f,m){return new du(r,e,n,a,o,u,f,m)}function Uh(r){return new du(r)}function VE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function g0(r){return r.collectionGroup!==null}function Fl(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(zt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yh(u,a))})),n.has(zt.keyField().canonicalString())||e.Ie.push(new yh(zt.keyField(),a))}return e.Ie}function yi(r){const e=Ie(r);return e.Ee||(e.Ee=FC(e,Fl(r))),e.Ee}function FC(r,e){if(r.limitType==="F")return LE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return LE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Fm(r,e){const n=r.filters.concat([e]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _h(r,e,n){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return wg(yi(r),yi(e))&&r.limitType===e.limitType}function p0(r){return`${Ig(yi(r))}|lt:${r.limitType}`}function Ws(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>d0(o))).join(", ")}]`),Ph(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${a})`})(yi(r))}; limitType=${r.limitType})`}function jh(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):me.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Fl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,g){const p=OE(f,m,g);return f.inclusive?p<=0:p<0})(a.startAt,Fl(a),o)||a.endAt&&!(function(f,m,g){const p=OE(f,m,g);return f.inclusive?p>=0:p>0})(a.endAt,Fl(a),o))})(r,e)}function GC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function y0(r){return(e,n)=>{let a=!1;for(const o of Fl(r)){const u=KC(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function KC(r,e,n){const a=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?uo(g,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return e0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new lt(me.comparator);function tr(){return YC}const _0=new lt(me.comparator);function ql(...r){let e=_0;for(const n of r)e=e.insert(n.key,n);return e}function v0(r){let e=_0;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ba(){return Gl()}function E0(){return Gl()}function Gl(){return new ts((r=>r.toString()),((r,e)=>r.isEqual(e)))}const QC=new lt(me.comparator),$C=new Rt(me.comparator);function Pe(...r){let e=$C;for(const n of r)e=e.add(n);return e}const XC=new Rt(Ve);function WC(){return XC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function T0(r){return{integerValue:""+r}}function ZC(r,e){return AC(e)?T0(e):Rg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function JC(r,e,n){return r instanceof nu?(function(o,u){const f={fields:{[i0]:{stringValue:n0},[a0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bg(u)&&(u=qh(u)),u&&(f.fields[r0]=u),{mapValue:f}})(n,e):r instanceof iu?S0(r,e):r instanceof ru?b0(r,e):(function(o,u){const f=k0(o,u),m=PE(f)+PE(o.Ae);return jm(f)&&jm(o.Ae)?T0(m):Rg(o.serializer,m)})(r,e)}function eN(r,e,n){return r instanceof iu?S0(r,e):r instanceof ru?b0(r,e):n}function k0(r,e){return r instanceof vh?(function(a){return jm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class nu extends zh{}class iu extends zh{constructor(e){super(),this.elements=e}}function S0(r,e){const n=A0(e);for(const a of r.elements)n.some((o=>Si(o,a)))||n.push(a);return{arrayValue:{values:n}}}class ru extends zh{constructor(e){super(),this.elements=e}}function b0(r,e){let n=A0(e);for(const a of r.elements)n=n.filter((o=>!Si(o,a)));return{arrayValue:{values:n}}}class vh extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PE(r){return yt(r.integerValue||r.doubleValue)}function A0(r){return Ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.field=e,this.transform=n}}function nN(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof iu&&o instanceof iu||a instanceof ru&&o instanceof ru?lo(a.elements,o.elements,Si):a instanceof vh&&o instanceof vh?Si(a.Ae,o.Ae):a instanceof nu&&o instanceof nu})(r.transform,e.transform)}class iN{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bh{}function I0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new R0(r.key,_i.none()):new mu(r.key,r.data,_i.none());{const n=r.data,a=Dn.empty();let o=new Rt(zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ns(r.key,a,new Qn(o.toArray()),_i.none())}}function rN(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),g=UE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ns?(function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=UE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(w0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(r,e,n,a){return r instanceof mu?(function(u,f,m,g){if(!eh(u.precondition,f))return m;const p=u.value.clone(),E=HE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,a):r instanceof ns?(function(u,f,m,g){if(!eh(u.precondition,f))return m;const p=HE(u.fieldTransforms,g,f),E=f.data;return E.setAll(w0(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((k=>k.field)))})(r,e,n,a):(function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function aN(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=k0(a.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(a.field,u))}return n||null}function qE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&lo(a,o,((u,f)=>nN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Bh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends Bh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function UE(r,e,n){const a=new Map;Be(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,eN(f,m,n[o]))}return a}function HE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,JC(u,f,e))}return a}class R0 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sN extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rN(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Kl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Kl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=E0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=I0(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,a)=>qE(n,a)))&&lo(this.baseMutations,e.baseMutations,((n,a)=>qE(n,a)))}}class Cg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Be(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return QC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Cg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function cN(r){switch(r){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function C0(r){if(r===void 0)return er("GRPC error has no .code"),X.UNKNOWN;switch(r){case Tt.OK:return X.OK;case Tt.CANCELLED:return X.CANCELLED;case Tt.UNKNOWN:return X.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return X.INTERNAL;case Tt.UNAVAILABLE:return X.UNAVAILABLE;case Tt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Tt.NOT_FOUND:return X.NOT_FOUND;case Tt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Tt.ABORTED:return X.ABORTED;case Tt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Tt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Qr([4294967295,4294967295],0);function jE(r){const e=hN().encode(r),n=new BT;return n.update(e),new Uint8Array(n.digest())}function zE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qr([n,a],0),new Qr([o,u],0)]}class Ng{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qr.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Qr.fromNumber(a)));return o.compare(fN)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jE(e),[a,o]=zE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ng(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=jE(e),[a,o]=zE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Fh(be.min(),o,new lt(Ve),tr(),Pe())}}class gu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new gu(a,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class N0{constructor(e,n){this.targetId=e,this.Ce=n}}class D0{constructor(e,n,a=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class BE{constructor(){this.ve=0,this.Fe=FE(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),a=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=FE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dN{constructor(e){this.Ge=e,this.ze=new Map,this.je=tr(),this.Je=zc(),this.He=zc(),this.Ye=new lt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(a===0){const f=new me(u.path);this.et(n,f,Xt.newNoDocument(f,be.min()))}else Be(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ea(a).toUint8Array()}catch(g){if(g instanceof t0)return oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ng(f,o,u)}catch(g){return oo(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Bm(m.target)){const g=new me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Xt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Fh(e,n,this.Ye,this.je,a);return this.je=tr(),this.Je=zc(),this.He=zc(),this.Ye=new lt(Ve),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zc(){return new lt(me.comparator)}function FE(){return new lt(me.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},gN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pN={and:"AND",or:"OR"};class yN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _N(r,e){return Eh(r,e.toTimestamp())}function vi(r){return Be(!!r,49232),be.fromTimestamp((function(n){const a=Jr(n);return new it(a.seconds,a.nanos)})(r))}function Dg(r,e){return Km(r,e).canonicalString()}function Km(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function O0(r){const e=tt.fromString(r);return Be(q0(e),10190,{key:e.toString()}),e}function Ym(r,e){return Dg(r.databaseId,e.path)}function _m(r,e){const n=O0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(L0(n))}function M0(r,e){return Dg(r.databaseId,e)}function vN(r){const e=O0(r);return e.length===4?tt.emptyPath():L0(e)}function Qm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function L0(r){return Be(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function GE(r,e,n){return{name:Ym(r,e),fields:n.value.mapValue.fields}}function EN(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Be(E===void 0||typeof E=="string",58123),Bt.fromBase64String(E||"")):(Be(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Bt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?X.UNKNOWN:C0(p.code);return new le(E,p.message||"")})(f);n=new D0(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=_m(r,a.document.name),u=vi(a.document.updateTime),f=a.document.createTime?vi(a.document.createTime):be.min(),m=new Dn({mapValue:{fields:a.document.fields}}),g=Xt.newFoundDocument(o,u,f,m),p=a.targetIds||[],E=a.removedTargetIds||[];n=new th(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=_m(r,a.document),u=a.readTime?vi(a.readTime):be.min(),f=Xt.newNoDocument(o,u),m=a.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=_m(r,a.document),u=a.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new uN(o,u),m=a.targetId;n=new N0(m,f)}}return n}function TN(r,e){let n;if(e instanceof mu)n={update:GE(r,e.key,e.value)};else if(e instanceof R0)n={delete:Ym(r,e.key)};else if(e instanceof ns)n={update:GE(r,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof sN))return Te(16599,{Vt:e.type});n={verify:Ym(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof nu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:_N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function kN(r,e){return r&&r.length>0?(Be(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(be.min())&&(f=vi(u)),new iN(f,o.transformResults||[])})(n,e)))):[]}function SN(r,e){return{documents:[M0(r,e.path)]}}function bN(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=M0(r,o);const u=(function(p){if(p.length!==0)return P0(Wn.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(b){return{field:Zs(b.field),direction:wN(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function AN(r){let e=vN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Be(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(k){const b=V0(k);return b instanceof Wn&&h0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(k){return k.map((b=>(function(G){return new yh(Js(G.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(k){let b;return b=typeof k=="object"?k.value:k,Ph(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(k){const b=!!k.before,M=k.values||[];return new ph(M,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(k){const b=!k.before,M=k.values||[];return new ph(M,b)})(n.endAt)),BC(e,o,f,u,m,"F",g,p)}function IN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Js(n.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Js(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Js(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Js(n.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(Js(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((a=>V0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function wN(r){return mN[r]}function RN(r){return gN[r]}function CN(r){return pN[r]}function Zs(r){return{fieldPath:r.canonicalString()}}function Js(r){return zt.fromServerFormat(r.fieldPath)}function P0(r){return r instanceof kt?(function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:RN(n.op),value:n.value}}})(r):r instanceof Wn?(function(n){const a=n.getFilters().map((o=>P0(o)));return a.length===1?a[0]:{compositeFilter:{op:CN(n.op),filters:a}}})(r):Te(54877,{filter:r})}function NN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function q0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,a,o,u=be.min(),f=be.min(),m=Bt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.yt=e}}function xN(r){const e=AN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.Cn=new MN}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Zr.min())}updateCollectionGroup(e,n,a){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class MN{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Rt(tt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Rt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(U0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="LruGarbageCollector",LN=1048576;function QE([r,e],[n,a]){const o=Ve(r,n);return o===0?Ve(e,a):o}class VN{constructor(e){this.Ir=e,this.buffer=new Rt(QE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();QE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(YE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?ue(YE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class qN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Vh.ce);const a=new VN(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(KE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((k=>(k>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,f=Date.now(),this.nthSequenceNumber(e,o)))).next((k=>(a=k,m=Date.now(),this.removeTargets(e,a,n)))).next((k=>(u=k,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((k=>(p=Date.now(),Xs()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${k} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:k}))))}}function UN(r,e){return new qN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new ts((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Z.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Kl(a.mutation,o,Qn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Pe()){const o=Ba();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=ql();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Ba();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Pe())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=tr();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((g,p)=>{const E=a.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ns)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Kl(E.mutation,p,E.mutation.getFieldMask(),it.now())):f.set(p.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new jN(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Gl();let o=new lt(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=a.get(g)||Qn.empty();E=m.applyToLocalView(p,E),a.set(g,E);const k=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,k)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,k=E0();E.forEach((b=>{if(!u.has(b)){const M=I0(n.get(b),a.get(b));M!==null&&k.set(b,M),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,k))}return Z.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):Z.resolve(Ba());let m=Zl,g=u;return f.next((p=>Z.forEach(p,((E,k)=>(m<k.largestBatchId&&(m=k.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{g=g.insert(E,b)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((E=>({batchId:m,changes:v0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((a=>{let o=ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(g=>{const p=(function(k,b){return new du(b,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next((E=>{E.forEach(((k,b)=>{f=f.insert(k,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))}));let m=ql();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Kl(E.mutation,p,Qn.empty(),it.now()),jh(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:xN(o.bundledQuery),readTime:vi(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.overlays=new lt(me.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ba();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,n,a){const o=Ba(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new lt(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=Ba(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ba(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return Z.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new lN(n,a));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Qr=new Rt(Mt.$r),this.Ur=new Rt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Mt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new me(new tt([])),a=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),a=new Mt(n,e),o=new Mt(n,e+1);let u=Pe();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Mt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Mt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oN(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Rt(Ve);return n.forEach((o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;me.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new me(u),0);let m=new Rt(Ve);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new Mt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Mt(n,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.ri=e,this.docs=(function(){return new lt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Z.resolve(a?a.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let a=tr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=tr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||TC(EC(E),a)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Te(9500)}ii(e,n){return Z.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new QN(this)}getSize(e){return Z.resolve(this.size)}}class QN extends HN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.persistence=e,this.si=new ts((n=>Ig(n)),wg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new xg,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return Z.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),Z.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return Z.resolve(a)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new GN,this.referenceDelegate=e(this),this.Pi=new $N(this),this.indexManager=new ON,this.remoteDocumentCache=(function(o){return new YN(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new DN(n),this.Ii=new BN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new KN(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ue("MemoryPersistence","Starting transaction:",e);const o=new XN(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class XN extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Ri=new xg,this.Vi=null}static mi(e){return new Og(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=me.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new ts((a=>IC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=UN(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(a++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,a){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return II()?8:bC(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new WN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Xs()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Xs()<=Le.DEBUG&&ue("QueryEngine","Query:",Ws(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Xs()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):Z.resolve())}ys(e,n){if(VE(n))return Z.resolve(null);let a=yi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),a=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,_h(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,a,o){return VE(n)||o.isEqual(be.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?Z.resolve(null):(Xs()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ws(n)),this.vs(e,f,n,vC(o,Zl)).next((m=>m)))}))}Ds(e,n){let a=new Rt(y0(e));return n.forEach(((o,u)=>{jh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Xs()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.ps.getDocumentsMatchingQuery(e,n,Zr.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",JN=3e8;class eD{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Ve),this.xs=new ts((u=>Ig(u)),wg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tD(r,e,n,a){return new eD(r,e,n,a)}async function j0(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let g=Pe();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function nD(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const k=p.batch,b=k.keys();let M=Z.resolve();return b.forEach((G=>{M=M.next((()=>E.getEntry(g,G))).next((Y=>{const F=p.docVersions.get(G);Be(F!==null,48541),Y.version.compareTo(F)<0&&(k.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,k)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function z0(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iD(r,e){const n=Ie(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,k)=>{const b=o.get(k);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,k).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,k))));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(k)!==null?M=M.withResumeToken(Bt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,a)),o=o.insert(k,M),(function(Y,F,ne){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=JN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(b,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let g=tr(),p=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(rD(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!a.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((k=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function rD(r,e,n){let a=Pe(),o=Pe();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=tr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(Lg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function aD(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Sg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function sD(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new Fr(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function $m(r,e,n){const a=Ie(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bo(f))throw f;ue(Lg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function $E(r,e,n){const a=Ie(r);let o=be.min(),u=Pe();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const k=Ie(g),b=k.xs.get(E);return b!==void 0?Z.resolve(k.Ms.get(b)):k.Pi.getTargetData(p,E)})(a,f,yi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Pe()))).next((m=>(oD(a,GC(e),m),{documents:m,Qs:u})))))}function oD(r,e,n){let a=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class XE{constructor(){this.activeTargetIds=WC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lD{constructor(){this.Mo=new XE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="ConnectivityMonitor";class ZE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(WE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(WE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Xm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",cD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=Xm(),m=this.zo(e,n.toUriEncodedString());ue(vm,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=_o(p);return this.Jo(e,m,g,a,E).then((k=>(ue(vm,`Received RPC '${e}' ${f}: `,k),k)),(k=>{throw oo(vm,`RPC '${e}' ${f} failed with error: `,k,"url: ",m,"request:",a),k}))}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=cD[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class dD extends hD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=Xm();return new Promise(((m,g)=>{const p=new FT;p.setWithCredentials(!0),p.listenOnce(GT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Wc.NO_ERROR:const k=p.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(k)),m(k);break;case Wc.TIMEOUT:ue(Qt,`RPC '${e}' ${f} timed out`),g(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const b=p.getStatus();if(ue(Qt,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M==null?void 0:M.error;if(G&&G.status&&G.message){const Y=(function(ne){const re=ne.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(re)>=0?re:X.UNKNOWN})(G.status);g(new le(Y,G.message))}else g(new le(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Qt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Qt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QT(),m=YT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const k=f.createWebChannel(E,g);this.I_(k);let b=!1,M=!1;const G=new fD({Yo:F=>{M?ue(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(ue(Qt,`Opening RPC '${e}' stream ${o} transport.`),k.open(),b=!0),ue(Qt,`RPC '${e}' stream ${o} sending:`,F),k.send(F))},Zo:()=>k.close()}),Y=(F,ne,re)=>{F.listen(ne,(te=>{try{re(te)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return Y(k,Pl.EventType.OPEN,(()=>{M||(ue(Qt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),Y(k,Pl.EventType.CLOSE,(()=>{M||(M=!0,ue(Qt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(k))})),Y(k,Pl.EventType.ERROR,(F=>{M||(M=!0,oo(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),G.a_(new le(X.UNAVAILABLE,"The operation could not be completed")))})),Y(k,Pl.EventType.MESSAGE,(F=>{var ne;if(!M){const re=F.data[0];Be(!!re,16349);const te=re,_e=(te==null?void 0:te.error)||((ne=te[0])==null?void 0:ne.error);if(_e){ue(Qt,`RPC '${e}' stream ${o} received error:`,_e);const he=_e.status;let Re=(function(R){const L=Tt[R];if(L!==void 0)return C0(L)})(he),D=_e.message;Re===void 0&&(Re=X.INTERNAL,D="Unknown error status: "+he+" with message "+_e.message),M=!0,G.a_(new le(Re,D)),k.close()}else ue(Qt,`RPC '${e}' stream ${o} received:`,re),G.u_(re)}})),Y(m,KT.STAT_EVENT,(F=>{F.stat===qm.PROXY?ue(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===qm.NOPROXY&&ue(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new yN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class F0{constructor(e,n,a,o,u,f,m,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new le(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mD extends F0{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EN(this.serializer,e),a=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?vi(f.readTime):be.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Bm(g)?{documents:SN(u,g)}:{query:bN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=x0(u,f.resumeToken);const p=Gm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const p=Gm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const a=IN(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class gD extends F0{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kN(e.writeResults,e.commitTime),a=vi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>TN(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class yD extends pD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Km(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(X.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Km(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="RemoteStore";class vD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{is(this)&&(ue(Qa,"Restarting streams for network reachability change."),await(async function(g){const p=Ie(g);p.Ea.add(4),await pu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Kh(p)})(this))}))})),this.Ra=new _D(a,o)}}async function Kh(r){if(is(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function G0(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ug(n)?qg(n):Ao(n).O_()&&Pg(n,e))}function Vg(r,e){const n=Ie(r),a=Ao(n);n.Ia.delete(e),a.O_()&&K0(n,e),n.Ia.size===0&&(a.O_()?a.L_():is(n)&&n.Ra.set("Unknown"))}function Pg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Y_(e)}function K0(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function qg(r){r.Va=new dN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function Ug(r){return is(r)&&!Ao(r).x_()&&r.Ia.size>0}function is(r){return Ie(r).Ea.size===0}function Y0(r){r.Va=void 0}async function ED(r){r.Ra.set("Online")}async function TD(r){r.Ia.forEach(((e,n)=>{Pg(r,e)}))}async function kD(r,e){Y0(r),Ug(r)?(r.Ra.ha(e),qg(r)):r.Ra.set("Unknown")}async function SD(r,e,n){if(r.Ra.set("Online"),e instanceof D0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){ue(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await kh(r,a)}else if(e instanceof th?r.Va.Ze(e):e instanceof N0?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const a=await z0(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Bt.EMPTY_BYTE_STRING,E.snapshotVersion)),K0(u,g);const k=new Fr(E.target,g,p,E.sequenceNumber);Pg(u,k)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){ue(Qa,"Failed to raise snapshot:",a),await kh(r,a)}}async function kh(r,e,n){if(!bo(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>z0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(Qa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kh(r)}))}function Q0(r,e){return e().catch((n=>kh(r,n,e)))}async function Yh(r){const e=Ie(r),n=na(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sg;for(;bD(e);)try{const o=await aD(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,AD(e,o)}catch(o){await kh(e,o)}$0(e)&&X0(e)}function bD(r){return is(r)&&r.Ta.length<10}function AD(r,e){r.Ta.push(e);const n=na(r);n.O_()&&n.X_&&n.ea(e.mutations)}function $0(r){return is(r)&&!na(r).x_()&&r.Ta.length>0}function X0(r){na(r).start()}async function ID(r){na(r).ra()}async function wD(r){const e=na(r);for(const n of r.Ta)e.ea(n.mutations)}async function RD(r,e,n){const a=r.Ta.shift(),o=Cg.from(a,e,n);await Q0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function CD(r,e){e&&na(r).X_&&await(async function(a,o){if((function(f){return cN(f)&&f!==X.ABORTED})(o.code)){const u=a.Ta.shift();na(a).B_(),await Q0(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(a)}})(r,e),$0(r)&&X0(r)}async function e1(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),ue(Qa,"RemoteStore received new credentials");const a=is(n);n.Ea.add(3),await pu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function ND(r,e){const n=Ie(r);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,a,o){const u=Ie(n);return u.sa(),new mD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ED.bind(null,r),t_:TD.bind(null,r),r_:kD.bind(null,r),H_:SD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ug(r)?qg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Y0(r))}))),r.ma}function na(r){return r.fa||(r.fa=(function(n,a,o){const u=Ie(n);return u.sa(),new gD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ID.bind(null,r),r_:CD.bind(null,r),ta:wD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(Qa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Hg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(r,e){if(er("AsyncQueue",`${e}: ${r}`),bo(r))return new le(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||me.comparator(n.key,a.key):(n,a)=>me.comparator(n.key,a.key),this.keyedMap=ql(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ro;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.ga=new lt(me.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class fo{constructor(e,n,a,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new fo(e,n,ro.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xD{constructor(){this.queries=n1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ie(n),u=o.queries;o.queries=n1(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(a)}))})(this,new le(X.ABORTED,"Firestore shutting down"))}}function n1(){return new ts((r=>p0(r)),Hh)}async function W0(r,e){const n=Ie(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new DD,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=jg(f,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&zg(n)}async function Z0(r,e){const n=Ie(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function OD(r,e){const n=Ie(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&zg(n)}function MD(r,e,n){const a=Ie(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function zg(r){r.Ca.forEach((e=>{e.next()}))}var Wm,i1;(i1=Wm||(Wm={})).Ma="default",i1.Cache="cache";class J0{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.key=e}}class tk{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=y0(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new t1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,k)=>{const b=o.get(E),M=jh(this.query,k)?k:null,G=!!b&&this.mutatedKeys.has(b.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let F=!1;b&&M?b.data.isEqual(M.data)?G!==Y&&(a.track({type:3,doc:M}),F=!0):this.su(b,M)||(a.track({type:2,doc:M}),F=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!b&&M?(a.track({type:0,doc:M}),F=!0):b&&!M&&(a.track({type:1,doc:b}),F=!0,(g||p)&&(m=!0)),F&&(M?(f=f.add(M),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,k)=>(function(M,G){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:F})}};return Y(M)-Y(G)})(E.type,k.type)||this.eu(E.doc,k.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new fo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new tk(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new ek(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bg="SyncEngine";class VD{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class PD{constructor(e){this.key=e,this.hu=!1}}class qD{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ts((m=>p0(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(me.comparator),this.Au=new Map,this.Ru=new xg,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UD(r,e,n=!0){const a=ok(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nk(a,e,n,!0),o}async function HD(r,e){const n=ok(r);await nk(n,e,!0,!1)}async function nk(r,e,n,a){const o=await sD(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await jD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&G0(r.remoteStore,o),m}async function jD(r,e,n,a,o){r.pu=(k,b,M)=>(async function(Y,F,ne,re){let te=F.view.ru(ne);te.Cs&&(te=await $E(Y.localStore,F.query,!1).then((({documents:D})=>F.view.ru(D,te))));const _e=re&&re.targetChanges.get(F.targetId),he=re&&re.targetMismatches.get(F.targetId)!=null,Re=F.view.applyChanges(te,Y.isPrimaryClient,_e,he);return a1(Y,F.targetId,Re.au),Re.snapshot})(r,k,b,M);const u=await $E(r.localStore,e,!0),f=new LD(e,u.Qs),m=f.ru(u.documents),g=gu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);a1(r,n,p.au);const E=new VD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function zD(r,e,n){const a=Ie(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Vg(a.remoteStore,o.targetId),Zm(a,o.targetId)})).catch(So)):(Zm(a,o.targetId),await $m(a.localStore,o.targetId,!0))}async function BD(r,e){const n=Ie(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Vg(n.remoteStore,a.targetId))}async function FD(r,e,n){const a=WD(r);try{const o=await(function(f,m){const g=Ie(f),p=it.now(),E=m.reduce(((M,G)=>M.add(G.key)),Pe());let k,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=tr(),Y=Pe();return g.Ns.getEntries(M,E).next((F=>{G=F,G.forEach(((ne,re)=>{re.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,G))).next((F=>{k=F;const ne=[];for(const re of m){const te=aN(re,k.get(re.key).overlayedDocument);te!=null&&ne.push(new ns(re.key,te,l0(te.value.mapValue),_i.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,ne,m)})).next((F=>{b=F;const ne=F.applyToLocalDocumentSet(k,Y);return g.documentOverlayCache.saveOverlays(M,F.batchId,ne)}))})).then((()=>({batchId:b.batchId,changes:v0(k)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new lt(Ve)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(a,o.batchId,n),await yu(a,o.changes),await Yh(a.remoteStore)}catch(o){const u=jg(o,"Failed to persist write");n.reject(u)}}async function ik(r,e){const n=Ie(r);try{const a=await iD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Be(f.hu,14607):o.removedDocuments.size>0&&(Be(f.hu,42227),f.hu=!1))})),await yu(n,a,e)}catch(a){await So(a)}}function r1(r,e,n){const a=Ie(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ie(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,k)=>{for(const b of k.Sa)b.va(m)&&(p=!0)})),p&&zg(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function GD(r,e,n){const a=Ie(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new lt(me.comparator);f=f.insert(u,Xt.newNoDocument(u,be.min()));const m=Pe().add(u),g=new Fh(be.min(),new Map,new lt(Ve),f,m);await ik(a,g),a.du=a.du.remove(u),a.Au.delete(e),Fg(a)}else await $m(a.localStore,e,!1).then((()=>Zm(a,e,n))).catch(So)}async function KD(r,e){const n=Ie(r),a=e.batch.batchId;try{const o=await nD(n.localStore,e);ak(n,a,null),rk(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await yu(n,o)}catch(o){await So(o)}}async function YD(r,e,n){const a=Ie(r);try{const o=await(function(f,m){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((k=>(Be(k!==null,37113),E=k.keys(),g.mutationQueue.removeMutationBatch(p,k)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(a.localStore,e);ak(a,e,n),rk(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await yu(a,o)}catch(o){await So(o)}}function rk(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ak(r,e,n){const a=Ie(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||sk(r,a)}))}function sk(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Vg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Fg(r))}function a1(r,e,n){for(const a of n)a instanceof ek?(r.Ru.addReference(a.key,e),QD(r,a)):a instanceof tk?(ue(Bg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||sk(r,a.key)):Te(19791,{wu:a})}function QD(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ue(Bg,"New document in limbo: "+n),r.Eu.add(a),Fg(r))}function Fg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),a=r.fu.next();r.Au.set(a,new PD(n)),r.du=r.du.insert(n,a),G0(r.remoteStore,new Fr(yi(Uh(n.path)),a,"TargetPurposeLimboResolution",Vh.ce))}}async function yu(r,e,n){const a=Ie(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{f.push(a.pu(g,e,n).then((p=>{var E;if((p||n)&&a.isPrimaryClient){const k=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,k?"current":"not-current")}if(p){o.push(p);const k=Mg.As(g.targetId,p);u.push(k)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(g,p){const E=Ie(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>Z.forEach(p,(b=>Z.forEach(b.Es,(M=>E.persistence.referenceDelegate.addReference(k,b.targetId,M))).next((()=>Z.forEach(b.ds,(M=>E.persistence.referenceDelegate.removeReference(k,b.targetId,M)))))))))}catch(k){if(!bo(k))throw k;ue(Lg,"Failed to update sequence numbers: "+k)}for(const k of p){const b=k.targetId;if(!k.fromCache){const M=E.Ms.get(b),G=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(b,Y)}}})(a.localStore,u))}async function $D(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){ue(Bg,"User change. New user:",e.toKey());const a=await j0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await yu(n,a.Ls)}}function XD(r,e){const n=Ie(r),a=n.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function ok(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GD.bind(null,e),e.Pu.H_=OD.bind(null,e.eventManager),e.Pu.yu=MD.bind(null,e.eventManager),e}function WD(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YD.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tD(this.persistence,new ZN,e.initialUser,this.serializer)}Cu(e){return new H0(Og.mi,this.serializer)}Du(e){return new lD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class ZD extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof Th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new PN(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new H0((a=>Th.mi(a,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>r1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await ND(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xD})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),a=(function(u){return new dD(u)})(e.databaseInfo);return(function(u,f,m,g){return new yD(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new vD(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>r1(this.syncEngine,n,0)),(function(){return ZE.v()?new ZE:new uD})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const k=new qD(o,u,f,m,g,p);return E&&(k.gu=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ie(o);ue(Qa,"RemoteStore shutting down."),u.Ea.add(5),await pu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="FirestoreClient";class JD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ue(ia,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ue(ia,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=jg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ia,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await j0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function s1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ex(r);ue(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>e1(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>e1(e.remoteStore,o))),r._onlineComponents=e}async function ex(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ia,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Sh)}}else ue(ia,"Using default OfflineComponentProvider"),await Tm(r,new ZD(void 0));return r._offlineComponents}async function uk(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ia,"Using user provided OnlineComponentProvider"),await s1(r,r._uninitializedComponentsProvider._online)):(ue(ia,"Using default OnlineComponentProvider"),await s1(r,new Jm))),r._onlineComponents}function tx(r){return uk(r).then((e=>e.syncEngine))}async function eg(r){const e=await uk(r),n=e.eventManager;return n.onListen=UD.bind(null,e.syncEngine),n.onUnlisten=zD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BD.bind(null,e.syncEngine),n}function nx(r,e,n={}){const a=new $r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new lk({next:b=>{E.Nu(),f.enqueueAndForget((()=>Z0(u,k)));const M=b.docs.has(m);!M&&b.fromCache?p.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&g&&g.source==="server"?p.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),k=new J0(Uh(m.path),E,{includeMetadataChanges:!0,qa:!0});return W0(u,k)})(await eg(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firestore.googleapis.com",l1=!0;class u1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hk,this.ssl=l1}else this.host=e.host,this.ssl=e.ssl??l1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ck(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new lC;switch(a.type){case"firstParty":return new fC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=o1.get(n);a&&(ue("ComponentProvider","Removing Datastore"),o1.delete(n),a.terminate())})(this),Promise.resolve()}}function ix(r,e,n,a={}){var p;r=Xi(r,Qh);const o=_o(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(J1(`https://${m}`),eT("Firestore",!0)),u.host!==hk&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:a};if(!Wr(g,f)&&(r._setSettings(g),a.mockUserToken)){let E,k;if(typeof a.mockUserToken=="string")E=a.mockUserToken,k=$t.MOCK_USER;else{E=_I(a.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new $t(b)}r._authCredentials=new uC(new XT(E,k))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class _t{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(fu(n,_t._jsonSchema))return new _t(e,a||null,new me(tt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:St("string",_t._jsonSchemaVersion),referencePath:St("string")};class Xr extends rs{constructor(e,n,a){super(e,n,Uh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new me(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function fk(r,e,...n){if(r=Lt(r),WT("collection","path",e),r instanceof Qh){const a=tt.fromString(e,...n);return kE(a),new Xr(r,null,a)}{if(!(r instanceof _t||r instanceof Xr))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(tt.fromString(e,...n));return kE(a),new Xr(r.firestore,null,a)}}function tg(r,e,...n){if(r=Lt(r),arguments.length===1&&(e=kg.newId()),WT("doc","path",e),r instanceof Qh){const a=tt.fromString(e,...n);return TE(a),new _t(r,null,new me(a))}{if(!(r instanceof _t||r instanceof Xr))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(tt.fromString(e,...n));return TE(a),new _t(r.firestore,r instanceof Xr?r.converter:null,new me(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="AsyncQueue";class h1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B0(this,"async_queue_retry"),this._c=()=>{const a=Em();a&&ue(c1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;ue(c1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",f1(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:f1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function f1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class mo extends Qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new h1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h1(e),this._firestoreClient=void 0,await e}}}function rx(r,e){const n=typeof r=="object"?r:fg(),a=typeof r=="string"?r:mh,o=Za(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=pI("firestore");u&&ix(o,...u)}return o}function Gg(r){if(r._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ax(r),r._firestoreClient}function ax(r){var a,o,u;const e=r._freezeSettings(),n=(function(m,g,p,E){return new CC(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ck(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new JD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Bt.fromBase64String(e))}catch(n){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:St("string",xn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:St("string",Ei._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ti(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:St("string",Ti._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=/^__.*__$/;class ox{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}function dk(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Qg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dk(this.Ac)&&sx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lx{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Gh(e)}Cc(e,n,a,o=!1){return new Qg({Ac:e,methodName:n,Dc:a,path:zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new lx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function mk(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);yk("Data must be an object, but it was:",f,a);const m=gk(a,f);let g,p;if(u.merge)g=new Qn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const k of u.mergeFields){const b=cx(e,k,n);if(!f.contains(b))throw new le(X.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);fx(E,b)||E.push(b)}g=new Qn(E),p=f.fieldTransforms.filter((k=>g.covers(k.field)))}else g=null,p=f.fieldTransforms;return new ox(new Dn(m),g,p)}class Xg extends Yg{_toFieldTransform(e){return new tN(e.path,new nu)}isEqual(e){return e instanceof Xg}}function ux(r,e,n,a=!1){return Wg(n,r.Cc(a?4:3,e))}function Wg(r,e){if(pk(r=Lt(r)))return yk("Unsupported field value:",e,r),gk(r,e);if(r instanceof Yg)return(function(a,o){if(!dk(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let g=Wg(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Lt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ZC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=it.fromDate(a);return{timestampValue:Eh(o.serializer,u)}}if(a instanceof it){const u=new it(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(a instanceof Ei)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:x0(o.serializer,a._byteString)};if(a instanceof _t){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ti)return(function(f,m){return{mapValue:{fields:{[s0]:{stringValue:o0},[gh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Rg(m.serializer,p)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Lh(a)}`)})(r,e)}function gk(r,e){const n={};return e0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,((a,o)=>{const u=Wg(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function pk(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ei||r instanceof xn||r instanceof _t||r instanceof Yg||r instanceof Ti)}function yk(r,e,n){if(!pk(n)||!ZT(n)){const a=Lh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function cx(r,e,n){if((e=Lt(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return _k(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const hx=new RegExp("[~\\*/\\[\\]]");function _k(r,e,n){if(e.search(hx)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Kg(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new le(X.INVALID_ARGUMENT,m+r+g)}function fx(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dx extends vk{data(){return super.data()}}function Zg(r,e){return typeof e=="string"?_k(r,e):e instanceof Kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class Ek extends Jg{}function m1(r,e,...n){let a=[];e instanceof Jg&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((g=>g instanceof ep)).length,m=u.filter((g=>g instanceof $h)).length;if(f>1||f>0&&m>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class $h extends Ek{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new $h(e,n,a)}_apply(e){const n=this._parse(e);return Tk(e._query,n),new rs(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=$g(e.firestore);return(function(u,f,m,g,p,E,k){let b;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){y1(k,E);const G=[];for(const Y of k)G.push(p1(g,u,Y));b={arrayValue:{values:G}}}else b=p1(g,u,k)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||y1(k,E),b=ux(m,f,k,E==="in"||E==="not-in");return kt.create(p,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function km(r,e,n){const a=e,o=Zg("where",r);return $h._create(o,a,n)}class ep extends Jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ep(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Tk(f,g),f=Fm(f,g)})(e._query,n),new rs(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tp extends Ek{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new tp(e,n,a)}_apply(e){return new rs(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function g1(r){return tp._create("limit",r,"F")}function p1(r,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g0(e)&&n.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(tt.fromString(n));if(!me.isDocumentKey(a))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return NE(r,new me(a))}if(n instanceof _t)return NE(r,n._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function y1(r,e){if(!Array.isArray(r)||r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tk(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gx{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return es(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,o,u;const n=(u=(o=(a=e.fields)==null?void 0:a[gh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>yt(f.doubleValue)));return new Ti(n)}convertGeoPoint(e){return new Ei(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=qh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=tt.fromString(e);Be(q0(a),9688,{name:e});const o=new eu(a.get(1),a.get(3)),u=new me(a.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends vk{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Zg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:St("string",Ga._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class nh extends Ga{data(e={}){return super.data(e)}}class ao{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new nh(this._firestore,this._userDataWriter,a.key,a,new Hl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:px(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function px(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(r){r=Xi(r,_t);const e=Xi(r.firestore,mo);return nx(Gg(e),r._key).then((n=>Ak(e,r,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:St("string",ao._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Sk extends gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function _x(r,e,n){r=Xi(r,_t);const a=Xi(r.firestore,mo),o=kk(r.converter,e,n);return bk(a,[mk($g(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,_i.none())])}function vx(r,e){const n=Xi(r.firestore,mo),a=tg(r),o=kk(r.converter,e);return bk(n,[mk($g(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,_i.exists(!1))]).then((()=>a))}function Ex(r,...e){var g,p,E;r=Lt(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||d1(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(d1(e[a])){const k=e[a];e[a]=(g=k.next)==null?void 0:g.bind(k),e[a+1]=(p=k.error)==null?void 0:p.bind(k),e[a+2]=(E=k.complete)==null?void 0:E.bind(k)}let u,f,m;if(r instanceof _t)f=Xi(r.firestore,mo),m=Uh(r._key.path),u={next:k=>{e[a]&&e[a](Ak(f,r,k))},error:e[a+1],complete:e[a+2]};else{const k=Xi(r,rs);f=Xi(k.firestore,mo),m=k._query;const b=new Sk(f);u={next:M=>{e[a]&&e[a](new ao(f,b,k,M))},error:e[a+1],complete:e[a+2]},mx(r._query)}return(function(b,M,G,Y){const F=new lk(Y),ne=new J0(M,F,G);return b.asyncQueue.enqueueAndForget((async()=>W0(await eg(b),ne))),()=>{F.Nu(),b.asyncQueue.enqueueAndForget((async()=>Z0(await eg(b),ne)))}})(Gg(f),m,o,u)}function bk(r,e){return(function(a,o){const u=new $r;return a.asyncQueue.enqueueAndForget((async()=>FD(await tx(a),o,u))),u.promise})(Gg(r),e)}function Ak(r,e,n){const a=n.docs.get(e._key),o=new Sk(r);return new Ga(r,o,e._key,a,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function _1(){return new Xg("serverTimestamp")}(function(e,n=!0){(function(o){ko=o})(vo),ki(new $n("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new mo(new cC(a.getProvider("auth-internal")),new dC(f,a.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),On(yE,_E,e),On(yE,_E,"esm2020")})();const Ik="@firebase/installations",np="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1e4,Rk=`w:${np}`,Ck="FIS_v2",Tx="https://firebaseinstallations.googleapis.com/v1",kx=3600*1e3,Sx="installations",bx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$a=new Wa(Sx,bx,Ax);function Nk(r){return r instanceof Jn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk({projectId:r}){return`${Tx}/projects/${r}/installations`}function xk(r){return{token:r.token,requestStatus:2,expiresIn:wx(r.expiresIn),creationTime:Date.now()}}async function Ok(r,e){const a=(await e.json()).error;return $a.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Mk({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Ix(r,{refreshToken:e}){const n=Mk(r);return n.append("Authorization",Rx(e)),n}async function Lk(r){const e=await r();return e.status>=500&&e.status<600?r():e}function wx(r){return Number(r.replace("s","000"))}function Rx(r){return`${Ck} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=Dk(r),o=Mk(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:n,authVersion:Ck,appId:r.appId,sdkVersion:Rk},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await Lk(()=>fetch(a,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:xk(p.authToken)}}else throw await Ok("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^[cdef][\w-]{21}$/,ng="";function xx(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=Ox(r);return Dx.test(n)?n:ng}catch{return ng}}function Ox(r){return Nx(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Map;function qk(r,e){const n=Xh(r);Uk(n,e),Mx(n,e)}function Uk(r,e){const n=Pk.get(r);if(n)for(const a of n)a(e)}function Mx(r,e){const n=Lx();n&&n.postMessage({key:r,fid:e}),Vx()}let Fa=null;function Lx(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=r=>{Uk(r.data.key,r.data.fid)}),Fa}function Vx(){Pk.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebase-installations-database",qx=1,Xa="firebase-installations-store";let Sm=null;function ip(){return Sm||(Sm=sT(Px,qx,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Xa)}}})),Sm}async function Ah(r,e){const n=Xh(r),o=(await ip()).transaction(Xa,"readwrite"),u=o.objectStore(Xa),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&qk(r,e.fid),e}async function Hk(r){const e=Xh(r),a=(await ip()).transaction(Xa,"readwrite");await a.objectStore(Xa).delete(e),await a.done}async function Wh(r,e){const n=Xh(r),o=(await ip()).transaction(Xa,"readwrite"),u=o.objectStore(Xa),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&qk(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(r){let e;const n=await Wh(r.appConfig,a=>{const o=Ux(a),u=Hx(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Ux(r){const e=r||{fid:xx(),registrationStatus:0};return jk(e)}function Hx(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($a.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=jx(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zx(r)}:{installationEntry:e}}async function jx(r,e){try{const n=await Cx(r,e);return Ah(r.appConfig,n)}catch(n){throw Nk(n)&&n.customData.serverCode===409?await Hk(r.appConfig):await Ah(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zx(r){let e=await v1(r.appConfig);for(;e.registrationStatus===1;)await Vk(100),e=await v1(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await rp(r);return a||n}return e}function v1(r){return Wh(r,e=>{if(!e)throw $a.create("installation-not-found");return jk(e)})}function jk(r){return Bx(r)?{fid:r.fid,registrationStatus:0}:r}function Bx(r){return r.registrationStatus===1&&r.registrationTime+wk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx({appConfig:r,heartbeatServiceProvider:e},n){const a=Gx(r,n),o=Ix(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:Rk,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await Lk(()=>fetch(a,m));if(g.ok){const p=await g.json();return xk(p)}else throw await Ok("Generate Auth Token",g)}function Gx(r,{fid:e}){return`${Dk(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(r,e=!1){let n;const a=await Wh(r.appConfig,u=>{if(!zk(u))throw $a.create("not-registered");const f=u.authToken;if(!e&&Qx(f))return u;if(f.requestStatus===1)return n=Kx(r,e),u;{if(!navigator.onLine)throw $a.create("app-offline");const m=Xx(u);return n=Yx(r,m),m}});return n?await n:a.authToken}async function Kx(r,e){let n=await E1(r.appConfig);for(;n.authToken.requestStatus===1;)await Vk(100),n=await E1(r.appConfig);const a=n.authToken;return a.requestStatus===0?ap(r,e):a}function E1(r){return Wh(r,e=>{if(!zk(e))throw $a.create("not-registered");const n=e.authToken;return Wx(n)?{...e,authToken:{requestStatus:0}}:e})}async function Yx(r,e){try{const n=await Fx(r,e),a={...e,authToken:n};return await Ah(r.appConfig,a),n}catch(n){if(Nk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Hk(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Ah(r.appConfig,a)}throw n}}function zk(r){return r!==void 0&&r.registrationStatus===2}function Qx(r){return r.requestStatus===2&&!$x(r)}function $x(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+kx}function Xx(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function Wx(r){return r.requestStatus===1&&r.requestTime+wk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(r){const e=r,{installationEntry:n,registrationPromise:a}=await rp(e);return a?a.catch(console.error):ap(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(r,e=!1){const n=r;return await eO(n),(await ap(n,e)).token}async function eO(r){const{registrationPromise:e}=await rp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(r){if(!r||!r.options)throw bm("App Configuration");if(!r.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw bm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function bm(r){return $a.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="installations",nO="installations-internal",iO=r=>{const e=r.getProvider("app").getImmediate(),n=tO(e),a=Za(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},rO=r=>{const e=r.getProvider("app").getImmediate(),n=Za(e,Bk).getImmediate();return{getId:()=>Zx(n),getToken:o=>Jx(n,o)}};function aO(){ki(new $n(Bk,iO,"PUBLIC")),ki(new $n(nO,rO,"PRIVATE"))}aO();On(Ik,np);On(Ik,np,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="analytics",sO="firebase_id",oO="origin",lO=60*1e3,uO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Nh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new Wa("analytics","Analytics",cO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r){if(!r.startsWith(sp)){const e=_n.create("invalid-gtag-resource",{gtagURL:r});return un.warn(e.message),""}return r}function Fk(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function fO(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function dO(r,e){const n=fO("firebase-js-sdk-policy",{createScriptURL:hO}),a=document.createElement("script"),o=`${sp}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function mO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function gO(r,e,n,a,o,u){const f=a[o];try{if(f)await e[f];else{const g=(await Fk(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){un.error(m)}r("config",o,u)}async function pO(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await Fk(n);for(const g of f){const p=m.find(k=>k.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){un.error(u)}}function yO(r,e,n,a){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await pO(r,e,n,m,g)}else if(u==="config"){const[m,g]=f;await gO(r,e,n,a,m,g)}else if(u==="consent"){const[m,g]=f;r("consent",m,g)}else if(u==="get"){const[m,g,p]=f;r("get",m,g,p)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){un.error(m)}}return o}function _O(r,e,n,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=yO(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function vO(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(sp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=30,TO=1e3;class kO{constructor(e={},n=TO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gk=new kO;function SO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function bO(r){var f;const{appId:e,apiKey:n}=r,a={method:"GET",headers:SO(n)},o=uO.replace("{app-id}",e),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let m="";try{const g=await u.json();(f=g.error)!=null&&f.message&&(m=g.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function AO(r,e=Gk,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw _n.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw _n.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new RO;return setTimeout(async()=>{m.abort()},lO),Kk({appId:a,apiKey:o,measurementId:u},f,m,e)}async function Kk(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=Gk){var m;const{appId:u,measurementId:f}=r;try{await IO(a,e)}catch(g){if(f)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:f};throw g}try{const g=await bO(r);return o.deleteThrottleMetadata(u),g}catch(g){const p=g;if(!wO(p)){if(o.deleteThrottleMetadata(u),f)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw g}const E=Number((m=p==null?void 0:p.customData)==null?void 0:m.httpStatus)===503?jv(n,o.intervalMillis,EO):jv(n,o.intervalMillis),k={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(u,k),un.debug(`Calling attemptFetch again in ${E} millis`),Kk(r,k,a,o)}}function IO(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wO(r){if(!(r instanceof Jn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class RO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CO(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,f={...a,send_to:u};r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(){if(nT())try{await iT()}catch(r){return un.warn(_n.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return un.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DO(r,e,n,a,o,u,f){const m=AO(r);m.then(b=>{n[b.measurementId]=b.appId,r.options.measurementId&&b.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>un.error(b)),e.push(m);const g=NO().then(b=>{if(b)return a.getId()}),[p,E]=await Promise.all([m,g]);vO(u)||dO(u,p.measurementId),o("js",new Date);const k=(f==null?void 0:f.config)??{};return k[oO]="firebase",k.update=!0,E!=null&&(k[sO]=E),o("config",p.measurementId,k),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},T1=[];const k1={};let Am="dataLayer",OO="gtag",S1,Yk,b1=!1;function MO(){const r=[];if(tT()&&r.push("This is a browser extension environment."),wI()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function LO(r,e,n){MO();const a=r.options.appId;if(!a)throw _n.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Yl[a]!=null)throw _n.create("already-exists",{id:a});if(!b1){mO(Am);const{wrappedGtag:u,gtagCore:f}=_O(Yl,T1,k1,Am,OO);Yk=u,S1=f,b1=!0}return Yl[a]=DO(r,T1,k1,e,S1,Am,n),new xO(r)}function VO(r=fg()){r=Lt(r);const e=Za(r,Ih);return e.isInitialized()?e.getImmediate():PO(r)}function PO(r,e={}){const n=Za(r,Ih);if(n.isInitialized()){const o=n.getImmediate();if(Wr(e,n.getOptions()))return o;throw _n.create("already-initialized")}return n.initialize({options:e})}function qO(r,e,n,a){r=Lt(r),CO(Yk,Yl[r.app.options.appId],e,n,a).catch(o=>un.error(o))}const A1="@firebase/analytics",I1="0.10.18";function UO(){ki(new $n(Ih,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return LO(a,o,n)},"PUBLIC")),ki(new $n("analytics-internal",r,"PRIVATE")),On(A1,I1),On(A1,I1,"esm2020");function r(e){try{const n=e.getProvider(Ih).getImmediate();return{logEvent:(a,o,u)=>qO(n,a,o,u)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}UO();const HO={apiKey:"AIzaSyD34gUkha8uOPeeea7ORcRzWtalKNEpLMY",authDomain:"byplanleggingsprosjekt.firebaseapp.com",projectId:"byplanleggingsprosjekt",storageBucket:"byplanleggingsprosjekt.firebasestorage.app",messagingSenderId:"173474409565",appId:"1:173474409565:web:a2eb91b37dc5682a0671b4",measurementId:"G-2MVC56FBY7"},op=oT(HO),Im=sC(op),ih=rx(op);VO(op);console.log("Firebase initialized successfully");const Qk=z.createContext(null);function $k({children:r}){const[e,n]=z.useState(null),[a,o]=z.useState(!0);z.useEffect(()=>{const g=QR(Im,p=>{n(p||null),o(!1)});return()=>g()},[]);const m={user:e,initializing:a,login:(g,p)=>GR(Im,g,p),logout:()=>$R(Im)};return J.jsx(Qk.Provider,{value:m,children:r})}$k.propTypes={children:K1.node.isRequired};function Zh(){const r=z.useContext(Qk);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}function Xk({children:r}){const{user:e,initializing:n}=Zh(),a=Ai();return n?J.jsx("div",{style:{padding:24,fontFamily:"sans-serif"},children:"Laster "}):e?r:J.jsx(q1,{to:"/login",replace:!0,state:{from:a}})}Xk.propTypes={children:K1.node.isRequired};const jO=()=>{const r=su(),{user:e,logout:n}=Zh(),a=async()=>{try{await n(),console.log("User logged out"),r("/login")}catch(o){console.error("Logout error:",o.message),alert(`Error: ${o.message}`)}};return J.jsxs("header",{className:"header-container",children:[J.jsx("h1",{children:"Plansikt"}),J.jsxs("div",{className:"tabs",children:[J.jsx("div",{children:"Casestudie"}),J.jsx("div",{children:"Planinitiativ"}),J.jsx("div",{children:"Frstegangsbehandling"}),J.jsx("div",{children:"Politisk skjema"}),J.jsx("div",{children:"Medvirkningsskjema"}),J.jsx("div",{children:"Sluttbehandling"})]}),e&&J.jsx("button",{className:"logout-button",onClick:a,children:"Logout"})]})},zO=({selectedForm:r,onSelectForm:e})=>J.jsxs("div",{className:"form-selector",children:[J.jsx("button",{onClick:()=>e("default"),className:r==="default"?"active":"",children:"Boligbebyggelse Frstegangsbehandling"}),J.jsx("button",{onClick:()=>e("planIn1"),className:r==="planIn1"?"active":"",children:"BoligBegyggelsePlanIn"}),J.jsx("button",{onClick:()=>e("form2"),className:r==="form2"?"active":"",children:"RstoffUtvinning Frstegangsbehandling"}),J.jsx("button",{onClick:()=>e("planIn2"),className:r==="planIn2"?"active":"",children:"RStoffPlanIn"})]}),w1={default:"Standard skjema",planIn1:"Boligbebyggelse planinitiativ",form2:"Rstoffutvinning frstegangsbehandling",planIn2:"Rstoff planinitiativ"},BO=({selectedForm:r,onSelectForm:e,userId:n})=>{const[a,o]=G1(),[u,f]=z.useState([]),[m,g]=z.useState(!1),[p,E]=z.useState(!1);z.useEffect(()=>{if(!n){f([]);return}g(!0);const b=fk(ih,"forms");let M;p?M=m1(b,km("userId","==",n),g1(50)):M=m1(b,km("userId","==",n),km("formId","==",r),g1(50));const G=Ex(M,Y=>{const F=Y.docs.map(ne=>({id:ne.id,...ne.data()}));f(F),g(!1)},Y=>{console.error("Kunne ikke hente skjema:",Y),g(!1)});return()=>G()},[n,r,p]);const k=b=>{b.formId&&b.formId!==r&&e(b.formId),o({instanceId:b.id})};return J.jsxs("aside",{className:"sidebar",children:[J.jsx("div",{className:"sidebar-top",style:{padding:12,borderBottom:"1px solid #ddd"},children:J.jsx(zO,{selectedForm:r,onSelectForm:e})}),J.jsxs("div",{className:"sidebar-bottom",style:{padding:12},children:[J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[J.jsx("h3",{style:{margin:0,flex:1},children:"Mine skjema"}),J.jsxs("label",{style:{fontSize:12,color:"#444"},children:[J.jsx("input",{type:"checkbox",checked:p,onChange:b=>E(b.target.checked),style:{marginRight:6}}),"Vis alle mine skjema"]})]}),!n&&J.jsx("div",{style:{color:"#666",fontSize:14,marginTop:8},children:"Du er ikke logget inn enn. (Vi logger inn anonymt automatisk.)"}),n&&m&&J.jsx("div",{style:{marginTop:8},children:"Laster "}),n&&!m&&u.length===0&&J.jsx("div",{style:{color:"#666",fontSize:14,marginTop:8},children:p?"Ingen lagrede skjema.":`Ingen lagrede skjema for ${w1[r]??r}.`}),n&&!m&&u.length>0&&J.jsx("ul",{style:{listStyle:"none",padding:0,margin:"8px 0 0"},children:u.map(b=>{var M;return J.jsx("li",{style:{marginBottom:8},children:J.jsxs("button",{style:{width:"100%",textAlign:"left",padding:"8px 10px",border:"1px solid #ccc",borderRadius:6,background:"#fff",cursor:"pointer"},onClick:()=>k(b),title:`pne ${b.name||"Uten navn"}`,children:[J.jsxs("div",{style:{fontWeight:600},children:[b.name||"Uten navn",p&&b.formId?J.jsxs("span",{style:{fontWeight:400,fontSize:12,color:"#666"},children:[" "," ",w1[b.formId]??b.formId]}):null]}),J.jsxs("div",{style:{fontSize:12,color:"#666"},children:["Sist endret:"," ",(M=b.updatedAt)!=null&&M.toDate?b.updatedAt.toDate().toLocaleString():""]})]})},b.id)})})]})]})},FO=({question:r,updateQuestionScore:e,questionMultipliers:n,storedAnswer:a})=>{const o=(a==null?void 0:a.rawValue)??(a==null?void 0:a.score)??null,[u,f]=z.useState(o),[m,g]=z.useState(null),[p,E]=z.useState(a?!a.answered:!1),k=M=>{var G;if(!p)if(u===M)f(null),e(r.id,null,!1);else{f(M);const Y=m&&((G=n[r.id])==null?void 0:G[m])||1;e(r.id,M*Y,!0)}},b=M=>{var G;if(m===M)g(null),E(!1),e(r.id,u,u!==null);else if(M==="Ikke aktuelt")E(!0),g(M),f(null),e(r.id,0,!1);else{E(!1),g(M);const Y=((G=n[r.id])==null?void 0:G[M])||1;e(r.id,u!==null?u*Y:0,u!==null)}};return J.jsxs("div",{className:"question-group",children:[J.jsx("p",{children:r.text}),J.jsxs("div",{className:"rating",children:[J.jsxs("div",{className:"rating-group",children:[J.jsx("span",{children:"Prioritet:"}),["Lav","Normal","Hy","Ikke aktuelt"].map(M=>J.jsx("button",{className:`priority-button ${m===M?"active":""}`,onClick:()=>b(M),children:M},M))]}),J.jsxs("div",{className:"rating-group",children:[J.jsx("span",{children:"Verdi:"}),[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(M=>J.jsx("button",{className:`value-button ${u===M?"active":""}`,onClick:()=>k(M),children:M},M))]})]}),J.jsx("textarea",{placeholder:"Begrunnelse:"})]})},GO=[{id:"tema1",title:"Egnethet"},{id:"tema2",title:"Infrastruktur og samferdsel"},{id:"tema3",title:"Utforming og plassering av bygg"},{id:"tema4",title:"Lekeplasser, natur- og grntomrder"},{id:"tema5",title:"Barn og unges interesser"},{id:"tema6",title:"Universell utforming og tilgjengelighet"},{id:"tema7",title:"Vann og avlp"},{id:"tema8",title:"Rekkeflgekrav"},{id:"tema9",title:"Kvalitet p plan og kunnskapsgrunnlag"}],KO=[{id:"q1",theme:"tema1",text:"I hvilke grad har omrdet en god konomisk forutsetning for  realisere et boligprosjekt?"},{id:"q2",theme:"tema1",text:"Hvilke pvirkning vil tiltaket ha p dyrket og dyrkbar mark?"},{id:"q3",theme:"tema1",text:"Hvilke pvirkning vil tiltaket ha for urrt natur og dyreliv?"},{id:"q4",theme:"tema1",text:"Hvilke pvirkning vil tiltaket ha p omkringliggende omrder?"},{id:"q5",theme:"tema1",text:"Er adkomst til omrdet enkelt for tiltenkte brukergrupper i dag?"},{id:"q6",theme:"tema1",text:"I hvilke grad er ndvendige servicetilbud tilgjengelige fra omrdet?"},{id:"q7",theme:"tema1",text:"I hvilke grad ligger omrdet i tilstrekkelig nrhet til grntstrukturer og rekreasjonsomrder?"},{id:"q8",theme:"tema1",text:"I hvilke grad ligger prosjektet innenfor et prioritert vekstomrde?"},{id:"q9",theme:"tema1",text:"Hvordan kan en utbygging pvirke kulturminner og kulturmilj?"},{id:"q10",theme:"tema1",text:"Dersom omrdet skal transformeres, i hvilke grad er omrdet modent for en transformasjon?"},{id:"q11",theme:"tema1",text:"I hvilke grad egner omrdet seg for boligbebyggelse kontra andre arealforml, da ogs nullalternativ?"},{id:"q12",theme:"tema1",text:"Er utgangspunktet godt for  oppn gode styforhold?"},{id:"q13",theme:"tema1",text:"Er utgangspunktet godt for  oppn gode sol- og lysforhold?"},{id:"q14",theme:"tema1",text:"Har tiltenkt omrde god tilknytning til ndvendig grad av kollektivtrafikk?"},{id:"q15",theme:"tema1",text:"I hvilke grad kan transport til planomrdet lses med sykkel, gange og kollektivtrafikk fremfor bil?"},{id:"q16",theme:"tema1",text:"Har terreng et godt utgangspunkt for  oppn god tilgjengelighet?"},{id:"q17",theme:"tema1",text:"Har terreng et godt utgangspunkt for  realisere et boligprosjekt med tilhrende funksjoner?"},{id:"q18",theme:"tema2",text:"I hvilke grad sikres det en tilstrekkelig veistandard til boligene fra omkringliggende omrder og mlpunkt?"},{id:"q19",theme:"tema2",text:"I hvilke grad sikres gode lsninger p infrastruktur for myke trafikanter fra boligene til mlpunkt, servicetilbud og grntstrukturer?"},{id:"q20",theme:"tema2",text:"Fr interne bevegelseslinjer for myke trafikanter tilstrekkelig kvalitet med tanke p utforming, plassering, tiltenkt bruk og sikkerhet?"},{id:"q21",theme:"tema2",text:"Er interne bevegelseslinjer for myke trafikanter tilstrekkelig prioritert for  skape logiske og attraktive traseer?"},{id:"q22",theme:"tema2",text:"Sikres det et hensiktsmessig antall parkeringsplasser?"},{id:"q23",theme:"tema2",text:"Sikres det tilstrekkelig kvalitet for utforming og lokalisering av parkeringslsninger?"},{id:"q24",theme:"tema2",text:"Sikres det tilstrekkelig antall sykkelparkeringsplasser?"},{id:"q25",theme:"tema2",text:"Sikres det tilstrekkelig kvalitet med tanke p utforming og lokalisering av sykkelparkeringsplasser?"},{id:"q26",theme:"tema2",text:"I hvilke grad fr boligene en hensiktsmessig kollektivdekning?"},{id:"q27",theme:"tema2",text:"I hvilken grad er kollektivtilbud tilgjengelig og attraktiv som transportvalg?"},{id:"q28",theme:"tema3",text:"Sikres det en god estetisk kvalitet?"},{id:"q29",theme:"tema3",text:"Hvilken pvirkning vil byggverks utforming og estetiske kvaliteter ha for tilgrensende omrder, deriblant ogs sol- og lysforhold?"},{id:"q30",theme:"tema3",text:"Hvilke fjernvirkninger vil bygg gi?"},{id:"q31",theme:"tema3",text:"Har planen en hensiktsmessig utnyttelsesgrad ut fra omrdets tleevne?"},{id:"q32",theme:"tema3",text:"Har planen en hensiktsmessig utnyttelsesgrad gitt plassering og tilpasning til omkringliggende bebyggelse?"},{id:"q33",theme:"tema3",text:"Har man lagt til rette for en hensiktsmessig utnytting gitt planlagt fremtidig bruk av tilgrensende omrder?"},{id:"q34",theme:"tema3",text:"Er planlagte bygg godt tilpasset eksisterende landskap og bebyggelse?"},{id:"q35",theme:"tema3",text:"Er det sikret en variert og hensiktsmessig boenhetsfordeling med tanke p strrelser?"},{id:"q36",theme:"tema3",text:"Ser boenheter ut til  f en god kvalitet og funksjonalitet?"},{id:"q37",theme:"tema3",text:"Sikres gode private uteoppholdsareal tilknyttet boenhetene?"},{id:"q38",theme:"tema3",text:"I hvilke grad har planen en riktig boligtetthet og boligsammensetning basert p planomrdets plassering?"},{id:"q39",theme:"tema3",text:"I hvilke grad er det tenkt p og avsatt areal til ndvendige servicebygg som f.eks. trafo?"},{id:"q40",theme:"tema3",text:"Sikres det i ndvendig grad felles innendrs oppholdsareal av god kvalitet med hensiktsmessige funksjoner?"},{id:"q41",theme:"tema3",text:"Oppns det et godt samspill mellom bygg og andre funksjoner som parkering og uteoppholdsareal?"},{id:"q42",theme:"tema3",text:"I hvilke grad er bygg plassert slik at man oppnr et godt samspill med andre bygg, uteareal, naturelementer, traseer, overvannslsninger osv.?"},{id:"q43",theme:"tema3",text:"I hvilke grad sikres material- og fargevalg av god kvalitet?"},{id:"q44",theme:"tema4",text:"Settes det av ndvendige landskaps- og terrengbuffere mot tilgrensende funksjoner og urrt natur?"},{id:"q45",theme:"tema4",text:"Har man beholdt eksisterende natur- og landskapsdrag, terrengformasjoner, trr og vann i dagen med srlig verdi?"},{id:"q46",theme:"tema4",text:"Har man uavhengig av naturverdi beholdt tilstrekkelig med naturelementer og omrder som ikke bearbeides?"},{id:"q47",theme:"tema4",text:"Er det avsatt gode grntomrder med tanke p plassering, kvalitet og funksjon?"},{id:"q48",theme:"tema4",text:"Sikres en hensiktsmessig opparbeiding og beplantning av arealene?"},{id:"q49",theme:"tema4",text:"Er det gode synergier mellom overvanns- og flomhndtering og grntomrder?"},{id:"q50",theme:"tema4",text:"I hvilke grad oppnr planen en god balanse mellom private, halvprivate og offentlige areal?"},{id:"q51",theme:"tema4",text:"Har man utredet og beholdt eventuelle stier og grntdrag som gr gjennom planomrdet?"},{id:"q52",theme:"tema4",text:"Skapes det gode og naturlige bevegelseslinjer gjennom planomrdet, som i ndvendig grad kan brukes av alle?"},{id:"q53",theme:"tema4",text:"Er det sikret tilstrekkelig belysning i traseer som etableres gjennom planomrdet?"},{id:"q54",theme:"tema4",text:"Foreligger det rdlistede arter innenfor planomrdet, og hvordan ivaretas disse?"},{id:"q55",theme:"tema5",text:"Er det avsatt tilstrekkelige uteareal til barn og unge som er tilgjengelige for alle?"},{id:"q56",theme:"tema5",text:"Fr eventuelle private uteoppholdsareal gode premisser for bruk av barn og unge?"},{id:"q57",theme:"tema5",text:"Sikres viktige natur- og terrengformasjoner som kan vre attraktive for barn og unge?"},{id:"q58",theme:"tema5",text:"Sikres det gode lekeplasser og grntomrder med tanke p strrelse, varierte funksjoner og lek?"},{id:"q59",theme:"tema5",text:"Gis arealene en attraktiv plassering med gode sty- og lysforhold?"},{id:"q60",theme:"tema5",text:"Sikres sittegrupper og voksenfunksjoner som kan kombineres med lek?"},{id:"q61",theme:"tema5",text:"Sikres sammenhengende bevegelseslinjer til mlpunkt som er trafikksikre og attraktive?"},{id:"q62",theme:"tema5",text:"Oppns det tilstrekkelig trafikksikkerhet utad og internt i planomrdet?"},{id:"q63",theme:"tema5",text:"Oppns det tilstrekkelig sikkerhet for  unng unsket og farlig bruk av barn og unge?"},{id:"q64",theme:"tema5",text:"Er det sikret tilstrekkelig belysning i traseer som etableres gjennom planomrdet?"},{id:"q65",theme:"tema6",text:"Er omrdet tilgjengelig og forstelig for myke trafikanter med funksjonsnedsettelser?"},{id:"q66",theme:"tema6",text:"I hvilke grad legges det til rette for alle aldersgrupper og familiesammensetninger?"},{id:"q67",theme:"tema6",text:"Er det sikret gode leke- og uteoppholdsmuligheter for mennesker med funksjonsvariasjoner?"},{id:"q68",theme:"tema6",text:"Sikres det et hensiktsmessig antall UU- og tilgjengelige boliger?"},{id:"q69",theme:"tema6",text:"Er det gjort en analyse av tiltak som br gjres for  oppn tilgjengelighet for prosjektet?"},{id:"q70",theme:"tema6",text:"Er det utarbeidet konkrete bestemmelser for  oppn UU der det er ndvendig?"},{id:"q71",theme:"tema7",text:"I hvilke grad sikres det at overvann hndteres internt p planomrdet og at tiltaket ikke ker pkjenningen p tilgrensende omrder?"},{id:"q72",theme:"tema7",text:"I hvilken grad forbedres overvannssituasjonen i forhold til dagens situasjon?"},{id:"q73",theme:"tema7",text:"I hvilke grad er lsninger for overvann prosjektert og gjennomfrbare?"},{id:"q74",theme:"tema7",text:"I hvilke grad brukes overvannssystemer for  oppn synergier med natur og grntomrder?"},{id:"q75",theme:"tema7",text:"Sikres ndvendige flomveier, og fr de en funksjon utover at de er flomveier?"},{id:"q76",theme:"tema7",text:"I hvilke grad har planen fokus p permeable flater, grnne tak m.m.?"},{id:"q77",theme:"tema7",text:"I hvilke grad er ndvendige traseer for vann- og avlpsledninger kartlagt? Hvilke konsekvenser vil etablering av ledningsnettet ha for omrdet?"},{id:"q78",theme:"tema7",text:"Fr vann- og avlpsledninger ndvendige dimensjoner til  sikre en helhetlig utvikling?"},{id:"q79",theme:"tema8",text:"I hvilke grad sikres rekkeflgekrav for ndvendig omkringliggende infrastruktur gjennom planen?"},{id:"q80",theme:"tema8",text:"I hvilke grad sikres rekkeflgekrav for ndvendig infrastruktur for vann, overvann og flom?"},{id:"q81",theme:"tema8",text:"I hvilke grad sikres rekkeflgekrav for ndvendige grntomrder, grntdrag, lekeplasser m.m.?"},{id:"q82",theme:"tema8",text:"I hvilke grad sikres rekkeflgekrav for nsket utbyggingsrekkeflge?"},{id:"q83",theme:"tema8",text:"I hvilke grad sikres andre ndvendige rekkeflgekrav for prosjektet?"},{id:"q84",theme:"tema9",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  kunne sette gode rekkeflgekrav?"},{id:"q85",theme:"tema9",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  oppn tilstrekkelig sikkerhet for planomrdet og omkringliggende omrder?"},{id:"q86",theme:"tema9",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  kunne vurdere og ivareta natur-, kultur- og miljinteresser?"},{id:"q87",theme:"tema9",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  kunne vurdere en helhetlig utvikling av feltet og omkringliggende omrder?"},{id:"q88",theme:"tema9",text:"I hvilke grad er plankart tilstrekkelig detaljert for  sikre planens intensjoner og kvaliteter?"},{id:"q89",theme:"tema9",text:"I hvilke grad er bestemmelser konkrete og dekkende for  sikre planens intensjoner og kvaliteter?"},{id:"q90",theme:"tema9",text:"Er det samsvar mellom ikke-juridiske og juridisk bindende dokumenter og illustrasjoner?"}],YO={q1:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q2:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},q3:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},q4:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q5:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},q6:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q7:{Lav:.8,Normal:1.1,Hy:1.3,"Ikke aktuelt":1},q8:{Lav:.8,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},q9:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},q10:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q11:{Lav:.8,Normal:1.1,Hy:1.3,"Ikke aktuelt":1},q12:{Lav:.5,Normal:.8,Hy:1,"Ikke aktuelt":1},q13:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q14:{Lav:.7,Normal:1,Hy:1.2,"Ikke aktuelt":1},q15:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q16:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},q17:{Lav:.5,Normal:.9,Hy:1.3,"Ikke aktuelt":1},q18:{Lav:.7,Normal:1,Hy:1.2,"Ikke aktuelt":1},q19:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q20:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q21:{Lav:.7,Normal:1,Hy:1.3,"Ikke aktuelt":1},q22:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q23:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},q24:{Lav:.7,Normal:1,Hy:1.2,"Ikke aktuelt":1},q25:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},q26:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q27:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q28:{Lav:.7,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},q29:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},q30:{Lav:.4,Normal:.8,Hy:1.2,"Ikke aktuelt":1},q31:{Lav:.8,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},q32:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},q33:{Lav:.6,Normal:1,Hy:1.3,"Ikke aktuelt":1},q34:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q35:{Lav:.5,Normal:1,Hy:1.4,"Ikke aktuelt":1},q36:{Lav:.5,Normal:1,Hy:1.3,"Ikke aktuelt":1},q37:{Lav:.5,Normal:.8,Hy:1,"Ikke aktuelt":1},q38:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},q39:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},q40:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q41:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},q42:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},q43:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},q44:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q45:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q46:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q47:{Lav:.9,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},q48:{Lav:.5,Normal:.8,Hy:1,"Ikke aktuelt":1},q49:{Lav:.5,Normal:.9,Hy:1.2,"Ikke aktuelt":1},q50:{Lav:.8,Normal:1,Hy:1.3,"Ikke aktuelt":1},q51:{Lav:.5,Normal:.8,Hy:1.1,"Ikke aktuelt":1},q52:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},q53:{Lav:.4,Normal:.7,Hy:1,"Ikke aktuelt":1},q54:{Lav:.7,Normal:1.1,Hy:1.5,"Ikke aktuelt":1},q55:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q56:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},q57:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q58:{Lav:1,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},q59:{Lav:.9,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},q60:{Lav:.7,Normal:.9,Hy:1.1,"Ikke aktuelt":1},q61:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q62:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q63:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q64:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},q65:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q66:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},q67:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q68:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q69:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q70:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q71:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q72:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q73:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q74:{Lav:.5,Normal:.9,Hy:1.1,"Ikke aktuelt":1},q75:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},q76:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},q77:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q78:{Lav:.6,Normal:1,Hy:1.1,"Ikke aktuelt":1},q79:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q80:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q81:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q82:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q83:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q84:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},q85:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q86:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q87:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q88:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q89:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},q90:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1}},QO=Object.freeze(Object.defineProperty({__proto__:null,questionMultipliers:YO,questions:KO,themes:GO},Symbol.toStringTag,{value:"Module"})),$O=[{id:"t_tema1",title:"Egnethet"},{id:"t_tema2",title:"Forholdet foresltt bruk seg til gjeldende premisser?"}],XO=[{id:"t_q1",theme:"t_tema1",text:"I hvilke grad har omrdet en god konomisk forutsetning for  realisere et boligprosjekt?"},{id:"t_q2",theme:"t_tema1",text:"Hvilke pvirkning vil tiltaket ha p dyrket og dyrkbar mark?"},{id:"t_q3",theme:"t_tema1",text:"Hvilke pvirkning vil tiltaket ha for urrt natur og dyreliv?"},{id:"t_q4",theme:"t_tema1",text:"Hvilke pvirkning vil tiltaket ha p omkringliggende omrder?"},{id:"t_q5",theme:"t_tema1",text:"Er adkomst til omrdet enkelt for tiltenkte brukergrupper i dag?"},{id:"t_q6",theme:"t_tema1",text:"I hvilke grad er ndvendige servicetilbud tilgjengelige fra omrdet?"},{id:"t_q7",theme:"t_tema1",text:"I hvilke grad ligger omrdet i tilstrekkelig nrhet til grntstrukturer og rekreasjonsomrder?"},{id:"t_q8",theme:"t_tema1",text:"I hvilke grad ligger prosjektet innenfor et prioritert vekstomrde?"},{id:"t_q9",theme:"t_tema1",text:"Dersom omrdet skal transformeres, i hvilke grad er omrdet modent for en transformasjon?"},{id:"t_q10",theme:"t_tema1",text:"I hvilke grad egner omrdet seg for boligbebyggelse kontra andre arealforml, da ogs nullalternativ?"},{id:"t_q11",theme:"t_tema1",text:"Er utgangspunktet godt for  oppn gode styforhold?"},{id:"t_q12",theme:"t_tema1",text:"Er utgangspunktet godt for  oppn gode sol- og lysforhold?"},{id:"t_q13",theme:"t_tema1",text:"Har tiltenkt omrde god tilknytning til ndvendig grad av kollektivtrafikk?"},{id:"t_q14",theme:"t_tema1",text:"I hvike grad kan transport til planomrdet lses med sykkel, gange og kollektivtrafikk fremfor bil?"},{id:"t_q15",theme:"t_tema1",text:"Har terreng et godt utgangspunkt for  oppn god tilgjengelighet?"},{id:"t_q16",theme:"t_tema1",text:"Er dagens terreng krevende eller enkelt for  realisere prosjektet?"},{id:"t_q17",theme:"t_tema2",text:"Ser prosjektet ut til  tilpasse seg omkringliggende bebyggelse i estetikk, form og skala?"},{id:"t_q18",theme:"t_tema2",text:"Ser prosjektet ut til  flge overordnede bestemmelser og retningslinjer?"},{id:"t_q19",theme:"t_tema2",text:"Hvordan pvirkes eventuelle kulturmilj og kulturminner?"},{id:"t_q20",theme:"t_tema2",text:"Legger planen opp til en god balanse mellom bevaring av natur og viktige landskapsformasjoner og utbygging?"},{id:"t_q21",theme:"t_tema2",text:"Legges det gode premisser for at interne kvaliteter som bevegelseslinjer, attrakive arealer til grnt- og lekeomrder og overvanns- og flomveier sikres?"},{id:"t_q22",theme:"t_tema2",text:"Ser man ut til  oppn gode premisser for en balanse mellom offentlige-, halvprivate- og private areal?"},{id:"t_q23",theme:"t_tema2",text:"Foresls en hensiktsmessig tetthet i forhold til lokalisering og for  oppn tilstrekkelig kvalitet?"},{id:"t_q24",theme:"t_tema2",text:"Presenteres en hensiktsmessig boligvariasjon som legger tilrette for en hensiktsmessig variasjon av brukere med tanke p alder og familiesammensetning?"},{id:"t_q25",theme:"t_tema2",text:"Ser prosjektet ut til  gi en type boliger det er srlig behov for i kommunen og tettstedet?"},{id:"t_q26",theme:"t_tema2",text:"Ser prosjektet ut til  tilfre verdier til omkringliggende omrder, samt gi noe tilbake til samfunnet i form av f. eks grntstrukturer?"},{id:"t_q27",theme:"t_tema2",text:"Har man i tilstrekkelig grad tatt med og sikret kvaliteter som m utbedres i omkringliggende omrder, f. eks infrastruturtiltak, skolevei m.m.?"},{id:"t_q28",theme:"t_tema2",text:"Er foresltt utvikling i trd med tenkt helhetlig utvikling av nromrdet?"}],WO={t_q1:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q2:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},t_q3:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},t_q4:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q5:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},t_q6:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q7:{Lav:.8,Normal:1.1,Hy:1.3,"Ikke aktuelt":1},t_q8:{Lav:.8,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},t_q9:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q10:{Lav:.8,Normal:1.1,Hy:1.3,"Ikke aktuelt":1},t_q11:{Lav:.5,Normal:.8,Hy:1,"Ikke aktuelt":1},t_q12:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q13:{Lav:.7,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q14:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q15:{Lav:.6,Normal:.8,Hy:1,"Ikke aktuelt":1},t_q16:{Lav:.5,Normal:.9,Hy:1.3,"Ikke aktuelt":1},t_q17:{Lav:.7,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q18:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q19:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q20:{Lav:.7,Normal:1,Hy:1.3,"Ikke aktuelt":1},t_q21:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q22:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},t_q23:{Lav:.7,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q24:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},t_q25:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q26:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q27:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},t_q28:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1}},ZO=Object.freeze(Object.defineProperty({__proto__:null,questions:XO,t_questionMultipliers:WO,themes:$O},Symbol.toStringTag,{value:"Module"})),JO=[{id:"r_tema1",title:"Egnethet"},{id:"r_tema2",title:"Ser "}],e4=[{id:"r_q1",theme:"r_tema1",text:"I hvilke grad har omrdet en god konomisk forutsetning for  realisere prosjektet?"},{id:"r_q2",theme:"r_tema1",text:"I hvilke grad kan foretaket generere samfunns- og konomiske verdier?"},{id:"r_q3",theme:"r_tema1",text:"Hvilke pvirkning vil tiltaket ha p dyrket og dyrkbar mark?"},{id:"r_q4",theme:"r_tema1",text:"Hvilke pvirkning vil tiltaket ha for urrt natur og dyreliv?"},{id:"r_q5",theme:"r_tema1",text:"Er dagens infrastruktur frem til omrdet egnet for forventet trafikkkning?"},{id:"r_q6",theme:"r_tema1",text:"Er dagens terreng krevende eller enkelt for  realisere prosjektet?"},{id:"r_q7",theme:"r_tema1",text:"Hvordan pvirkes eventuelle kulturmilj og kulturminner?"},{id:"r_q8",theme:"r_tema1",text:"I hvilke grad egner omrdet seg for rstoffutvinning kontra andre arealforml, da ogs nullalternativ?"},{id:"r_q9",theme:"r_tema1",text:"Er utgangspunktet godt for  oppn gode styforhold for omkringliggende omrder, da ogs natur?"},{id:"r_q10",theme:"r_tema1",text:"Foreligger det et godt utgangspunkt for synergier med andre foretak og nringer innenfor nromrdet?"},{id:"r_q11",theme:"r_tema1",text:"I hvilke grad er utvinningen samfunnsmessig ndvendig?"},{id:"r_q12",theme:"r_tema1",text:"I hvilke grad kan omrdet tilbakefres i en forbedret tilstand?"},{id:"r_q13",theme:"r_tema1",text:"I hvilke grad gjres det irreversible inngrep som forringer dagens tilstand?"},{id:"r_q14",theme:"r_tema1",text:"I hvilke grad kan det gjennomfres et gradvis uttak og en gradvis tilbakefring?"},{id:"r_q15",theme:"r_tema1",text:"Hvilke pvirkning vil uttaket ha for milj og klima?"},{id:"r_q18",theme:"r_tema2",text:"Ser prosjektet ut til  tilpasse seg omkringliggende milj i driftstiden?"},{id:"r_q19",theme:"r_tema2",text:"Ser tenkt sluttprodukt etter endt uttak ut til  tilpasse seg omkringliggende milj?"},{id:"r_q20",theme:"r_tema2",text:"Har man gjort en god innledende vurdering p mulig etterbruk av omrdet?"},{id:"r_q21",theme:"r_tema2",text:"Ser prosjektet ut til  flge overordnede bestemmelser og retningslinjer?"},{id:"r_q22",theme:"r_tema2",text:"Legges det gode premisser for at viktige natur- og terrengformasjoner kan bevares?"},{id:"r_q23",theme:"r_tema2",text:"Har man i tilstrekkelig grad vurdert aktuelle tileggsfunksjoner? Har man et godt utgangspunkt for  etablere funksjonene?"},{id:"r_q24",theme:"r_tema2",text:"Legges det gode premisser for soneinndelt uttak, dersom det er aktuelt?"},{id:"r_q25",theme:"r_tema2",text:"Er innledende planavgrensing hensiktsmessig?"},{id:"r_q26",theme:"r_tema2",text:"Skapes det gode forutsetninger for intern infrastruktur og infrastruktur frem til hovedinfrastruktur?"},{id:"r_q27",theme:"r_tema2",text:"Legges det gode premisser for  forhindre unskede hendelser og forurrensning?"},{id:"r_q28",theme:"r_tema2",text:"Legges det gode premisser for  bruk av bimasser?"}],t4={r_q1:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},r_q2:{Lav:.6,Normal:1.1,Hy:1.5,"Ikke aktuelt":1},r_q3:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},r_q4:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},r_q5:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},r_q6:{Lav:.6,Normal:.8,Hy:1.2,"Ikke aktuelt":1},r_q7:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},r_q8:{Lav:.5,Normal:1,Hy:1.3,"Ikke aktuelt":1},r_q9:{Lav:.4,Normal:1,Hy:1.2,"Ikke aktuelt":1},r_q10:{Lav:.6,Normal:.8,Hy:1.2,"Ikke aktuelt":1},r_q11:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},r_q12:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},r_q13:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},r_q14:{Lav:.4,Normal:1,Hy:1.5,"Ikke aktuelt":1},r_q15:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},r_q18:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},r_q19:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},r_q20:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},r_q21:{Lav:.6,Normal:1.1,Hy:1.5,"Ikke aktuelt":1},r_q22:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},r_q23:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},r_q24:{Lav:.8,Normal:1,Hy:1.3,"Ikke aktuelt":1},r_q25:{Lav:.8,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},r_q26:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},r_q27:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},r_q28:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1}},n4=Object.freeze(Object.defineProperty({__proto__:null,questionMultipliers:t4,questions:e4,themes:JO},Symbol.toStringTag,{value:"Module"})),i4=[{id:"y_tema1",title:"Egnethet"},{id:"y_tema2",title:"Utforming og inngrep"},{id:"y_tema3",title:"Natur og milj"},{id:"y_tema4",title:"Pvirkning av omkrigliggende omrder"},{id:"y_tema5",title:"Samferdsel og logistikk"},{id:"y_tema6",title:"Tilbakefring og sonedeling"},{id:"y_tema7",title:"Rekkeflgekrav"},{id:"y_tema8",title:"Kvalitet p plan og kunnskapsgrunnlag"}],r4=[{id:"y_q1",theme:"y_tema1",text:"I hvilke grad har omrdet en god konomisk forutsetning for  realisere prosjektet?"},{id:"y_q2",theme:"y_tema1",text:"I hvilke grad kan foretaket generere samfunns- og konomiske verdier?"},{id:"y_q3",theme:"y_tema1",text:"Hvilke pvirkning vil tiltaket ha p dyrket og dyrkbar mark?"},{id:"y_q4",theme:"y_tema1",text:"Hvilke pvirkning vil tiltaket ha for urrt natur og dyreliv?"},{id:"y_q5",theme:"y_tema1",text:"Er dagens infrastruktur frem til omrdet egnet for forventet trafikkkning?"},{id:"y_q6",theme:"y_tema1",text:"Er dagens terreng krevende eller enkelt for  realisere prosjektet?"},{id:"y_q7",theme:"y_tema1",text:"Hvordan pvirkes eventuelle kulturmilj og kulturminner?"},{id:"y_q8",theme:"y_tema1",text:"I hvilke grad egner omrdet seg for rstoffutvinning kontra andre arealforml, da ogs nullalternativ?"},{id:"y_q9",theme:"y_tema1",text:"Er utgangspunktet godt for  oppn gode styforhold for omkringliggende omrder, da ogs natur?"},{id:"y_q10",theme:"y_tema1",text:"Foreligger det et godt utgangspunkt for synergier med andre foretak og nringer?"},{id:"y_q11",theme:"y_tema1",text:"I hvilke grad er utvinningen samfunnsmessig ndvendig?"},{id:"y_q12",theme:"y_tema1",text:"I hvilke grad kan omrdet tilbakefres i en forbedret tilstand?"},{id:"y_q13",theme:"y_tema1",text:"I hvilke grad gjres det irreversible inngrep som forringer dagens tilstand?"},{id:"y_q14",theme:"y_tema1",text:"I hvilke grad kan det gjennomfres et gradvis uttak og en gradvis tilbakefring?"},{id:"y_q15",theme:"y_tema1",text:"Hvilke pvirkning vil uttaket ha for milj og klima?"},{id:"y_q18",theme:"y_tema2",text:"Sikres det ndvendig areal til lagring og mellomlagring av masser?"},{id:"y_q19",theme:"y_tema2",text:"Sikres en god hndtering av eventuelle biprodukter fra uttaket?"},{id:"y_q20",theme:"y_tema2",text:"Setter man hensiktsmessige dybdegrenser for maksimalt uttak, som gir en god balanse mellom utnytting av arealressurs og ivaretakelse av andre interesser?"},{id:"y_q21",theme:"y_tema2",text:"Setter man hensiktsmessige arealgrenser for maksimalt uttak, som gir en god balanse mellom utnytting av arealressurs og ivaretakelse av andre interesser?"},{id:"y_q22",theme:"y_tema2",text:"Er det kartlagt hvilke andre funksjoner som kan ha synergier med rstoffutvinningen som legges til omrdet? Er det eventuelt en hensiktsmessig plassering for slike funksjoner?"},{id:"y_q23",theme:"y_tema2",text:"Dersom man tenker sonedelt uttak, sikres det tilstrekkelig areal for alle ndvendige funksjoner for hver sone?"},{id:"y_q24",theme:"y_tema2",text:"Sikres det areal til ndvendig bebyggelse?"},{id:"y_q25",theme:"y_tema2",text:"I hvilke grad er det tenkt p og avsatt areal til ndvendige serviceareal som f.eks parkering og servicefunksjoner?"},{id:"y_q26",theme:"y_tema3",text:"I hvilken grad vil foretak forurrense miljet?Sikres det en god estetisk kvalitet?"},{id:"y_q27",theme:"y_tema3",text:"I hvilke grad kan foretaket forrsake negative og uplanlagte miljhendelser? "},{id:"y_q28",theme:"y_tema3",text:"Foreligger det rdlistede arter innenfor planomrdet, om ja, hvordan er ivaretagelsen av artene?"},{id:"y_q29",theme:"y_tema3",text:"Hvilke pvirkning vil foretaket ha p vassdrag og vannmilj?"},{id:"y_q30",theme:"y_tema3",text:"Beholdes identifiserte viktige naturelement som trr, terrengformasjoner og dyreliv og fr de en naturlig kobling til tilgresende naturomrder?"},{id:"y_q31",theme:"y_tema3",text:"Er eksisternde natur- og landskapsdrag av hy kvalitet identifisert og sikret bevart?"},{id:"y_q32",theme:"y_tema3",text:"Dersom omrdet skal tilbakefres til natur- eller kulturlandskap; I hvilken grad sikres en bedre utforming og bruk av omrdet kontra dagens situasjon?"},{id:"y_q33",theme:"y_tema3",text:"Er avrenning fra omrdet i tilstrekkelig grad hndtert?"},{id:"y_q34",theme:"y_tema3",text:"Er overvannssystemer og flomveier sikret og vist i plankart?"},{id:"y_q35",theme:"y_tema4",text:"Sikres det hensiktsmessige pningstider for uttak for  redusere pkjenning p omkringliggende omrder?"},{id:"y_q36",theme:"y_tema4",text:"Settes det i ndvendig grad krav om stvreduserende tiltak?"},{id:"y_q37",theme:"y_tema4",text:"Settes det i ndvendig grad krav om styreduserende tiltak?"},{id:"y_q38",theme:"y_tema4",text:"Sikres omrdet i tilstrekkelig grad mot unsket bruk og hendelser?"},{id:"y_q39",theme:"y_tema4",text:"Settes det av ndvendige landskaps- og terrengbuffere mot tilgrensende funksjoner og urrt natur?"},{id:"y_q40",theme:"y_tema4",text:"Er det tatt tilstrekkelige hensyn til tilgrensende funksjoner, som boliger, landbruk, reakreasjonstilbud m.m?"},{id:"y_q41",theme:"y_tema4",text:"Hvilke fjernvirkninger vil utvinningsanlegget ha?"},{id:"y_q42",theme:"y_tema4",text:"Hvilke pvirkning har tiltaket p berrte kulturminner og kulturmilj?"},{id:"y_q43",theme:"y_tema5",text:"I hvilke grad sikres det en tilstrekkelig veistandard frem til uttaket p offentlig vei?"},{id:"y_q44",theme:"y_tema5",text:"Sikres det tilstrekkelig gode og sikre krysslsninger fra uttak til offentlig vei?"},{id:"y_q45",theme:"y_tema5",text:"I hvilke grad sikres en hensiktsmessig standard og utforming p internt veinett?"},{id:"y_q46",theme:"y_tema5",text:"Er veinettet som benyttes tilstrekkelig dimensjonert for forventet trafikkkning og bruk, da ogs med tanke p sty"},{id:"y_q47",theme:"y_tema5",text:"Sikres det et hensiktsmessig antall parkeringsplasser?"},{id:"y_q48",theme:"y_tema5",text:"Sikres det tilstrekkelig kvalitet for utforming og lokalisering av parkeringslsninger?"},{id:"y_q49",theme:"y_tema5",text:"I hvilke grad sikres det en tilstrekkelig sikkerhet for myke trafikanter p veinett som benyttes?"},{id:"y_q50",theme:"y_tema5",text:"Sikres det tilstrekkelig antall sykkelparkeringsplasser og kvalitet p disse?"},{id:"y_q51",theme:"y_tema5",text:"Fr tiltaket tilstrekkelig kollektivdekning?"},{id:"y_q52",theme:"y_tema6",text:"Er det i tilstrekkelig grad utforsket alternativer til etterbruk av omrdet?"},{id:"y_q53",theme:"y_tema6",text:"Er det utarbeidet en hensiktsmessig tilbakefringsplan som knyttes opp til og sikres i planens bestemmelser?"},{id:"y_q54",theme:"y_tema6",text:"Er det sikret en sonedelt gradvis tilbakefring etterhvert som uttaket fullfres?"},{id:"y_q55",theme:"y_tema6",text:"Fr tilbakefrt omrde en hensiktsmessig utforming som gir et naturlig preg og er tilrettelagt for enkel etablering av tenkt etterbruksforml?"},{id:"y_q56",theme:"y_tema6",text:"Fr omrdet en bedre utforming og bruk som et resultat av rstoffutvinningen?"},{id:"y_q57",theme:"y_tema6",text:"Bevares rmateriale slik at det, i den grad det er mulig, kan brukes ved etablering av etterbruk?"},{id:"y_q58",theme:"y_tema7",text:"I hvilke grad sikres rekkeflgekrav for opparbeiding av ndvendig infrastruktur for samferdsel?"},{id:"y_q59",theme:"y_tema7",text:"I hvilke grad sikres rekkeflgekrav for ndvendige tiltak for milj og avrenning?"},{id:"y_q60",theme:"y_tema7",text:"I hvilke grad sikres rekkeflgekrav for tilbakefring av utvinningsomrder, da ogs sonedelt tilbakefring?"},{id:"y_q61",theme:"y_tema7",text:"I hvilke grad sikres rekkeflgekrav for etablering av eventuelle terrengbuffere og andre tiltak som er ment  forhindre negative konsekvenser p omkringliggende omrder?"},{id:"y_q62",theme:"y_tema7",text:"I hvilke grad sikres andre ndvendige rekkeflgekrav for prosjektet?"},{id:"y_q63",theme:"y_tema8",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  kunne sette gode rekkeflgekrav?"},{id:"y_q64",theme:"y_tema8",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  oppn tilstrekkelig sikkerhet for planomrdet og omkringliggende omrder?"},{id:"y_q65",theme:"y_tema8",text:"Foreligger det et ndvendig kunnskapsgrunnlag for  kunne vurdere og ivareta natur-, kultur-, og miljinteresser?"},{id:"y_q66",theme:"y_tema8",text:"I hvilke grad er plankart tilstrekkelig detaljert for  sikre planens intensjoner og kvaliteter?"},{id:"y_q67",theme:"y_tema8",text:"I hvilke grad er bestemmelser i ndvendig grad konkrete og i ndvendig grad dekkende for  sikre planens intensjoner og kvaliteter?"},{id:"y_q68",theme:"y_tema8",text:"Foreligger det tilstrekkelig gode illustrasjoner og snitt som viser dagens terreng, terreng etter uttak og terreng ved etterbruk?"},{id:"y_q69",theme:"y_tema8",text:"Er det i stor grad samsvar mellom ikke juridiske og juridisk bindende dokumenter?"}],a4={y_q1:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q2:{Lav:.6,Normal:1.1,Hy:1.5,"Ikke aktuelt":1},y_q3:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},y_q4:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},y_q5:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q6:{Lav:.6,Normal:.8,Hy:1.2,"Ikke aktuelt":1},y_q7:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},y_q8:{Lav:.5,Normal:1,Hy:1.3,"Ikke aktuelt":1},y_q9:{Lav:.4,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q10:{Lav:.6,Normal:.8,Hy:1.2,"Ikke aktuelt":1},y_q11:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q12:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},y_q13:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},y_q14:{Lav:.4,Normal:1,Hy:1.5,"Ikke aktuelt":1},y_q15:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q18:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q19:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q20:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q21:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q22:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q23:{Lav:.6,Normal:1,Hy:1.3,"Ikke aktuelt":1},y_q24:{Lav:.6,Normal:.8,Hy:1.2,"Ikke aktuelt":1},y_q25:{Lav:.4,Normal:.6,Hy:.8,"Ikke aktuelt":1},y_q26:{Lav:.8,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q27:{Lav:.4,Normal:1,Hy:1.3,"Ikke aktuelt":1},y_q28:{Lav:1,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q29:{Lav:.5,Normal:1,Hy:1.5,"Ikke aktuelt":1},y_q30:{Lav:.7,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},y_q31:{Lav:.7,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q32:{Lav:1,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q33:{Lav:.5,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q34:{Lav:.4,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q35:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q36:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q37:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q38:{Lav:.6,Normal:.8,Hy:1.2,"Ikke aktuelt":1},y_q39:{Lav:.8,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q40:{Lav:1,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q41:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q42:{Lav:.5,Normal:1,Hy:1.6,"Ikke aktuelt":1},y_q43:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q44:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q45:{Lav:.8,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q46:{Lav:1,Normal:1.2,Hy:1.6,"Ikke aktuelt":1},y_q47:{Lav:.5,Normal:.8,Hy:1.2,"Ikke aktuelt":1},y_q48:{Lav:.5,Normal:.8,Hy:1.1,"Ikke aktuelt":1},y_q49:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q50:{Lav:.4,Normal:.7,Hy:1,"Ikke aktuelt":1},y_q51:{Lav:.4,Normal:.7,Hy:1,"Ikke aktuelt":1},y_q52:{Lav:.4,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q53:{Lav:.4,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q54:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q55:{Lav:.7,Normal:1,Hy:1.3,"Ikke aktuelt":1},y_q56:{Lav:.7,Normal:1,Hy:1.5,"Ikke aktuelt":1},y_q57:{Lav:.8,Normal:1,Hy:1.3,"Ikke aktuelt":1},y_q58:{Lav:.8,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q59:{Lav:.8,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},y_q60:{Lav:.8,Normal:1.1,Hy:1.4,"Ikke aktuelt":1},y_q61:{Lav:.6,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q62:{Lav:.6,Normal:1,Hy:1.4,"Ikke aktuelt":1},y_q63:{Lav:.8,Normal:1,Hy:1.2,"Ikke aktuelt":1},y_q64:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q65:{Lav:1,Normal:1.4,Hy:1.8,"Ikke aktuelt":1},y_q66:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q67:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q68:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1},y_q69:{Lav:1,Normal:1.2,Hy:1.4,"Ikke aktuelt":1}},s4=Object.freeze(Object.defineProperty({__proto__:null,questionMultipliers:a4,questions:r4,themes:i4},Symbol.toStringTag,{value:"Module"}));console.log("MainContent.jsx file is loaded in the bundle");const R1={default:QO,planIn1:ZO,form2:n4,planIn2:s4},o4=({updateTotalScore:r,selectedForm:e,userId:n})=>{const[a,o]=G1(),u=R1[e]||R1.default,f=u.questionMultipliers||u.t_questionMultipliers||u.r_questionMultipliers||u.y_questionMultipliers||u.b_questionMultipliers||{},{questions:m,themes:g}=z.useMemo(()=>{const{questions:A=[],themes:N=[]}=u;return{questions:A,themes:N}},[u]),[p,E]=z.useState({}),[k,b]=z.useState({}),[M,G]=z.useState(""),Y=a.get("instanceId")||null;z.useEffect(()=>{const A={};g.forEach(N=>A[N.id]=!0),b(A),E({}),G("")},[e,g]);const F=z.useCallback((A,N,I)=>{const pe=`${e}_${A}`;E(Ce=>({...Ce,[pe]:{score:N,answered:I}}))},[e]),ne=A=>p[`${e}_${A}`],re=A=>{const N=m.filter(K=>K.theme===A);let I=0,pe=0;if(N.forEach(K=>{const ae=ne(K.id);ae&&ae.answered&&(I+=ae.score,pe++)}),pe<3)return null;const Ce=I/pe;return parseFloat(Math.max(-5,Math.min(Ce,5)).toFixed(2))},te=z.useMemo(()=>{const A={};return g.forEach(N=>{A[N.id]=re(N.id)}),A},[p,g]);z.useEffect(()=>{b(A=>{const N={...A};return g.forEach(pe=>{te[pe.id]===null?N[pe.id]=!1:pe.id in N||(N[pe.id]=!0)}),Object.keys(N).length===Object.keys(A).length&&Object.keys(N).every(pe=>N[pe]===A[pe])?A:N})},[te,g]),z.useEffect(()=>{const A=g.filter(I=>k[I.id]).map(I=>te[I.id]).filter(I=>I!==null&&typeof I<"u");let N=0;A.length>0&&(N=A.reduce((I,pe)=>I+parseFloat(pe),0)/A.length),N=parseFloat(Math.max(-5,Math.min(N,5)).toFixed(2)),r(N)},[te,k,g,r]);const[_e,he]=z.useState({}),Re=A=>he(N=>({...N,[A]:!N[A]})),D=A=>b(N=>({...N,[A]:!N[A]}));z.useEffect(()=>{let A=!0;async function N(I){try{const pe=await yx(tg(ih,"forms",I));if(!pe.exists())return;const Ce=pe.data();if(Ce.formId&&Ce.formId!==e&&console.warn(`Instansen er laget med formId="${Ce.formId}", men n vises "${e}".`),!A)return;G(Ce.name||""),E(Ce.answers||{}),Ce.includeInTotal&&b(K=>({...K,...Ce.includeInTotal}))}catch(pe){console.error("Kunne ikke laste instans:",pe)}}return Y&&N(Y),()=>{A=!1}},[Y,e]);const w=async(A=!1)=>{try{if(!n){alert("Du m vre logget inn for  lagre.");return}const N=!Y||A,I={name:M||"Uten navn",answers:p,includeInTotal:k,updatedAt:_1()};if(N){const pe={...I,userId:n,formId:e,createdAt:_1()};A&&(pe.name=`${pe.name} (kopi)`);const Ce=await vx(fk(ih,"forms"),pe);o({instanceId:Ce.id}),alert(A?"Kopi lagret ":"Skjema lagret ")}else await _x(tg(ih,"forms",Y),I,{merge:!0}),alert("Endringer lagret ")}catch(N){console.error("Feil ved lagring:",N),alert((N==null?void 0:N.code)==="permission-denied"?"Manglende rettigheter. Sjekk Firestore-reglene og at du er logget inn.":`Klarte ikke lagre${A?" kopi":""}. Se konsoll for detaljer.`)}},R=()=>w(!1),L=()=>w(!0);return J.jsxs("main",{children:[J.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",padding:"8px 0 16px",borderBottom:"1px solid #ddd",marginBottom:16},children:[J.jsx("input",{type:"text",placeholder:"Skjemanavn (f.eks. Felt A  hst 2025)",value:M,onChange:A=>G(A.target.value),style:{flex:1,padding:"8px 10px",border:"1px solid #ccc",borderRadius:6}}),J.jsx("button",{onClick:R,disabled:!n,children:"Lagre"}),J.jsx("button",{onClick:L,disabled:!n,children:"Lagre som kopi"}),J.jsxs("span",{style:{color:"#666",fontSize:12},children:["ID: ",Y||"nytt (ikke lagret)"," ",n?"":"  (ikke innlogget)"]})]}),g.map(A=>{const N=te[A.id],I=!!k[A.id];return J.jsxs("div",{className:"tema",children:[J.jsxs("div",{className:"tema-header",children:[J.jsx("button",{className:"collapse-button",onClick:()=>Re(A.id),children:_e[A.id]?"+":"-"}),J.jsx("h2",{children:A.title}),J.jsx("div",{className:"temascore-display",children:N!==null&&typeof N<"u"&&J.jsxs("span",{children:["Verdi: ",N.toFixed(2)]})}),J.jsxs("label",{className:"toggle-switch",htmlFor:`toggle-${A.id}`,style:{marginLeft:"10px"},children:[J.jsx("input",{id:`toggle-${A.id}`,type:"checkbox",checked:I,onChange:()=>D(A.id),disabled:N===null}),J.jsx("span",{className:"slider"})]})]}),J.jsx("div",{className:"content-section",style:{display:_e[A.id]?"none":"block"},children:m.filter(pe=>pe.theme===A.id).map(pe=>J.jsx(FO,{question:pe,updateQuestionScore:F,questionMultipliers:f,storedAnswer:ne(pe.id)},pe.id))})]},A.id)})]})},l4=({totalScore:r})=>{const[e,n]=z.useState(!1);return J.jsxs("footer",{className:"footer-container",children:[J.jsx("div",{className:"footer-toggle",children:J.jsx("button",{onClick:()=>n(!e),children:e?"Expand Footer":"Collapse Footer"})}),!e&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"footer-row",children:[J.jsx("button",{className:"footer-box export-pdf"}),J.jsx("div",{className:"footer-box planinitiatv",children:"Planinitiativ - x,xx"}),J.jsx("div",{className:"footer-box horingsinnpill",children:"Hringsinnspill - x,xx"}),J.jsxs("div",{className:"footer-box totalverdi",children:["Totalverdi: ",J.jsx("span",{children:r})]})]}),J.jsxs("div",{className:"footer-row",children:[J.jsx("button",{className:"footer-box export-word"}),J.jsx("div",{className:"footer-box forstegangsbehandling",children:"Frstegangsbehandling - x,xx"}),J.jsx("div",{className:"footer-box sluttbehandling",children:"Sluttbehandling - x,xx"}),J.jsx("button",{className:"footer-box import-sosi"})]})]})]})},u4=()=>{const{login:r}=Zh(),e=su(),[n,a]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(!1),g=async p=>{p.preventDefault(),m(!0);try{await r(n,o),e("/")}catch(E){alert(`Login error: ${(E==null?void 0:E.message)||E}`)}finally{m(!1)}};return J.jsxs("div",{className:"login-container",style:{padding:24},children:[J.jsx("h2",{children:"Login"}),J.jsxs("form",{onSubmit:g,style:{maxWidth:360},children:[J.jsxs("div",{style:{marginBottom:12},children:[J.jsx("label",{children:"Email:"}),J.jsx("input",{type:"email",value:n,autoComplete:"username",onChange:p=>a(p.target.value),required:!0,style:{width:"100%",padding:8}})]}),J.jsxs("div",{style:{marginBottom:12},children:[J.jsx("label",{children:"Password:"}),J.jsx("input",{type:"password",value:o,autoComplete:"current-password",onChange:p=>u(p.target.value),required:!0,style:{width:"100%",padding:8}})]}),J.jsx("button",{type:"submit",disabled:f,children:f?"Logger inn":"Login"})]})]})};function c4(){const[r,e]=z.useState(0),[n,a]=z.useState("default"),{user:o}=Zh();return J.jsxs(J.Fragment,{children:[J.jsx(jO,{}),J.jsxs("div",{className:"content-wrapper",children:[J.jsx(BO,{selectedForm:n,onSelectForm:a,userId:o==null?void 0:o.uid}),J.jsx(o4,{updateTotalScore:e,selectedForm:n,userId:o==null?void 0:o.uid})]}),J.jsx(l4,{totalScore:r})]})}function h4(){return J.jsx($k,{children:J.jsx(QA,{children:J.jsxs(bA,{children:[J.jsx(Fc,{path:"/",element:J.jsx(Xk,{children:J.jsx(c4,{})})}),J.jsx(Fc,{path:"/login",element:J.jsx(u4,{})}),J.jsx(Fc,{path:"*",element:J.jsx(q1,{to:"/",replace:!0})})]})})})}Mb.createRoot(document.getElementById("root")).render(J.jsx(z.StrictMode,{children:J.jsx(h4,{})}));
